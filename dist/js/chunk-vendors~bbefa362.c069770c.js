(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~bbefa362"],{1691:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Eo}));var i=n("3b73"),r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},o=function(t){return t&&t.Math==Math&&t},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r&&r)||function(){return this}()||Function("return this")(),a={},c=function(t){try{return!!t()}catch(e){return!0}},l=c,u=!l((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),d=c,h=!d((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),f=h,p=Function.prototype.call,m=f?p.bind(p):function(){return p.apply(p,arguments)},v={},g={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,y=b&&!g.call({1:2},1);v.f=y?function(t){var e=b(this,t);return!!e&&e.enumerable}:g;var j,w,O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=h,x=Function.prototype,S=x.bind,C=x.call,A=M&&S.bind(C,C),k=M?function(t){return t&&A(t)}:function(t){return t&&function(){return C.apply(t,arguments)}},L=k,N=L({}.toString),I=L("".slice),E=function(t){return I(N(t),8,-1)},_=k,P=c,R=E,T=Object,D=_("".split),W=P((function(){return!T("z").propertyIsEnumerable(0)}))?function(t){return"String"==R(t)?D(t,""):T(t)}:T,B=TypeError,H=function(t){if(void 0==t)throw B("Can't call method on "+t);return t},F=W,Z=H,z=function(t){return F(Z(t))},U=function(t){return"function"==typeof t},q=U,K=function(t){return"object"==typeof t?null!==t:q(t)},G=s,V=U,Y=function(t){return V(t)?t:void 0},Q=function(t,e){return arguments.length<2?Y(G[t]):G[t]&&G[t][e]},J=k,$=J({}.isPrototypeOf),X=Q,tt=X("navigator","userAgent")||"",et=s,nt=tt,it=et.process,rt=et.Deno,ot=it&&it.versions||rt&&rt.version,st=ot&&ot.v8;st&&(j=st.split("."),w=j[0]>0&&j[0]<4?1:+(j[0]+j[1])),!w&&nt&&(j=nt.match(/Edge\/(\d+)/),(!j||j[1]>=74)&&(j=nt.match(/Chrome\/(\d+)/),j&&(w=+j[1])));var at=w,ct=at,lt=c,ut=!!Object.getOwnPropertySymbols&&!lt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ct&&ct<41})),dt=ut,ht=dt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ft=Q,pt=U,mt=$,vt=ht,gt=Object,bt=vt?function(t){return"symbol"==typeof t}:function(t){var e=ft("Symbol");return pt(e)&&mt(e.prototype,gt(t))},yt=String,jt=function(t){try{return yt(t)}catch(e){return"Object"}},wt=U,Ot=jt,Mt=TypeError,xt=function(t){if(wt(t))return t;throw Mt(Ot(t)+" is not a function")},St=xt,Ct=function(t,e){var n=t[e];return null==n?void 0:St(n)},At=m,kt=U,Lt=K,Nt=TypeError,It=function(t,e){var n,i;if("string"===e&&kt(n=t.toString)&&!Lt(i=At(n,t)))return i;if(kt(n=t.valueOf)&&!Lt(i=At(n,t)))return i;if("string"!==e&&kt(n=t.toString)&&!Lt(i=At(n,t)))return i;throw Nt("Can't convert object to primitive value")},Et={exports:{}},_t=s,Pt=Object.defineProperty,Rt=function(t,e){try{Pt(_t,t,{value:e,configurable:!0,writable:!0})}catch(n){_t[t]=e}return e},Tt=s,Dt=Rt,Wt="__core-js_shared__",Bt=Tt[Wt]||Dt(Wt,{}),Ht=Bt,Ft=Ht;(Et.exports=function(t,e){return Ft[t]||(Ft[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Zt=H,zt=Object,Ut=function(t){return zt(Zt(t))},qt=k,Kt=Ut,Gt=qt({}.hasOwnProperty),Vt=Object.hasOwn||function(t,e){return Gt(Kt(t),e)},Yt=k,Qt=0,Jt=Math.random(),$t=Yt(1..toString),Xt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+$t(++Qt+Jt,36)},te=s,ee=Et.exports,ne=Vt,ie=Xt,re=ut,oe=ht,se=ee("wks"),ae=te.Symbol,ce=ae&&ae["for"],le=oe?ae:ae&&ae.withoutSetter||ie,ue=function(t){if(!ne(se,t)||!re&&"string"!=typeof se[t]){var e="Symbol."+t;re&&ne(ae,t)?se[t]=ae[t]:se[t]=oe&&ce?ce(e):le(e)}return se[t]},de=m,he=K,fe=bt,pe=Ct,me=It,ve=ue,ge=TypeError,be=ve("toPrimitive"),ye=function(t,e){if(!he(t)||fe(t))return t;var n,i=pe(t,be);if(i){if(void 0===e&&(e="default"),n=de(i,t,e),!he(n)||fe(n))return n;throw ge("Can't convert object to primitive value")}return void 0===e&&(e="number"),me(t,e)},je=ye,we=bt,Oe=function(t){var e=je(t,"string");return we(e)?e:e+""},Me=s,xe=K,Se=Me.document,Ce=xe(Se)&&xe(Se.createElement),Ae=function(t){return Ce?Se.createElement(t):{}},ke=u,Le=c,Ne=Ae,Ie=!ke&&!Le((function(){return 7!=Object.defineProperty(Ne("div"),"a",{get:function(){return 7}}).a})),Ee=u,_e=m,Pe=v,Re=O,Te=z,De=Oe,We=Vt,Be=Ie,He=Object.getOwnPropertyDescriptor;a.f=Ee?He:function(t,e){if(t=Te(t),e=De(e),Be)try{return He(t,e)}catch(n){}if(We(t,e))return Re(!_e(Pe.f,t,e),t[e])};var Fe={},Ze=u,ze=c,Ue=Ze&&ze((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),qe=K,Ke=String,Ge=TypeError,Ve=function(t){if(qe(t))return t;throw Ge(Ke(t)+" is not an object")},Ye=u,Qe=Ie,Je=Ue,$e=Ve,Xe=Oe,tn=TypeError,en=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,rn="enumerable",on="configurable",sn="writable";Fe.f=Ye?Je?function(t,e,n){if($e(t),e=Xe(e),$e(n),"function"===typeof t&&"prototype"===e&&"value"in n&&sn in n&&!n[sn]){var i=nn(t,e);i&&i[sn]&&(t[e]=n.value,n={configurable:on in n?n[on]:i[on],enumerable:rn in n?n[rn]:i[rn],writable:!1})}return en(t,e,n)}:en:function(t,e,n){if($e(t),e=Xe(e),$e(n),Qe)try{return en(t,e,n)}catch(i){}if("get"in n||"set"in n)throw tn("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var an=u,cn=Fe,ln=O,un=an?function(t,e,n){return cn.f(t,e,ln(1,n))}:function(t,e,n){return t[e]=n,t},dn={exports:{}},hn=u,fn=Vt,pn=Function.prototype,mn=hn&&Object.getOwnPropertyDescriptor,vn=fn(pn,"name"),gn=vn&&"something"===function(){}.name,bn=vn&&(!hn||hn&&mn(pn,"name").configurable),yn={EXISTS:vn,PROPER:gn,CONFIGURABLE:bn},jn=k,wn=U,On=Ht,Mn=jn(Function.toString);wn(On.inspectSource)||(On.inspectSource=function(t){return Mn(t)});var xn,Sn,Cn,An=On.inspectSource,kn=s,Ln=U,Nn=An,In=kn.WeakMap,En=Ln(In)&&/native code/.test(Nn(In)),_n=Et.exports,Pn=Xt,Rn=_n("keys"),Tn=function(t){return Rn[t]||(Rn[t]=Pn(t))},Dn={},Wn=En,Bn=s,Hn=k,Fn=K,Zn=un,zn=Vt,Un=Ht,qn=Tn,Kn=Dn,Gn="Object already initialized",Vn=Bn.TypeError,Yn=Bn.WeakMap,Qn=function(t){return Cn(t)?Sn(t):xn(t,{})},Jn=function(t){return function(e){var n;if(!Fn(e)||(n=Sn(e)).type!==t)throw Vn("Incompatible receiver, "+t+" required");return n}};if(Wn||Un.state){var $n=Un.state||(Un.state=new Yn),Xn=Hn($n.get),ti=Hn($n.has),ei=Hn($n.set);xn=function(t,e){if(ti($n,t))throw new Vn(Gn);return e.facade=t,ei($n,t,e),e},Sn=function(t){return Xn($n,t)||{}},Cn=function(t){return ti($n,t)}}else{var ni=qn("state");Kn[ni]=!0,xn=function(t,e){if(zn(t,ni))throw new Vn(Gn);return e.facade=t,Zn(t,ni,e),e},Sn=function(t){return zn(t,ni)?t[ni]:{}},Cn=function(t){return zn(t,ni)}}var ii={set:xn,get:Sn,has:Cn,enforce:Qn,getterFor:Jn},ri=c,oi=U,si=Vt,ai=u,ci=yn.CONFIGURABLE,li=An,ui=ii,di=ui.enforce,hi=ui.get,fi=Object.defineProperty,pi=ai&&!ri((function(){return 8!==fi((function(){}),"length",{value:8}).length})),mi=String(String).split("String"),vi=dn.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!si(t,"name")||ci&&t.name!==e)&&(ai?fi(t,"name",{value:e,configurable:!0}):t.name=e),pi&&n&&si(n,"arity")&&t.length!==n.arity&&fi(t,"length",{value:n.arity});try{n&&si(n,"constructor")&&n.constructor?ai&&fi(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=di(t);return si(i,"source")||(i.source=mi.join("string"==typeof e?e:"")),t};Function.prototype.toString=vi((function(){return oi(this)&&hi(this).source||li(this)}),"toString");var gi=U,bi=Fe,yi=dn.exports,ji=Rt,wi=function(t,e,n,i){i||(i={});var r=i.enumerable,o=void 0!==i.name?i.name:e;if(gi(n)&&yi(n,o,i),i.global)r?t[e]=n:ji(e,n);else{try{i.unsafe?t[e]&&(r=!0):delete t[e]}catch(s){}r?t[e]=n:bi.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t},Oi={},Mi=Math.ceil,xi=Math.floor,Si=Math.trunc||function(t){var e=+t;return(e>0?xi:Mi)(e)},Ci=Si,Ai=function(t){var e=+t;return e!==e||0===e?0:Ci(e)},ki=Ai,Li=Math.max,Ni=Math.min,Ii=function(t,e){var n=ki(t);return n<0?Li(n+e,0):Ni(n,e)},Ei=Ai,_i=Math.min,Pi=function(t){return t>0?_i(Ei(t),9007199254740991):0},Ri=Pi,Ti=function(t){return Ri(t.length)},Di=z,Wi=Ii,Bi=Ti,Hi=function(t){return function(e,n,i){var r,o=Di(e),s=Bi(o),a=Wi(i,s);if(t&&n!=n){while(s>a)if(r=o[a++],r!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Fi={includes:Hi(!0),indexOf:Hi(!1)},Zi=k,zi=Vt,Ui=z,qi=Fi.indexOf,Ki=Dn,Gi=Zi([].push),Vi=function(t,e){var n,i=Ui(t),r=0,o=[];for(n in i)!zi(Ki,n)&&zi(i,n)&&Gi(o,n);while(e.length>r)zi(i,n=e[r++])&&(~qi(o,n)||Gi(o,n));return o},Yi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Qi=Vi,Ji=Yi,$i=Ji.concat("length","prototype");Oi.f=Object.getOwnPropertyNames||function(t){return Qi(t,$i)};var Xi={};Xi.f=Object.getOwnPropertySymbols;var tr=Q,er=k,nr=Oi,ir=Xi,rr=Ve,or=er([].concat),sr=tr("Reflect","ownKeys")||function(t){var e=nr.f(rr(t)),n=ir.f;return n?or(e,n(t)):e},ar=Vt,cr=sr,lr=a,ur=Fe,dr=function(t,e,n){for(var i=cr(e),r=ur.f,o=lr.f,s=0;s<i.length;s++){var a=i[s];ar(t,a)||n&&ar(n,a)||r(t,a,o(e,a))}},hr=c,fr=U,pr=/#|\.prototype\./,mr=function(t,e){var n=gr[vr(t)];return n==yr||n!=br&&(fr(e)?hr(e):!!e)},vr=mr.normalize=function(t){return String(t).replace(pr,".").toLowerCase()},gr=mr.data={},br=mr.NATIVE="N",yr=mr.POLYFILL="P",jr=mr,wr=s,Or=a.f,Mr=un,xr=wi,Sr=Rt,Cr=dr,Ar=jr,kr=function(t,e){var n,i,r,o,s,a,c=t.target,l=t.global,u=t.stat;if(i=l?wr:u?wr[c]||Sr(c,{}):(wr[c]||{}).prototype,i)for(r in e){if(s=e[r],t.dontCallGetSet?(a=Or(i,r),o=a&&a.value):o=i[r],n=Ar(l?r:c+(u?".":"#")+r,t.forced),!n&&void 0!==o){if(typeof s==typeof o)continue;Cr(s,o)}(t.sham||o&&o.sham)&&Mr(s,"sham",!0),xr(i,r,s,t)}},Lr=Vi,Nr=Yi,Ir=Object.keys||function(t){return Lr(t,Nr)},Er=u,_r=k,Pr=m,Rr=c,Tr=Ir,Dr=Xi,Wr=v,Br=Ut,Hr=W,Fr=Object.assign,Zr=Object.defineProperty,zr=_r([].concat),Ur=!Fr||Rr((function(){if(Er&&1!==Fr({b:1},Fr(Zr({},"a",{enumerable:!0,get:function(){Zr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=Fr({},t)[n]||Tr(Fr({},e)).join("")!=i}))?function(t,e){var n=Br(t),i=arguments.length,r=1,o=Dr.f,s=Wr.f;while(i>r){var a,c=Hr(arguments[r++]),l=o?zr(Tr(c),o(c)):Tr(c),u=l.length,d=0;while(u>d)a=l[d++],Er&&!Pr(s,c,a)||(n[a]=c[a])}return n}:Fr,qr=kr,Kr=Ur;function Gr(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))}qr({target:"Object",stat:!0,arity:2,forced:Object.assign!==Kr},{assign:Kr}),"function"===typeof SuppressedError&&SuppressedError;var Vr=ue,Yr=Vr("toStringTag"),Qr={};Qr[Yr]="z";var Jr="[object z]"===String(Qr),$r=Jr,Xr=U,to=E,eo=ue,no=eo("toStringTag"),io=Object,ro="Arguments"==to(function(){return arguments}()),oo=function(t,e){try{return t[e]}catch(n){}},so=$r?to:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=oo(e=io(t),no))?n:ro?to(e):"Object"==(i=to(e))&&Xr(e.callee)?"Arguments":i},ao=so,co=String,lo=function(t){if("Symbol"===ao(t))throw TypeError("Cannot convert a Symbol value to a string");return co(t)},uo=Ve,ho=function(){var t=uo(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},fo=m,po=Vt,mo=$,vo=ho,go=RegExp.prototype,bo=function(t){var e=t.flags;return void 0!==e||"flags"in go||po(t,"flags")||!mo(go,t)?e:fo(vo,t)},yo=yn.PROPER,jo=wi,wo=Ve,Oo=lo,Mo=c,xo=bo,So="toString",Co=RegExp.prototype,Ao=Co[So],ko=Mo((function(){return"/a/b"!=Ao.call({source:"a",flags:"b"})})),Lo=yo&&Ao.name!=So;(ko||Lo)&&jo(RegExp.prototype,So,(function(){var t=wo(this),e=Oo(t.source),n=Oo(xo(t));return"/"+e+"/"+n}),{unsafe:!0});const No=t=>Gr(void 0,void 0,void 0,(function*(){const{store:e,logger:n,emitter:r,options:o,defaultProvider:s,defaultStrategy:a}=t,c=new i["HereWallet"]({networkId:o.network.networkId,nodeUrl:o.network.nodeUrl,defaultProvider:s,defaultStrategy:a});function l(){return Gr(this,void 0,void 0,(function*(){n.log("HereWallet:getAccounts");const t=yield c.getAccounts(),e=[];for(let n=0;n<t.length;n++)e.push({accountId:t[n],publicKey:(yield c.signer.getPublicKey(t[n],o.network.networkId)).toString()});return e}))}return{get networkId(){return c.networkId},buildImportAccountsUrl(){return"https://my.herewallet.app/import?network="+o.network.networkId},account(t){return Gr(this,void 0,void 0,(function*(){return n.log("HereWallet:account"),yield c.account(t)}))},switchAccount(t){return Gr(this,void 0,void 0,(function*(){n.log("HereWallet:switchAccount"),yield c.switchAccount(t)}))},getAccountId(){return Gr(this,void 0,void 0,(function*(){return n.log("HereWallet:getAccountId"),yield c.getAccountId()}))},isSignedIn(){return Gr(this,void 0,void 0,(function*(){return n.log("HereWallet:isSignedIn"),yield c.isSignedIn()}))},signIn(t){var e;return Gr(this,void 0,void 0,(function*(){n.log("HereWallet:signIn");const i=""!==t.contractId?t.contractId:void 0;return yield c.signIn(Object.assign(Object.assign({},t),{contractId:i})),r.emit("signedIn",{contractId:t.contractId,methodNames:null!==(e=t.methodNames)&&void 0!==e?e:[],accounts:yield l()}),yield l()}))},getHereBalance(){return Gr(this,void 0,void 0,(function*(){return n.log("HereWallet:getHereBalance"),yield c.getHereBalance()}))},getAvailableBalance(){return Gr(this,void 0,void 0,(function*(){return n.log("HereWallet:getAvailableBalance"),yield c.getAvailableBalance()}))},signOut(){return Gr(this,void 0,void 0,(function*(){n.log("HereWallet:signOut"),yield c.signOut()}))},getAccounts(){return Gr(this,void 0,void 0,(function*(){return l()}))},signAndSendTransaction(t){return Gr(this,void 0,void 0,(function*(){n.log("HereWallet:signAndSendTransaction",t);const{contract:i}=e.getState();if(!c.isSignedIn||!i)throw new Error("Wallet not signed in");return yield c.signAndSendTransaction(Object.assign({receiverId:i.contractId},t))}))},verifyOwner(){return Gr(this,void 0,void 0,(function*(){throw Error("HereWallet:verifyOwner is deprecated, use signMessage method with impletementation NEP0413 Standart")}))},signMessage(t){return Gr(this,void 0,void 0,(function*(){return n.log("HereWallet:signMessage",t),yield c.signMessage(t)}))},signAndSendTransactions(t){return Gr(this,void 0,void 0,(function*(){return n.log("HereWallet:signAndSendTransactions",t),yield c.signAndSendTransactions(t)}))}}}));var Io="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS43MzM1IDExLjY4MzFMMjEuNzA4OSA4TDI0LjI5ODMgMTYuNjc2NkwyMC40MTYgMTQuOTIxNUwxOS43MzM1IDExLjY4MzFaTTUuNzYzODggMTUuNTQwOUwzLjc1NTYyIDE5LjE2MjFMOS44OTYwNSAyMi4xNjYxTDE4LjM0NzMgMjEuNTgyOEw1Ljc2Mzg4IDE1LjU0MDlaTTQuNjQ0NjQgMjIuMzY5NEwyLjY0ODY1IDI1Ljk3MTNMMTQuOTA4MyAzMi4wNTc1TDM1LjMzODggMzAuODE3NEwzNy4zMzQ4IDI3LjIxNTRMMTYuOTA0MyAyOC40NTU3TDQuNjQ0NjQgMjIuMzY5NFoiIGZpbGw9IiMyQzMwMzQiLz4KPHBhdGggZD0iTTM3LjMzNTkgMjcuMjE1N0wxNi45MTEyIDI4LjQ1NjFMNC41NDYzMyAyMi4zNTU0TDE3LjkzNTggMjEuNTQ1M0w1Ljc2Mzg3IDE1LjU0MDlMMTEuNzQxIDEwLjQ3ODZMMjQuMTQwMSAxNi41NzYzTDIxLjcwOSA4TDMzLjU1NyAxMy44MUwzNy4zMzU5IDI3LjIxNTdaIiBmaWxsPSIjRkRCRjFDIi8+Cjwvc3ZnPgo=";function Eo({deprecated:t=!1,iconUrl:e=Io,defaultStrategy:n,defaultProvider:i}={}){return()=>Gr(this,void 0,void 0,(function*(){return{id:"here-wallet",type:"injected",metadata:{name:"Here Wallet",description:"Mobile wallet for NEAR Protocol",useUrlAccountImport:!0,downloadUrl:"https://herewallet.app",iconUrl:e,deprecated:t,available:!0},init:t=>No(Object.assign(Object.assign({},t),{defaultStrategy:n,defaultProvider:i}))}}))}}).call(this,n("c8ba"))},"35b3":function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.HereKeyStore=void 0;const r=n("5ac4"),o=n("3eb9");class s{constructor(t=new o.StateStorage){this.storage=t}setActiveAccount(t,e){return i(this,void 0,void 0,(function*(){const n=yield this.storage.getState(t);n.activeAccount=e,this.storage.setState(t,n)}))}setKey(t,e,n){return i(this,void 0,void 0,(function*(){const i=yield this.storage.getState(t);i.accounts[e]=n.toString(),this.storage.setState(t,i)}))}getAccounts(t){return i(this,void 0,void 0,(function*(){const e=yield this.storage.getState(t);return Object.keys(e.accounts)}))}getActiveAccount(t){return i(this,void 0,void 0,(function*(){const e=yield this.storage.getState(t);return e.activeAccount}))}getKey(t,e){return i(this,void 0,void 0,(function*(){const n=yield this.storage.getState(t),i=n.accounts[e];if(null==i)throw Error(`For ${e} in ${t} network key not found`);const o=r.KeyPair.fromString(i);return o}))}removeKey(t,e){return i(this,void 0,void 0,(function*(){let n=yield this.storage.getState(t);n.activeAccount===e&&(n.activeAccount=null),delete n.accounts[e],this.storage.setState(t,n)}))}getNetworks(){return i(this,void 0,void 0,(function*(){let t=yield this.storage.getFullState();return Object.keys(t.accounts)}))}clear(){return i(this,void 0,void 0,(function*(){yield this.storage.clear()}))}}e.HereKeyStore=s},3988:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HereProviderError=e.HereProviderStatus=void 0,function(t){t[t["APPROVING"]=1]="APPROVING",t[t["FAILED"]=2]="FAILED",t[t["SUCCESS"]=3]="SUCCESS"}(e.HereProviderStatus||(e.HereProviderStatus={}));class i extends Error{constructor(t,e){super(null!==t&&void 0!==t?t:null===e||void 0===e?void 0:e.message),this.payload=t,this.parentError=e}}e.HereProviderError=i},"3b73":function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.HereWallet=void 0;var o=n("7b9c");Object.defineProperty(e,"HereWallet",{enumerable:!0,get:function(){return o.HereWallet}}),r(n("9679"),e),r(n("35b3"),e),r(n("3eb9"),e),r(n("a9a7"),e),r(n("5be1"),e),r(n("fb1c"),e),r(n("3988"),e),r(n("e712"),e),r(n("b427"),e),r(n("8e29"),e)},"3eb9":function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.StateStorage=void 0;class r{constructor(){this.dataKey="herewallet:keystore"}setState(t,e){return i(this,void 0,void 0,(function*(){const n=yield this.getFullState();n[t]=e,window.localStorage.setItem(this.dataKey,JSON.stringify(n))}))}getFullState(){return i(this,void 0,void 0,(function*(){try{return JSON.parse(window.localStorage.getItem(this.dataKey))||{}}catch(t){return{}}}))}getState(t){return i(this,void 0,void 0,(function*(){const e=yield this.getFullState();return e[t]||{activeAccount:null,accounts:{}}}))}clear(){return i(this,void 0,void 0,(function*(){window.localStorage.removeItem(this.dataKey)}))}}e.StateStorage=r},"4dd9":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Um}));var i=n("9ca5"),r=n("11b1"),o=n("ab5b"),s=n.n(o),a=n("83be"),c=n("d055"),l=n.n(c),u=n("f904"),d=n.n(u),h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},f=function(t){try{return!!t()}catch(e){return!0}},p=f,m=!p((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),v=m,g=Function.prototype,b=g.bind,y=g.call,j=v&&b.bind(y,y),w=v?function(t){return t&&j(t)}:function(t){return t&&function(){return y.apply(t,arguments)}},O=w,M=O({}.toString),x=O("".slice),S=function(t){return x(M(t),8,-1)},C=w,A=f,k=S,L=Object,N=C("".split),I=A((function(){return!L("z").propertyIsEnumerable(0)}))?function(t){return"String"==k(t)?N(t,""):L(t)}:L,E=TypeError,_=function(t){if(void 0==t)throw E("Can't call method on "+t);return t},P=I,R=_,T=function(t){return P(R(t))},D=function(t){return t&&t.Math==Math&&t},W=D("object"==typeof globalThis&&globalThis)||D("object"==typeof window&&window)||D("object"==typeof self&&self)||D("object"==typeof h&&h)||function(){return this}()||Function("return this")(),B={exports:{}},H=W,F=Object.defineProperty,Z=function(t,e){try{F(H,t,{value:e,configurable:!0,writable:!0})}catch(n){H[t]=e}return e},z=W,U=Z,q="__core-js_shared__",K=z[q]||U(q,{}),G=K,V=G;(B.exports=function(t,e){return V[t]||(V[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Y,Q,J=_,$=Object,X=function(t){return $(J(t))},tt=w,et=X,nt=tt({}.hasOwnProperty),it=Object.hasOwn||function(t,e){return nt(et(t),e)},rt=w,ot=0,st=Math.random(),at=rt(1..toString),ct=function(t){return"Symbol("+(void 0===t?"":t)+")_"+at(++ot+st,36)},lt=function(t){return"function"==typeof t},ut=W,dt=lt,ht=function(t){return dt(t)?t:void 0},ft=function(t,e){return arguments.length<2?ht(ut[t]):ut[t]&&ut[t][e]},pt=ft,mt=pt("navigator","userAgent")||"",vt=W,gt=mt,bt=vt.process,yt=vt.Deno,jt=bt&&bt.versions||yt&&yt.version,wt=jt&&jt.v8;wt&&(Y=wt.split("."),Q=Y[0]>0&&Y[0]<4?1:+(Y[0]+Y[1])),!Q&&gt&&(Y=gt.match(/Edge\/(\d+)/),(!Y||Y[1]>=74)&&(Y=gt.match(/Chrome\/(\d+)/),Y&&(Q=+Y[1])));var Ot=Q,Mt=Ot,xt=f,St=!!Object.getOwnPropertySymbols&&!xt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Mt&&Mt<41})),Ct=St,At=Ct&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,kt=W,Lt=B.exports,Nt=it,It=ct,Et=St,_t=At,Pt=Lt("wks"),Rt=kt.Symbol,Tt=Rt&&Rt["for"],Dt=_t?Rt:Rt&&Rt.withoutSetter||It,Wt=function(t){if(!Nt(Pt,t)||!Et&&"string"!=typeof Pt[t]){var e="Symbol."+t;Et&&Nt(Rt,t)?Pt[t]=Rt[t]:Pt[t]=_t&&Tt?Tt(e):Dt(e)}return Pt[t]},Bt=lt,Ht=function(t){return"object"==typeof t?null!==t:Bt(t)},Ft=Ht,Zt=String,zt=TypeError,Ut=function(t){if(Ft(t))return t;throw zt(Zt(t)+" is not an object")},qt={},Kt=f,Gt=!Kt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Vt=Gt,Yt=f,Qt=Vt&&Yt((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Jt={},$t=W,Xt=Ht,te=$t.document,ee=Xt(te)&&Xt(te.createElement),ne=function(t){return ee?te.createElement(t):{}},ie=Gt,re=f,oe=ne,se=!ie&&!re((function(){return 7!=Object.defineProperty(oe("div"),"a",{get:function(){return 7}}).a})),ae=m,ce=Function.prototype.call,le=ae?ce.bind(ce):function(){return ce.apply(ce,arguments)},ue=w,de=ue({}.isPrototypeOf),he=ft,fe=lt,pe=de,me=At,ve=Object,ge=me?function(t){return"symbol"==typeof t}:function(t){var e=he("Symbol");return fe(e)&&pe(e.prototype,ve(t))},be=String,ye=function(t){try{return be(t)}catch(e){return"Object"}},je=lt,we=ye,Oe=TypeError,Me=function(t){if(je(t))return t;throw Oe(we(t)+" is not a function")},xe=Me,Se=function(t,e){var n=t[e];return null==n?void 0:xe(n)},Ce=le,Ae=lt,ke=Ht,Le=TypeError,Ne=function(t,e){var n,i;if("string"===e&&Ae(n=t.toString)&&!ke(i=Ce(n,t)))return i;if(Ae(n=t.valueOf)&&!ke(i=Ce(n,t)))return i;if("string"!==e&&Ae(n=t.toString)&&!ke(i=Ce(n,t)))return i;throw Le("Can't convert object to primitive value")},Ie=le,Ee=Ht,_e=ge,Pe=Se,Re=Ne,Te=Wt,De=TypeError,We=Te("toPrimitive"),Be=function(t,e){if(!Ee(t)||_e(t))return t;var n,i=Pe(t,We);if(i){if(void 0===e&&(e="default"),n=Ie(i,t,e),!Ee(n)||_e(n))return n;throw De("Can't convert object to primitive value")}return void 0===e&&(e="number"),Re(t,e)},He=Be,Fe=ge,Ze=function(t){var e=He(t,"string");return Fe(e)?e:e+""},ze=Gt,Ue=se,qe=Qt,Ke=Ut,Ge=Ze,Ve=TypeError,Ye=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,Je="enumerable",$e="configurable",Xe="writable";Jt.f=ze?qe?function(t,e,n){if(Ke(t),e=Ge(e),Ke(n),"function"===typeof t&&"prototype"===e&&"value"in n&&Xe in n&&!n[Xe]){var i=Qe(t,e);i&&i[Xe]&&(t[e]=n.value,n={configurable:$e in n?n[$e]:i[$e],enumerable:Je in n?n[Je]:i[Je],writable:!1})}return Ye(t,e,n)}:Ye:function(t,e,n){if(Ke(t),e=Ge(e),Ke(n),Ue)try{return Ye(t,e,n)}catch(i){}if("get"in n||"set"in n)throw Ve("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var tn=Math.ceil,en=Math.floor,nn=Math.trunc||function(t){var e=+t;return(e>0?en:tn)(e)},rn=nn,on=function(t){var e=+t;return e!==e||0===e?0:rn(e)},sn=on,an=Math.max,cn=Math.min,ln=function(t,e){var n=sn(t);return n<0?an(n+e,0):cn(n,e)},un=on,dn=Math.min,hn=function(t){return t>0?dn(un(t),9007199254740991):0},fn=hn,pn=function(t){return fn(t.length)},mn=T,vn=ln,gn=pn,bn=function(t){return function(e,n,i){var r,o=mn(e),s=gn(o),a=vn(i,s);if(t&&n!=n){while(s>a)if(r=o[a++],r!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},yn={includes:bn(!0),indexOf:bn(!1)},jn={},wn=w,On=it,Mn=T,xn=yn.indexOf,Sn=jn,Cn=wn([].push),An=function(t,e){var n,i=Mn(t),r=0,o=[];for(n in i)!On(Sn,n)&&On(i,n)&&Cn(o,n);while(e.length>r)On(i,n=e[r++])&&(~xn(o,n)||Cn(o,n));return o},kn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ln=An,Nn=kn,In=Object.keys||function(t){return Ln(t,Nn)},En=Gt,_n=Qt,Pn=Jt,Rn=Ut,Tn=T,Dn=In;qt.f=En&&!_n?Object.defineProperties:function(t,e){Rn(t);var n,i=Tn(e),r=Dn(e),o=r.length,s=0;while(o>s)Pn.f(t,n=r[s++],i[n]);return t};var Wn,Bn=ft,Hn=Bn("document","documentElement"),Fn=B.exports,Zn=ct,zn=Fn("keys"),Un=function(t){return zn[t]||(zn[t]=Zn(t))},qn=Ut,Kn=qt,Gn=kn,Vn=jn,Yn=Hn,Qn=ne,Jn=Un,$n=">",Xn="<",ti="prototype",ei="script",ni=Jn("IE_PROTO"),ii=function(){},ri=function(t){return Xn+ei+$n+t+Xn+"/"+ei+$n},oi=function(t){t.write(ri("")),t.close();var e=t.parentWindow.Object;return t=null,e},si=function(){var t,e=Qn("iframe"),n="java"+ei+":";return e.style.display="none",Yn.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(ri("document.F=Object")),t.close(),t.F},ai=function(){try{Wn=new ActiveXObject("htmlfile")}catch(e){}ai="undefined"!=typeof document?document.domain&&Wn?oi(Wn):si():oi(Wn);var t=Gn.length;while(t--)delete ai[ti][Gn[t]];return ai()};Vn[ni]=!0;var ci=Object.create||function(t,e){var n;return null!==t?(ii[ti]=qn(t),n=new ii,ii[ti]=null,n[ni]=t):n=ai(),void 0===e?n:Kn.f(n,e)},li=Wt,ui=ci,di=Jt.f,hi=li("unscopables"),fi=Array.prototype;void 0==fi[hi]&&di(fi,hi,{configurable:!0,value:ui(null)});var pi=function(t){fi[hi][t]=!0},mi={},vi=w,gi=lt,bi=G,yi=vi(Function.toString);gi(bi.inspectSource)||(bi.inspectSource=function(t){return yi(t)});var ji,wi,Oi,Mi=bi.inspectSource,xi=W,Si=lt,Ci=Mi,Ai=xi.WeakMap,ki=Si(Ai)&&/native code/.test(Ci(Ai)),Li=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Ni=Gt,Ii=Jt,Ei=Li,_i=Ni?function(t,e,n){return Ii.f(t,e,Ei(1,n))}:function(t,e,n){return t[e]=n,t},Pi=ki,Ri=W,Ti=w,Di=Ht,Wi=_i,Bi=it,Hi=G,Fi=Un,Zi=jn,zi="Object already initialized",Ui=Ri.TypeError,qi=Ri.WeakMap,Ki=function(t){return Oi(t)?wi(t):ji(t,{})},Gi=function(t){return function(e){var n;if(!Di(e)||(n=wi(e)).type!==t)throw Ui("Incompatible receiver, "+t+" required");return n}};if(Pi||Hi.state){var Vi=Hi.state||(Hi.state=new qi),Yi=Ti(Vi.get),Qi=Ti(Vi.has),Ji=Ti(Vi.set);ji=function(t,e){if(Qi(Vi,t))throw new Ui(zi);return e.facade=t,Ji(Vi,t,e),e},wi=function(t){return Yi(Vi,t)||{}},Oi=function(t){return Qi(Vi,t)}}else{var $i=Fi("state");Zi[$i]=!0,ji=function(t,e){if(Bi(t,$i))throw new Ui(zi);return e.facade=t,Wi(t,$i,e),e},wi=function(t){return Bi(t,$i)?t[$i]:{}},Oi=function(t){return Bi(t,$i)}}var Xi={set:ji,get:wi,has:Oi,enforce:Ki,getterFor:Gi},tr={},er={},nr={}.propertyIsEnumerable,ir=Object.getOwnPropertyDescriptor,rr=ir&&!nr.call({1:2},1);er.f=rr?function(t){var e=ir(this,t);return!!e&&e.enumerable}:nr;var or=Gt,sr=le,ar=er,cr=Li,lr=T,ur=Ze,dr=it,hr=se,fr=Object.getOwnPropertyDescriptor;tr.f=or?fr:function(t,e){if(t=lr(t),e=ur(e),hr)try{return fr(t,e)}catch(n){}if(dr(t,e))return cr(!sr(ar.f,t,e),t[e])};var pr={exports:{}},mr=Gt,vr=it,gr=Function.prototype,br=mr&&Object.getOwnPropertyDescriptor,yr=vr(gr,"name"),jr=yr&&"something"===function(){}.name,wr=yr&&(!mr||mr&&br(gr,"name").configurable),Or={EXISTS:yr,PROPER:jr,CONFIGURABLE:wr},Mr=f,xr=lt,Sr=it,Cr=Gt,Ar=Or.CONFIGURABLE,kr=Mi,Lr=Xi,Nr=Lr.enforce,Ir=Lr.get,Er=Object.defineProperty,_r=Cr&&!Mr((function(){return 8!==Er((function(){}),"length",{value:8}).length})),Pr=String(String).split("String"),Rr=pr.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Sr(t,"name")||Ar&&t.name!==e)&&(Cr?Er(t,"name",{value:e,configurable:!0}):t.name=e),_r&&n&&Sr(n,"arity")&&t.length!==n.arity&&Er(t,"length",{value:n.arity});try{n&&Sr(n,"constructor")&&n.constructor?Cr&&Er(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=Nr(t);return Sr(i,"source")||(i.source=Pr.join("string"==typeof e?e:"")),t};Function.prototype.toString=Rr((function(){return xr(this)&&Ir(this).source||kr(this)}),"toString");var Tr=lt,Dr=Jt,Wr=pr.exports,Br=Z,Hr=function(t,e,n,i){i||(i={});var r=i.enumerable,o=void 0!==i.name?i.name:e;if(Tr(n)&&Wr(n,o,i),i.global)r?t[e]=n:Br(e,n);else{try{i.unsafe?t[e]&&(r=!0):delete t[e]}catch(s){}r?t[e]=n:Dr.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t},Fr={},Zr=An,zr=kn,Ur=zr.concat("length","prototype");Fr.f=Object.getOwnPropertyNames||function(t){return Zr(t,Ur)};var qr={};qr.f=Object.getOwnPropertySymbols;var Kr,Gr,Vr,Yr=ft,Qr=w,Jr=Fr,$r=qr,Xr=Ut,to=Qr([].concat),eo=Yr("Reflect","ownKeys")||function(t){var e=Jr.f(Xr(t)),n=$r.f;return n?to(e,n(t)):e},no=it,io=eo,ro=tr,oo=Jt,so=function(t,e,n){for(var i=io(e),r=oo.f,o=ro.f,s=0;s<i.length;s++){var a=i[s];no(t,a)||n&&no(n,a)||r(t,a,o(e,a))}},ao=f,co=lt,lo=/#|\.prototype\./,uo=function(t,e){var n=fo[ho(t)];return n==mo||n!=po&&(co(e)?ao(e):!!e)},ho=uo.normalize=function(t){return String(t).replace(lo,".").toLowerCase()},fo=uo.data={},po=uo.NATIVE="N",mo=uo.POLYFILL="P",vo=uo,go=W,bo=tr.f,yo=_i,jo=Hr,wo=Z,Oo=so,Mo=vo,xo=function(t,e){var n,i,r,o,s,a,c=t.target,l=t.global,u=t.stat;if(i=l?go:u?go[c]||wo(c,{}):(go[c]||{}).prototype,i)for(r in e){if(s=e[r],t.dontCallGetSet?(a=bo(i,r),o=a&&a.value):o=i[r],n=Mo(l?r:c+(u?".":"#")+r,t.forced),!n&&void 0!==o){if(typeof s==typeof o)continue;Oo(s,o)}(t.sham||o&&o.sham)&&yo(s,"sham",!0),jo(i,r,s,t)}},So=f,Co=!So((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ao=it,ko=lt,Lo=X,No=Un,Io=Co,Eo=No("IE_PROTO"),_o=Object,Po=_o.prototype,Ro=Io?_o.getPrototypeOf:function(t){var e=Lo(t);if(Ao(e,Eo))return e[Eo];var n=e.constructor;return ko(n)&&e instanceof n?n.prototype:e instanceof _o?Po:null},To=f,Do=lt,Wo=Ro,Bo=Hr,Ho=Wt,Fo=Ho("iterator"),Zo=!1;[].keys&&(Vr=[].keys(),"next"in Vr?(Gr=Wo(Wo(Vr)),Gr!==Object.prototype&&(Kr=Gr)):Zo=!0);var zo=void 0==Kr||To((function(){var t={};return Kr[Fo].call(t)!==t}));zo&&(Kr={}),Do(Kr[Fo])||Bo(Kr,Fo,(function(){return this}));var Uo={IteratorPrototype:Kr,BUGGY_SAFARI_ITERATORS:Zo},qo=Jt.f,Ko=it,Go=Wt,Vo=Go("toStringTag"),Yo=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Ko(t,Vo)&&qo(t,Vo,{configurable:!0,value:e})},Qo=Uo.IteratorPrototype,Jo=ci,$o=Li,Xo=Yo,ts=mi,es=function(){return this},ns=function(t,e,n,i){var r=e+" Iterator";return t.prototype=Jo(Qo,{next:$o(+!i,n)}),Xo(t,r,!1),ts[r]=es,t},is=lt,rs=String,os=TypeError,ss=function(t){if("object"==typeof t||is(t))return t;throw os("Can't set "+rs(t)+" as a prototype")},as=w,cs=Ut,ls=ss,us=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=as(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return cs(n),ls(i),e?t(n,i):n.__proto__=i,n}}():void 0),ds=xo,hs=le,fs=Or,ps=lt,ms=ns,vs=Ro,gs=us,bs=Yo,ys=_i,js=Hr,ws=Wt,Os=mi,Ms=Uo,xs=fs.PROPER,Ss=fs.CONFIGURABLE,Cs=Ms.IteratorPrototype,As=Ms.BUGGY_SAFARI_ITERATORS,ks=ws("iterator"),Ls="keys",Ns="values",Is="entries",Es=function(){return this},_s=function(t,e,n,i,r,o,s){ms(n,e,i);var a,c,l,u=function(t){if(t===r&&m)return m;if(!As&&t in f)return f[t];switch(t){case Ls:return function(){return new n(this,t)};case Ns:return function(){return new n(this,t)};case Is:return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",h=!1,f=t.prototype,p=f[ks]||f["@@iterator"]||r&&f[r],m=!As&&p||u(r),v="Array"==e&&f.entries||p;if(v&&(a=vs(v.call(new t)),a!==Object.prototype&&a.next&&(vs(a)!==Cs&&(gs?gs(a,Cs):ps(a[ks])||js(a,ks,Es)),bs(a,d,!0))),xs&&r==Ns&&p&&p.name!==Ns&&(Ss?ys(f,"name",Ns):(h=!0,m=function(){return hs(p,this)})),r)if(c={values:u(Ns),keys:o?m:u(Ls),entries:u(Is)},s)for(l in c)(As||h||!(l in f))&&js(f,l,c[l]);else ds({target:e,proto:!0,forced:As||h},c);return f[ks]!==m&&js(f,ks,m,{name:r}),Os[e]=m,c},Ps=T,Rs=pi,Ts=mi,Ds=Xi,Ws=Jt.f,Bs=_s,Hs=Gt,Fs="Array Iterator",Zs=Ds.set,zs=Ds.getterFor(Fs),Us=Bs(Array,"Array",(function(t,e){Zs(this,{type:Fs,target:Ps(t),index:0,kind:e})}),(function(){var t=zs(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),qs=Ts.Arguments=Ts.Array;if(Rs("keys"),Rs("values"),Rs("entries"),Hs&&"values"!==qs.name)try{Ws(qs,"name",{value:"values"})}catch(qm){}var Ks={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Gs=ne,Vs=Gs("span").classList,Ys=Vs&&Vs.constructor&&Vs.constructor.prototype,Qs=Ys===Object.prototype?void 0:Ys,Js=W,$s=Ks,Xs=Qs,ta=Us,ea=_i,na=Wt,ia=na("iterator"),ra=na("toStringTag"),oa=ta.values,sa=function(t,e){if(t){if(t[ia]!==oa)try{ea(t,ia,oa)}catch(qm){t[ia]=oa}if(t[ra]||ea(t,ra,e),$s[e])for(var n in ta)if(t[n]!==ta[n])try{ea(t,n,ta[n])}catch(qm){t[n]=ta[n]}}};for(var aa in $s)sa(Js[aa]&&Js[aa].prototype,aa);sa(Xs,"DOMTokenList");var ca=Gt,la=w,ua=le,da=f,ha=In,fa=qr,pa=er,ma=X,va=I,ga=Object.assign,ba=Object.defineProperty,ya=la([].concat),ja=!ga||da((function(){if(ca&&1!==ga({b:1},ga(ba({},"a",{enumerable:!0,get:function(){ba(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=ga({},t)[n]||ha(ga({},e)).join("")!=i}))?function(t,e){var n=ma(t),i=arguments.length,r=1,o=fa.f,s=pa.f;while(i>r){var a,c=va(arguments[r++]),l=o?ya(ha(c),o(c)):ha(c),u=l.length,d=0;while(u>d)a=l[d++],ca&&!ua(s,c,a)||(n[a]=c[a])}return n}:ga,wa=xo,Oa=ja;function Ma(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))}wa({target:"Object",stat:!0,arity:2,forced:Object.assign!==Oa},{assign:Oa}),"function"===typeof SuppressedError&&SuppressedError;const xa=()=>Object(i["jsxs"])("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"#C1C1C1"},{children:[Object(i["jsx"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(i["jsx"])("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})]})),Sa=({onClick:t})=>Object(i["jsx"])("button",Object.assign({onClick:t,className:"close-button"},{children:Object(i["jsx"])(xa,{})})),Ca=({title:t,onCloseModal:e})=>{const n="Get a Wallet"===t?" -open":"";return Object(i["jsxs"])("div",Object.assign({className:"nws-modal-header"},{children:[Object(i["jsx"])("h3",Object.assign({className:"middleTitle "+n},{children:t})),Object(i["jsx"])(Sa,{onClick:e})]}))},Aa=()=>Object(i["jsx"])("svg",Object.assign({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:Object(i["jsx"])("path",{d:"M7 13L1 7L7 1",stroke:"#6494EE",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})),ka=({onClick:t})=>Object(i["jsx"])("button",Object.assign({onClick:t,className:"back-button"},{children:Object(i["jsx"])(Aa,{})})),La=({selector:t,onBack:e,onCloseModal:n})=>Object(i["jsxs"])(o["Fragment"],{children:[Object(i["jsxs"])("div",Object.assign({className:"nws-modal-header-wrapper"},{children:[Object(i["jsx"])(ka,{onClick:e}),Object(i["jsx"])(Ca,{title:"You Must Change the Network",onCloseModal:n})]})),Object(i["jsx"])("div",Object.assign({className:"switch-network-message-wrapper"},{children:Object(i["jsxs"])("div",Object.assign({className:"content"},{children:[Object(i["jsxs"])("p",{children:["We've detected that you need to change your wallet's network to",Object(i["jsx"])("strong",Object.assign({className:"network-id"},{children:" "+t.options.network.networkId}))," ","for this dApp."]}),Object(i["jsx"])("p",{children:"Some wallets may not support changing networks. If you can not change networks you may consider switching to another wallet."})]}))}))]});var Na=ye,Ia=TypeError,Ea=function(t,e){if(!delete t[e])throw Ia("Cannot delete property "+Na(e)+" of "+Na(t))},_a=Wt,Pa=_a("toStringTag"),Ra={};Ra[Pa]="z";var Ta="[object z]"===String(Ra),Da=Ta,Wa=lt,Ba=S,Ha=Wt,Fa=Ha("toStringTag"),Za=Object,za="Arguments"==Ba(function(){return arguments}()),Ua=function(t,e){try{return t[e]}catch(qm){}},qa=Da?Ba:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Ua(e=Za(t),Fa))?n:za?Ba(e):"Object"==(i=Ba(e))&&Wa(e.callee)?"Arguments":i},Ka=qa,Ga=String,Va=function(t){if("Symbol"===Ka(t))throw TypeError("Cannot convert a Symbol value to a string");return Ga(t)},Ya=Ze,Qa=Jt,Ja=Li,$a=function(t,e,n){var i=Ya(e);i in t?Qa.f(t,i,Ja(0,n)):t[i]=n},Xa=ln,tc=pn,ec=$a,nc=Array,ic=Math.max,rc=function(t,e,n){for(var i=tc(t),r=Xa(e,i),o=Xa(void 0===n?i:n,i),s=nc(ic(o-r,0)),a=0;r<o;r++,a++)ec(s,a,t[r]);return s.length=a,s},oc=rc,sc=Math.floor,ac=function(t,e){var n=t.length,i=sc(n/2);return n<8?cc(t,e):lc(t,ac(oc(t,0,i),e),ac(oc(t,i),e),e)},cc=function(t,e){var n,i,r=t.length,o=1;while(o<r){i=o,n=t[o];while(i&&e(t[i-1],n)>0)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},lc=function(t,e,n,i){var r=e.length,o=n.length,s=0,a=0;while(s<r||a<o)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},uc=ac,dc=f,hc=function(t,e){var n=[][t];return!!n&&dc((function(){n.call(null,e||function(){return 1},1)}))},fc=mt,pc=fc.match(/firefox\/(\d+)/i),mc=!!pc&&+pc[1],vc=mt,gc=/MSIE|Trident/.test(vc),bc=mt,yc=bc.match(/AppleWebKit\/(\d+)\./),jc=!!yc&&+yc[1],wc=xo,Oc=w,Mc=Me,xc=X,Sc=pn,Cc=Ea,Ac=Va,kc=f,Lc=uc,Nc=hc,Ic=mc,Ec=gc,_c=Ot,Pc=jc,Rc=[],Tc=Oc(Rc.sort),Dc=Oc(Rc.push),Wc=kc((function(){Rc.sort(void 0)})),Bc=kc((function(){Rc.sort(null)})),Hc=Nc("sort"),Fc=!kc((function(){if(_c)return _c<70;if(!(Ic&&Ic>3)){if(Ec)return!0;if(Pc)return Pc<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Rc.push({k:e+i,v:n})}for(Rc.sort((function(t,e){return e.v-t.v})),i=0;i<Rc.length;i++)e=Rc[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),Zc=Wc||!Bc||!Hc||!Fc,zc=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Ac(e)>Ac(n)?1:-1}};wc({target:"Array",proto:!0,forced:Zc},{sort:function(t){void 0!==t&&Mc(t);var e=xc(this);if(Fc)return void 0===t?Tc(e):Tc(e,t);var n,i,r=[],o=Sc(e);for(i=0;i<o;i++)i in e&&Dc(r,e[i]);Lc(r,zc(t)),n=r.length,i=0;while(i<n)e[i]=r[i++];while(i<o)Cc(e,i++);return e}});var Uc=xo,qc=yn.includes,Kc=f,Gc=pi,Vc=Kc((function(){return!Array(1).includes()}));Uc({target:"Array",proto:!0,forced:Vc},{includes:function(t){return qc(this,t,arguments.length>1?arguments[1]:void 0)}}),Gc("includes");var Yc=Ht,Qc=S,Jc=Wt,$c=Jc("match"),Xc=function(t){var e;return Yc(t)&&(void 0!==(e=t[$c])?!!e:"RegExp"==Qc(t))},tl=Xc,el=TypeError,nl=function(t){if(tl(t))throw el("The method doesn't accept regular expressions");return t},il=Wt,rl=il("match"),ol=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[rl]=!1,"/./"[t](e)}catch(i){}}return!1},sl=xo,al=w,cl=nl,ll=_,ul=Va,dl=ol,hl=al("".indexOf);sl({target:"String",proto:!0,forced:!dl("includes")},{includes:function(t){return!!~hl(ul(ll(this)),ul(cl(t)),arguments.length>1?arguments[1]:void 0)}});var fl=Me,pl=X,ml=I,vl=pn,gl=TypeError,bl=function(t){return function(e,n,i,r){fl(n);var o=pl(e),s=ml(o),a=vl(o),c=t?a-1:0,l=t?-1:1;if(i<2)while(1){if(c in s){r=s[c],c+=l;break}if(c+=l,t?c<0:a<=c)throw gl("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=l)c in s&&(r=n(r,s[c],c,o));return r}},yl={left:bl(!1),right:bl(!0)},jl=S,wl=W,Ol="process"==jl(wl.process),Ml=xo,xl=yl.left,Sl=hc,Cl=Ot,Al=Ol,kl=Sl("reduce"),Ll=!Al&&Cl>79&&Cl<83;Ml({target:"Array",proto:!0,forced:!kl||Ll},{reduce:function(t){var e=arguments.length;return xl(this,t,e,e>1?arguments[1]:void 0)}});var Nl=xo,Il=Gt,El=W,_l=w,Pl=it,Rl=lt,Tl=de,Dl=Va,Wl=Jt.f,Bl=so,Hl=El.Symbol,Fl=Hl&&Hl.prototype;if(Il&&Rl(Hl)&&(!("description"in Fl)||void 0!==Hl().description)){var Zl={},zl=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:Dl(arguments[0]),e=Tl(Fl,this)?new Hl(t):void 0===t?Hl():Hl(t);return""===t&&(Zl[e]=!0),e};Bl(zl,Hl),zl.prototype=Fl,Fl.constructor=zl;var Ul="Symbol(test)"==String(Hl("test")),ql=_l(Fl.toString),Kl=_l(Fl.valueOf),Gl=/^Symbol\((.*)\)[^)]+$/,Vl=_l("".replace),Yl=_l("".slice);Wl(Fl,"description",{configurable:!0,get:function(){var t=Kl(this),e=ql(t);if(Pl(Zl,t))return"";var n=Ul?Yl(e,7,-1):Vl(e,Gl,"$1");return""===n?void 0:n}}),Nl({global:!0,constructor:!0,forced:!0},{Symbol:zl})}const Ql=()=>Object(i["jsxs"])("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("path",{d:"M4.95215 16.3536L10.2152 5.85657C10.9531 4.38481 13.0538 4.38519 13.7912 5.85723L19.0494 16.3543C19.7156 17.6841 18.7486 19.25 17.2612 19.25H6.74001C5.25228 19.25 4.28535 17.6835 4.95215 16.3536Z",stroke:"#E6B73E",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M12 10V12",stroke:"#E6B73E",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M12.5 16C12.5 16.2761 12.2761 16.5 12 16.5C11.7239 16.5 11.5 16.2761 11.5 16C11.5 15.7239 11.7239 15.5 12 15.5C12.2761 15.5 12.5 15.7239 12.5 16Z",stroke:"#E6B73E"})]})),Jl=({selector:t,handleWalletClick:e})=>{const[n,r]=Object(o["useState"])([]),[s,a]=Object(o["useState"])([]),[c,l]=Object(o["useState"])([]),[u,d]=Object(o["useState"])("");function h(n){return n.reduce((r,o,s)=>{const{selectedWalletId:a}=t.store.getState(),{name:c,description:l,iconUrl:h,deprecated:f}=o.metadata,p=o.id===a;return r.push(Object(i["jsxs"])("li",Object.assign({tabIndex:0,className:`single-wallet ${u===o.id?"selected-wallet":""} ${p?"connected-wallet":""} ${f?"deprecated-wallet":""} sidebar ${o.id}`,onClick:()=>(o.id===n[s].id&&d(o.id),e(o))},{children:[Object(i["jsx"])("div",Object.assign({className:"icon"},{children:Object(i["jsx"])("img",{src:h,alt:c})})),Object(i["jsxs"])("div",Object.assign({className:"content"},{children:[Object(i["jsx"])("div",Object.assign({className:"title"},{children:c})),Object(i["jsx"])("div",Object.assign({className:"description"},{children:l}))]})),f&&Object(i["jsx"])("div",Object.assign({className:"warning-triangle"},{children:Object(i["jsx"])(Ql,{})}))]}),o.id)),r},[])}return Object(o["useEffect"])(()=>{const e=t.store.observable.subscribe(e=>{const{selectedWalletId:n}=t.store.getState();n&&d(n);const i=e.modules.filter(t=>!("instant-link"===t.type&&n!==t.id));if(t.options.optimizeWalletOrder){e.modules.sort((t,e)=>t.metadata.deprecated===e.metadata.deprecated?0:t.metadata.deprecated?1:-1),e.modules.sort((t,e)=>e.metadata.available===t.metadata.available?0:e.metadata.available?1:-1);const n=[],r=[];i.forEach(e=>{t.store.getState().recentlySignedInWallets.includes(e.id)?r.push(e):n.push(e)}),a(r),l(n)}t.options.randomizeWalletOrder?r(i.sort(()=>Math.random()-.5)):r(i)});return()=>e.unsubscribe()},[]),Object(i["jsx"])("div",{children:t.options.optimizeWalletOrder&&t.store.getState().recentlySignedInWallets.length>0?Object(i["jsxs"])("div",Object.assign({className:"wallet-options-wrapper"},{children:[Object(i["jsxs"])("div",Object.assign({className:"options-list-section"},{children:[Object(i["jsx"])("div",Object.assign({className:"options-list-section-header"},{children:"Recent"})),Object(i["jsx"])("div",Object.assign({className:"options-list more-options-list-content"},{children:h(s)}))]})),Object(i["jsxs"])("div",Object.assign({className:"options-list-section"},{children:[Object(i["jsx"])("div",Object.assign({className:"options-list-section-header"},{children:"More"})),Object(i["jsx"])("div",Object.assign({className:"options-list more-options-list-content"},{children:h(c)}))]}))]})):Object(i["jsx"])("div",Object.assign({className:"wallet-options-wrapper"},{children:Object(i["jsx"])("div",Object.assign({className:"options-list"},{children:h(n)}))}))})},$l=()=>Object(i["jsxs"])("svg",Object.assign({width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("path",{d:"M10.5001 18.3333C15.1025 18.3333 18.8334 14.6023 18.8334 9.99996C18.8334 5.39759 15.1025 1.66663 10.5001 1.66663C5.89771 1.66663 2.16675 5.39759 2.16675 9.99996C2.16675 14.6023 5.89771 18.3333 10.5001 18.3333Z",stroke:"#CE5A6F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M13 7.5L8 12.5",stroke:"#CE5A6F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M8 7.5L13 12.5",stroke:"#CE5A6F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),Xl=()=>Object(i["jsxs"])("svg",Object.assign({width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("path",{d:"M18.8333 9.2333V9.99997C18.8323 11.797 18.2504 13.5455 17.1744 14.9848C16.0984 16.4241 14.586 17.477 12.8628 17.9866C11.1395 18.4961 9.29768 18.4349 7.61202 17.8121C5.92636 17.1894 4.48717 16.0384 3.50909 14.5309C2.53101 13.0233 2.06645 11.24 2.18469 9.4469C2.30293 7.65377 2.99763 5.94691 4.16519 4.58086C5.33275 3.21482 6.91061 2.26279 8.66345 1.86676C10.4163 1.47073 12.2502 1.65192 13.8916 2.3833",stroke:"#4FD98F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M18.8333 3.33337L10.5 11.675L8 9.17504",stroke:"#4FD98F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),tu=({module:t,message:e,err:n,onRetry:r})=>Object(i["jsx"])("div",Object.assign({className:"connection connecting-details"},{children:n?Object(i["jsxs"])("div",Object.assign({className:"error-wrapper"},{children:[Object(i["jsxs"])("div",Object.assign({className:"error"},{children:[Object(i["jsx"])($l,{}),Object(a["e"])("modal.wallet.connectionFailed")]})),Object(i["jsx"])("p",{children:e}),(null===t||void 0===t?void 0:t.metadata.available)&&Object(i["jsx"])("button",Object.assign({onClick:r},{children:Object(a["e"])("modal.ledger.retry")}))]})):Object(i["jsxs"])("div",Object.assign({className:"success"},{children:[Object(i["jsx"])(Xl,{}),Object(a["e"])("modal.wallet.connectionSuccessful")]}))})),eu=({message:t,module:e,onBack:n,onCloseModal:r})=>Object(i["jsxs"])(o["Fragment"],{children:[Object(i["jsx"])(Ca,{title:"",onCloseModal:r}),Object(i["jsx"])("div",Object.assign({className:"alert-message connecting-wrapper connecting-wrapper-err"},{children:Object(i["jsxs"])("div",Object.assign({className:"content"},{children:[Object(i["jsx"])("div",Object.assign({className:"icon"},{children:Object(i["jsx"])("img",{src:null===e||void 0===e?void 0:e.metadata.iconUrl,alt:null===e||void 0===e?void 0:e.metadata.name})})),Object(i["jsx"])("h3",Object.assign({className:"connecting-name"},{children:null===e||void 0===e?void 0:e.metadata.name})),Object(i["jsx"])(tu,{module:e,message:t,err:null!==t,onRetry:()=>{n(!0)}})]}))}))]});var nu=ft,iu=Jt,ru=Wt,ou=Gt,su=ru("species"),au=function(t){var e=nu(t),n=iu.f;ou&&e&&!e[su]&&n(e,su,{configurable:!0,get:function(){return this}})},cu=de,lu=TypeError,uu=function(t,e){if(cu(e,t))return t;throw lu("Incorrect invocation")},du=w,hu=f,fu=lt,pu=qa,mu=ft,vu=Mi,gu=function(){},bu=[],yu=mu("Reflect","construct"),ju=/^\s*(?:class|function)\b/,wu=du(ju.exec),Ou=!ju.exec(gu),Mu=function(t){if(!fu(t))return!1;try{return yu(gu,bu,t),!0}catch(qm){return!1}},xu=function(t){if(!fu(t))return!1;switch(pu(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ou||!!wu(ju,vu(t))}catch(qm){return!0}};xu.sham=!0;var Su,Cu,Au,ku,Lu=!yu||hu((function(){var t;return Mu(Mu.call)||!Mu(Object)||!Mu((function(){t=!0}))||t}))?xu:Mu,Nu=Lu,Iu=ye,Eu=TypeError,_u=function(t){if(Nu(t))return t;throw Eu(Iu(t)+" is not a constructor")},Pu=Ut,Ru=_u,Tu=Wt,Du=Tu("species"),Wu=function(t,e){var n,i=Pu(t).constructor;return void 0===i||void 0==(n=Pu(i)[Du])?e:Ru(n)},Bu=m,Hu=Function.prototype,Fu=Hu.apply,Zu=Hu.call,zu="object"==typeof Reflect&&Reflect.apply||(Bu?Zu.bind(Fu):function(){return Zu.apply(Fu,arguments)}),Uu=w,qu=Me,Ku=m,Gu=Uu(Uu.bind),Vu=function(t,e){return qu(t),void 0===e?t:Ku?Gu(t,e):function(){return t.apply(e,arguments)}},Yu=w,Qu=Yu([].slice),Ju=TypeError,$u=function(t,e){if(t<e)throw Ju("Not enough arguments");return t},Xu=mt,td=/(?:ipad|iphone|ipod).*applewebkit/i.test(Xu),ed=W,nd=zu,id=Vu,rd=lt,od=it,sd=f,ad=Hn,cd=Qu,ld=ne,ud=$u,dd=td,hd=Ol,fd=ed.setImmediate,pd=ed.clearImmediate,md=ed.process,vd=ed.Dispatch,gd=ed.Function,bd=ed.MessageChannel,yd=ed.String,jd=0,wd={},Od="onreadystatechange";try{Su=ed.location}catch(qm){}var Md=function(t){if(od(wd,t)){var e=wd[t];delete wd[t],e()}},xd=function(t){return function(){Md(t)}},Sd=function(t){Md(t.data)},Cd=function(t){ed.postMessage(yd(t),Su.protocol+"//"+Su.host)};fd&&pd||(fd=function(t){ud(arguments.length,1);var e=rd(t)?t:gd(t),n=cd(arguments,1);return wd[++jd]=function(){nd(e,void 0,n)},Cu(jd),jd},pd=function(t){delete wd[t]},hd?Cu=function(t){md.nextTick(xd(t))}:vd&&vd.now?Cu=function(t){vd.now(xd(t))}:bd&&!dd?(Au=new bd,ku=Au.port2,Au.port1.onmessage=Sd,Cu=id(ku.postMessage,ku)):ed.addEventListener&&rd(ed.postMessage)&&!ed.importScripts&&Su&&"file:"!==Su.protocol&&!sd(Cd)?(Cu=Cd,ed.addEventListener("message",Sd,!1)):Cu=Od in ld("script")?function(t){ad.appendChild(ld("script"))[Od]=function(){ad.removeChild(this),Md(t)}}:function(t){setTimeout(xd(t),0)});var Ad,kd,Ld,Nd,Id,Ed,_d,Pd,Rd={set:fd,clear:pd},Td=mt,Dd=W,Wd=/ipad|iphone|ipod/i.test(Td)&&void 0!==Dd.Pebble,Bd=mt,Hd=/web0s(?!.*chrome)/i.test(Bd),Fd=W,Zd=Vu,zd=tr.f,Ud=Rd.set,qd=td,Kd=Wd,Gd=Hd,Vd=Ol,Yd=Fd.MutationObserver||Fd.WebKitMutationObserver,Qd=Fd.document,Jd=Fd.process,$d=Fd.Promise,Xd=zd(Fd,"queueMicrotask"),th=Xd&&Xd.value;th||(Ad=function(){var t,e;Vd&&(t=Jd.domain)&&t.exit();while(kd){e=kd.fn,kd=kd.next;try{e()}catch(qm){throw kd?Nd():Ld=void 0,qm}}Ld=void 0,t&&t.enter()},qd||Vd||Gd||!Yd||!Qd?!Kd&&$d&&$d.resolve?(_d=$d.resolve(void 0),_d.constructor=$d,Pd=Zd(_d.then,_d),Nd=function(){Pd(Ad)}):Vd?Nd=function(){Jd.nextTick(Ad)}:(Ud=Zd(Ud,Fd),Nd=function(){Ud(Ad)}):(Id=!0,Ed=Qd.createTextNode(""),new Yd(Ad).observe(Ed,{characterData:!0}),Nd=function(){Ed.data=Id=!Id}));var eh=th||function(t){var e={fn:t,next:void 0};Ld&&(Ld.next=e),kd||(kd=e,Nd()),Ld=e},nh=W,ih=function(t,e){var n=nh.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))},rh=function(t){try{return{error:!1,value:t()}}catch(qm){return{error:!0,value:qm}}},oh=function(){this.head=null,this.tail=null};oh.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var sh=oh,ah=W,ch=ah.Promise,lh="object"==typeof window&&"object"!=typeof Deno,uh=W,dh=ch,hh=lt,fh=vo,ph=Mi,mh=Wt,vh=lh,gh=Ot;dh&&dh.prototype;var bh=mh("species"),yh=!1,jh=hh(uh.PromiseRejectionEvent),wh=fh("Promise",(function(){var t=ph(dh),e=t!==String(dh);if(!e&&66===gh)return!0;if(gh>=51&&/native code/.test(t))return!1;var n=new dh((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))},r=n.constructor={};return r[bh]=i,yh=n.then((function(){}))instanceof i,!yh||!e&&vh&&!jh})),Oh={CONSTRUCTOR:wh,REJECTION_EVENT:jh,SUBCLASSING:yh},Mh={},xh=Me,Sh=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=xh(e),this.reject=xh(n)};Mh.f=function(t){return new Sh(t)};var Ch,Ah,kh,Lh,Nh=xo,Ih=Ol,Eh=W,_h=le,Ph=Hr,Rh=us,Th=Yo,Dh=au,Wh=Me,Bh=lt,Hh=Ht,Fh=uu,Zh=Wu,zh=Rd.set,Uh=eh,qh=ih,Kh=rh,Gh=sh,Vh=Xi,Yh=ch,Qh=Oh,Jh=Mh,$h="Promise",Xh=Qh.CONSTRUCTOR,tf=Qh.REJECTION_EVENT,ef=Qh.SUBCLASSING,nf=Vh.getterFor($h),rf=Vh.set,of=Yh&&Yh.prototype,sf=Yh,af=of,cf=Eh.TypeError,lf=Eh.document,uf=Eh.process,df=Jh.f,hf=df,ff=!!(lf&&lf.createEvent&&Eh.dispatchEvent),pf="unhandledrejection",mf="rejectionhandled",vf=0,gf=1,bf=2,yf=1,jf=2,wf=function(t){var e;return!(!Hh(t)||!Bh(e=t.then))&&e},Of=function(t,e){var n,i,r,o=e.value,s=e.state==gf,a=s?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{a?(s||(e.rejection===jf&&Af(e),e.rejection=yf),!0===a?n=o:(u&&u.enter(),n=a(o),u&&(u.exit(),r=!0)),n===t.promise?l(cf("Promise-chain cycle")):(i=wf(n))?_h(i,n,c,l):c(n)):l(o)}catch(qm){u&&!r&&u.exit(),l(qm)}},Mf=function(t,e){t.notified||(t.notified=!0,Uh((function(){var n,i=t.reactions;while(n=i.get())Of(n,t);t.notified=!1,e&&!t.rejection&&Sf(t)})))},xf=function(t,e,n){var i,r;ff?(i=lf.createEvent("Event"),i.promise=e,i.reason=n,i.initEvent(t,!1,!0),Eh.dispatchEvent(i)):i={promise:e,reason:n},!tf&&(r=Eh["on"+t])?r(i):t===pf&&qh("Unhandled promise rejection",n)},Sf=function(t){_h(zh,Eh,(function(){var e,n=t.facade,i=t.value,r=Cf(t);if(r&&(e=Kh((function(){Ih?uf.emit("unhandledRejection",i,n):xf(pf,n,i)})),t.rejection=Ih||Cf(t)?jf:yf,e.error))throw e.value}))},Cf=function(t){return t.rejection!==yf&&!t.parent},Af=function(t){_h(zh,Eh,(function(){var e=t.facade;Ih?uf.emit("rejectionHandled",e):xf(mf,e,t.value)}))},kf=function(t,e,n){return function(i){t(e,i,n)}},Lf=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=bf,Mf(t,!0))},Nf=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw cf("Promise can't be resolved itself");var i=wf(e);i?Uh((function(){var n={done:!1};try{_h(i,e,kf(Nf,n,t),kf(Lf,n,t))}catch(qm){Lf(n,qm,t)}})):(t.value=e,t.state=gf,Mf(t,!1))}catch(qm){Lf({done:!1},qm,t)}}};if(Xh&&(sf=function(t){Fh(this,af),Wh(t),_h(Ch,this);var e=nf(this);try{t(kf(Nf,e),kf(Lf,e))}catch(qm){Lf(e,qm)}},af=sf.prototype,Ch=function(t){rf(this,{type:$h,done:!1,notified:!1,parent:!1,reactions:new Gh,rejection:!1,state:vf,value:void 0})},Ch.prototype=Ph(af,"then",(function(t,e){var n=nf(this),i=df(Zh(this,sf));return n.parent=!0,i.ok=!Bh(t)||t,i.fail=Bh(e)&&e,i.domain=Ih?uf.domain:void 0,n.state==vf?n.reactions.add(i):Uh((function(){Of(i,n)})),i.promise})),Ah=function(){var t=new Ch,e=nf(t);this.promise=t,this.resolve=kf(Nf,e),this.reject=kf(Lf,e)},Jh.f=df=function(t){return t===sf||t===kh?new Ah(t):hf(t)},Bh(Yh)&&of!==Object.prototype)){Lh=of.then,ef||Ph(of,"then",(function(t,e){var n=this;return new sf((function(t,e){_h(Lh,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete of.constructor}catch(qm){}Rh&&Rh(of,af)}Nh({global:!0,constructor:!0,wrap:!0,forced:Xh},{Promise:sf}),Th(sf,$h,!1),Dh($h);var If=Wt,Ef=mi,_f=If("iterator"),Pf=Array.prototype,Rf=function(t){return void 0!==t&&(Ef.Array===t||Pf[_f]===t)},Tf=qa,Df=Se,Wf=mi,Bf=Wt,Hf=Bf("iterator"),Ff=function(t){if(void 0!=t)return Df(t,Hf)||Df(t,"@@iterator")||Wf[Tf(t)]},Zf=le,zf=Me,Uf=Ut,qf=ye,Kf=Ff,Gf=TypeError,Vf=function(t,e){var n=arguments.length<2?Kf(t):e;if(zf(n))return Uf(Zf(n,t));throw Gf(qf(t)+" is not iterable")},Yf=le,Qf=Ut,Jf=Se,$f=function(t,e,n){var i,r;Qf(t);try{if(i=Jf(t,"return"),!i){if("throw"===e)throw n;return n}i=Yf(i,t)}catch(qm){r=!0,i=qm}if("throw"===e)throw n;if(r)throw i;return Qf(i),n},Xf=Vu,tp=le,ep=Ut,np=ye,ip=Rf,rp=pn,op=de,sp=Vf,ap=Ff,cp=$f,lp=TypeError,up=function(t,e){this.stopped=t,this.result=e},dp=up.prototype,hp=function(t,e,n){var i,r,o,s,a,c,l,u=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),p=Xf(e,u),m=function(t){return i&&cp(i,"normal",t),new up(!0,t)},v=function(t){return d?(ep(t),f?p(t[0],t[1],m):p(t[0],t[1])):f?p(t,m):p(t)};if(h)i=t;else{if(r=ap(t),!r)throw lp(np(t)+" is not iterable");if(ip(r)){for(o=0,s=rp(t);s>o;o++)if(a=v(t[o]),a&&op(dp,a))return a;return new up(!1)}i=sp(t,r)}c=i.next;while(!(l=tp(c,i)).done){try{a=v(l.value)}catch(qm){cp(i,"throw",qm)}if("object"==typeof a&&a&&op(dp,a))return a}return new up(!1)},fp=Wt,pp=fp("iterator"),mp=!1;try{var vp=0,gp={next:function(){return{done:!!vp++}},return:function(){mp=!0}};gp[pp]=function(){return this},Array.from(gp,(function(){throw 2}))}catch(qm){}var bp=function(t,e){if(!e&&!mp)return!1;var n=!1;try{var i={};i[pp]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(qm){}return n},yp=ch,jp=bp,wp=Oh.CONSTRUCTOR,Op=wp||!jp((function(t){yp.all(t).then(void 0,(function(){}))})),Mp=xo,xp=le,Sp=Me,Cp=Mh,Ap=rh,kp=hp,Lp=Op;Mp({target:"Promise",stat:!0,forced:Lp},{all:function(t){var e=this,n=Cp.f(e),i=n.resolve,r=n.reject,o=Ap((function(){var n=Sp(e.resolve),o=[],s=0,a=1;kp(t,(function(t){var c=s++,l=!1;a++,xp(n,e,t).then((function(t){l||(l=!0,o[c]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise}});var Np=xo,Ip=Oh.CONSTRUCTOR,Ep=ch,_p=ft,Pp=lt,Rp=Hr,Tp=Ep&&Ep.prototype;if(Np({target:"Promise",proto:!0,forced:Ip,real:!0},{catch:function(t){return this.then(void 0,t)}}),Pp(Ep)){var Dp=_p("Promise").prototype["catch"];Tp["catch"]!==Dp&&Rp(Tp,"catch",Dp,{unsafe:!0})}var Wp=xo,Bp=le,Hp=Me,Fp=Mh,Zp=rh,zp=hp,Up=Op;Wp({target:"Promise",stat:!0,forced:Up},{race:function(t){var e=this,n=Fp.f(e),i=n.reject,r=Zp((function(){var r=Hp(e.resolve);zp(t,(function(t){Bp(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var qp=xo,Kp=le,Gp=Mh,Vp=Oh.CONSTRUCTOR;qp({target:"Promise",stat:!0,forced:Vp},{reject:function(t){var e=Gp.f(this);return Kp(e.reject,void 0,t),e.promise}});var Yp=Ut,Qp=Ht,Jp=Mh,$p=function(t,e){if(Yp(t),Qp(e)&&e.constructor===t)return e;var n=Jp.f(t),i=n.resolve;return i(e),n.promise},Xp=xo,tm=ft,em=Oh.CONSTRUCTOR,nm=$p;tm("Promise"),Xp({target:"Promise",stat:!0,forced:em},{resolve:function(t){return nm(this,t)}});const im=({accounts:t,onSelectedChanged:e,onSubmit:n,onChangeRoute:r})=>Object(i["jsxs"])("div",Object.assign({className:"choose-ledger-account-form-wrapper"},{children:[Object(i["jsxs"])("p",{children:["We found ",t.length," accounts on your device. Select the account(s) you wish to connect."]}),Object(i["jsx"])("div",Object.assign({className:"button-wrapper"},{children:Object(i["jsx"])("button",Object.assign({onClick:()=>{r("SpecifyHDPath")}},{children:"HD.../0"}))})),Object(i["jsx"])("form",Object.assign({className:"form",onSubmit:e=>{n(t,e)}},{children:Object(i["jsxs"])("div",{children:[Object(i["jsx"])("div",Object.assign({className:"nws-form-control"},{children:t.map((t,n)=>Object(i["jsxs"])("div",Object.assign({className:"account"},{children:[Object(i["jsx"])("input",{onChange:t=>{e(n,t.target.checked)},checked:t.selected,type:"checkbox",id:t.accountId,name:t.accountId,value:t.accountId}),Object(i["jsxs"])("label",Object.assign({htmlFor:t.accountId},{children:[" ",t.accountId]})),Object(i["jsx"])("br",{})]}),n))})),Object(i["jsx"])("div",Object.assign({className:"action-buttons"},{children:Object(i["jsx"])("button",Object.assign({className:"middleButton",type:"submit",disabled:!t.some(t=>t.selected)},{children:"Connect"}))}))]})}))]}));var rm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR3SURBVHgBpVZ9aJVVGH+e55z33bi7zY9hMz+yMAeNoEIq6A9ZRKQWEsQNFIIpsf5Y9E+GsD9iBEEDMUkDa6ShRKKZYIWiRkaKaUGUGCKOTGMF84PNO99773vOefq9720yK5ZzD/dwPt/nd37P17lEk5Qnuz9roUkKT7T5bNe+QjTNLCHv24h1Xgh+OmtwQYPH2jUXwlnW9NRooqePfLS6MmmQ59cdeEGJlkJZA5MGVecoAwghBYZTVY9ftuaDSy8x8w9fbFl95JZAXuw9dmelkvRAyXxS7wMFryG4bIyWZiqzPgMhaFfGfn3NY3AZG9sPf/Dy8HidZvxkZc/h1pqnPlKey6yspMqUd9jVAEYY6RCGDQTwjGDwGTgAlbwRijV1C9vanz577tT+6r+YrOz5rlXFrQ/qZ+FbDxCfXS5oOgxln4v473f3rbgwdn7FK5/MCaH2eAg6X8g3K2iBMTiBkNJVKbod+ze9mgPZsY/UaicYzCE1HgpZc558olCTjTvWLxv9p1n3bV45iO7T5zq3TU9j9xTOLwQ5D9t48aEYrtGj2P/2BpNS78nZJoRdlDsYd8vphz273lqyhW5Rnlnz3hOe6SEwghvxPUMTVfYe2rpuUOqOkZeIxdSbsSJ8eTIAmXy5tftrMPkzi0C4B2ZDNHp+INvLQURkhYiJ6gDGko376DbEJ8k3mcnYBSeSM2ptL/XGsurNnxfnDIQNwCKADO1845Ef6Tbk0M51g4joMgncDyBmkrtsNEMQovcDxGYsGL2yDNAUxPv0VySs4yxhfeYbabJg0Awg+ILylEB6nKMpSOp0WCR1+QSuD4ELljNDEfyRrdXPCU1BTEgD7pyOzVmC2iBm0KgYAMCEeXovoClIjdKiVdQ3FYbzmatxWRqMPcNsDHyfNWskWk5TkJhNEwVyxA6hLL5clLJsW7voFxa6LiR5CCOeWzo3XFxKtyEdy3tnp7VahAoDp6PEVGvJye09l3P7K9k9WQijXBv4B6WG+0pvD0ybFEBHZ6OPh+/OGaBsIvNRAGp/ZHv1jJeon+omszBkFsr3FhsLB7rev3JLQKVSyfjmaW2BJSavDlqR7c5VrR+4AbLttbkXMehH7gjA8gZiD/tq+Or/ABZ3dUW/J62LcPUGcrW8pKSVFAg6cHz3O0l25qZHa/XGwWPg9aAwwzdZAaDX+7tbNsMYf5+bpaUS0dDQEF8rtsUxCbI5e5KRzGhBMiqNxllKju7d8NOYXjseRBytQngcVDL3wD9H+7vf3YS7mnnzqrZpwSxrwkh04cpM5NTMyJdHbIgaESyxJ6tZ5cDbw3qd0tqVCp25Se/4yYdr5/zm/ehjwvpxZHgN0Wlub0/Yt7awdykqRYFHy6NUQVrBd4o6p6ngrVL2Bo8ksuJqoXzq9Ln9m6rj9U74b6Wjo8OeP082aY5NUxRsYzwDkeFsU+MdUU3U4PG0QtbahqhadDMuHTy4fvS/9EwIUpdeuW/ZiShOipFxURRbNdWETFMRZrCFlEZGkuPHdycTafgLExNiI6YfUpcAAAAASUVORK5CYII=";const om=({wallet:t,onCloseModal:e})=>Object(i["jsxs"])(o["Fragment"],{children:[Object(i["jsx"])(Ca,{title:"",onCloseModal:e}),Object(i["jsx"])("div",Object.assign({className:"connecting-wrapper"},{children:Object(i["jsxs"])("div",Object.assign({className:"content"},{children:[Object(i["jsx"])("div",Object.assign({className:"icon"},{children:Object(i["jsx"])("img",{src:null===t||void 0===t?void 0:t.metadata.iconUrl,alt:null===t||void 0===t?void 0:t.metadata.name})})),Object(i["jsx"])("h3",Object.assign({className:"connecting-name"},{children:null===t||void 0===t?void 0:t.metadata.name})),Object(i["jsxs"])("div",Object.assign({className:"connecting-details"},{children:[Object(i["jsx"])("div",Object.assign({className:"spinner"},{children:Object(i["jsx"])("img",{src:rm,alt:"loading-icon"})})),Object(i["jsxs"])("span",{children:[Object(a["e"])("modal.wallet.connectingTo")," ",null===t||void 0===t?void 0:t.metadata.name,"..."]})]})),Object(i["jsx"])("div",Object.assign({className:"connecting-message"},{children:Object(i["jsx"])("span",{children:Object(a["e"])("modal.wallet.connectingMessage."+(null===t||void 0===t?void 0:t.type))})}))]}))}))]}),sm=()=>Object(i["jsxs"])("svg",Object.assign({width:"317",height:"157",viewBox:"0 0 317 157",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M249.99 16.0994C270.063 -0.864155 289.788 1.58873 301.497 10.7365C307.402 15.3499 311.278 21.6575 312.267 28.1258C313.247 34.5412 311.413 41.2233 305.692 46.8044C297.366 54.9273 286.343 55.3362 273.015 51.5109C261.654 48.25 249.058 42.0377 235.726 35.4627L235.726 35.4626L235.717 35.458C233.367 34.2992 230.995 33.129 228.602 31.9618C212.742 24.2253 196.067 16.6575 179.842 13.8595C163.538 11.0479 147.552 13.0313 133.266 24.522C128.032 28.732 123.478 35.2086 121.716 44.8205C119.961 54.3947 120.992 66.9771 126.703 83.4311C135.432 108.583 132.899 126.677 123.575 138.063C114.217 149.491 97.5614 154.733 76.7887 153.121C55.0043 151.43 29.0621 142.206 3.29867 125.227L0.887817 127.942C27.2472 145.405 53.9251 154.952 76.5105 156.705C97.9028 158.365 115.96 153.035 126.356 140.341C136.785 127.606 139.045 108.029 130.099 82.2524C124.521 66.1801 123.642 54.2493 125.252 45.4687C126.854 36.7258 130.94 31.006 135.519 27.3232C148.794 16.6458 163.649 14.715 179.231 17.4021C194.891 20.1027 211.146 27.4463 227.026 35.1928C229.381 36.3415 231.729 37.5001 234.066 38.6531L234.073 38.6568C247.382 45.223 260.324 51.608 272.024 54.9662C285.819 58.9258 298.493 58.8501 308.202 49.3776C314.764 42.9759 316.974 35.1288 315.82 27.5826C314.675 20.0893 310.237 13.0029 303.71 7.90363C290.555 -2.37382 268.938 -4.62038 247.67 13.3537L249.99 16.0994Z",fill:"url(#paint0_linear_3_672)"}),Object(i["jsx"])("path",{d:"M260.264 17.8767L177.605 89.4649L157.679 73.9664L239.23 3.85423L260.264 17.8767Z",fill:"#6A7075"}),Object(i["jsx"])("path",{d:"M205.939 54.4577L199.764 50.2636L233.316 20.9053L239.907 25.8395L205.939 54.4577Z",fill:"#494E52"}),Object(i["jsx"])("path",{d:"M260.264 17.8757L177.605 89.4639L182.033 98.3202L264.323 26.363L260.264 17.8757Z",fill:"#494E52"}),Object(i["jsx"])("path",{d:"M177.236 89.4646L181.295 98.3209L165.059 85.7745L170.963 85.0365L177.236 89.4646Z",fill:"black"}),Object(i["jsx"])("path",{d:"M93.4708 99.6384L91.9948 110.13L174.653 92.894L164.69 85.7749L93.4708 99.6384Z",fill:"#DCDADA"}),Object(i["jsx"])("path",{d:"M93.1157 104.323L94.314 100.129L165.613 86.3483L169.208 89.344L93.1157 104.323Z",fill:"#C1C1C1"}),Object(i["jsx"])("path",{d:"M94.2086 99.7963L86.0903 101.272L92.3635 110.129L94.2086 99.7963Z",fill:"#B3AAAA"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.0903 100.907L89.0027 74.1304L178.455 55.2416C184.695 53.9962 195.766 54.7675 197.177 63.7058C198.284 70.717 195.506 73.9943 191.628 77.3592C188.495 80.0671 180.152 82.4646 178.343 82.8944C178.293 82.9064 178.241 82.9188 178.186 82.9319C177.38 83.1245 176.007 83.4525 170.644 84.5088C169.085 84.8158 167.382 85.1501 165.557 85.5078L164.933 85.63C146.312 89.2764 115.528 95.2297 93.9844 99.3849C91.1808 99.9257 88.5337 100.436 86.0903 100.907ZM185.076 75.554C190.748 73.3535 193.99 68.0745 192.318 63.7631C190.645 59.4517 184.691 57.7405 179.019 59.941C173.347 62.1416 170.105 67.4206 171.778 71.732C173.45 76.0434 179.404 77.7546 185.076 75.554Z",fill:"#F4F1E8"}),Object(i["jsx"])("path",{d:"M199.764 50.3994L196.768 48.3043L232.194 18.0454L233.316 21.6403L199.764 50.3994Z",fill:"black"}),Object(i["jsx"])("path",{d:"M239.968 25.9943L232.588 20.4592V17.5071L241.813 24.5183L239.968 25.9943Z",fill:"black"}),Object(i["jsx"])("ellipse",{cx:"182.084",cy:"68.0811",rx:"10.242",ry:"7.46772",transform:"rotate(-23.7949 182.084 68.0811)",fill:"#494E52"}),Object(i["jsx"])("ellipse",{cx:"182.084",cy:"68.0816",rx:"6.68462",ry:"4.87394",transform:"rotate(-23.7949 182.084 68.0816)",fill:"#494E52"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M238.725 2.93094L260.368 17.2564L264.865 26.4556L181.615 99.0341L175.16 94.311L92.0028 110.947L85.3267 101.399L88.3269 73.8157L178.118 54.8553L238.725 2.93094ZM178.599 56.2622L89.6786 75.0388L86.9321 100.29C89.0979 99.8725 91.4124 99.4263 93.8446 98.9572C115.388 94.8019 146.171 88.8488 164.791 85.2026L165.415 85.0804C167.24 84.7228 168.943 84.3885 170.501 84.0816C175.853 83.0275 177.219 82.701 178.015 82.5107C178.07 82.4976 178.122 82.4852 178.173 82.4732C179.048 82.2652 181.558 81.5669 184.235 80.5851C186.742 79.6655 189.286 78.5354 190.802 77.3758L191.151 77.0922L191.644 76.6595C193.341 75.147 194.723 73.6739 195.61 71.871C196.571 69.916 196.982 67.5029 196.448 64.1178C195.8 60.0131 192.959 57.7574 189.408 56.6566C185.833 55.5483 181.637 55.6566 178.603 56.2615C178.601 56.2617 178.6 56.262 178.599 56.2622ZM192.631 77.7565L259.555 18.9531L263.042 26.0869L181.808 96.9078L178.132 89.5713L191.724 78.529C191.859 78.4249 191.988 78.32 192.11 78.2144L192.111 78.2136C192.286 78.0617 192.46 77.9094 192.631 77.7565ZM185.491 81.6908C185.24 81.7868 184.99 81.8802 184.743 81.9709C182.013 82.9723 179.447 83.6875 178.514 83.9093C178.463 83.9213 178.411 83.9338 178.356 83.9468C177.635 84.1192 176.472 84.3971 172.491 85.1919L177.172 88.4492L185.491 81.6908ZM176.631 89.8707L170.479 85.5903C169.306 85.8213 168.054 86.0673 166.731 86.3265L175.769 92.9276L179.548 95.6924L176.631 89.8707ZM164.758 86.7132C146.252 90.3362 116.027 96.1817 94.6324 100.308L93.2258 109.197L173.543 93.1293L164.758 86.7132ZM91.888 108.207L93.0909 100.606C91.0848 100.993 89.1642 101.363 87.3471 101.713L91.888 108.207ZM258.581 17.8436L197.306 71.6841C198.142 69.5779 198.41 67.0795 197.906 63.8876C197.143 59.0539 193.743 56.4549 189.845 55.2467C186.921 54.3402 183.662 54.1916 180.861 54.449L238.84 4.77668L258.581 17.8436ZM232.505 16.82L243.089 24.5643L205.915 56.5106L196.042 48.0665L232.505 16.82ZM232.118 19.096L198.312 48.0654L199.744 49.29L232.584 20.9424L232.118 19.096ZM233.456 22.1396L200.878 50.2604L205.913 54.5664L239.041 26.0969L233.456 22.1396ZM240.195 25.1054L240.717 24.6571L233.759 19.5663L234.06 20.7586L240.195 25.1054Z",fill:"black"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M190.194 69.9744C191.32 68.1409 191.576 66.2271 190.942 64.5937C190.308 62.9603 188.829 61.7198 186.761 61.1254C184.691 60.5307 182.116 60.6196 179.553 61.6139C176.991 62.6081 175.029 64.2794 173.902 66.1141C172.776 67.9477 172.52 69.8614 173.154 71.4948C173.788 73.1282 175.267 74.3687 177.335 74.9631C179.405 75.5578 181.98 75.4689 184.543 74.4746C187.105 73.4804 189.067 71.8091 190.194 69.9744ZM185.077 75.8508C190.749 73.6502 193.991 68.3712 192.318 64.0598C190.645 59.7484 184.691 58.0372 179.019 60.2378C173.347 62.4383 170.105 67.7173 171.778 72.0287C173.451 76.3401 179.405 78.0513 185.077 75.8508Z",fill:"black"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M187.391 69.169C188.127 67.9713 188.266 66.7721 187.881 65.7812C187.497 64.7903 186.586 63.9984 185.235 63.6102C183.883 63.2216 182.173 63.2741 180.456 63.9404C178.738 64.6068 177.441 65.7208 176.705 66.9196C175.969 68.1172 175.83 69.3165 176.215 70.3074C176.599 71.2983 177.511 72.0901 178.861 72.4783C180.214 72.8669 181.923 72.8144 183.64 72.1481C185.358 71.4818 186.655 70.3678 187.391 69.169ZM184.174 73.5242C188.156 71.9795 190.432 68.2738 189.257 65.2473C188.083 62.2208 183.904 61.0196 179.922 62.5643C175.94 64.1091 173.665 67.8148 174.839 70.8412C176.013 73.8677 180.193 75.0689 184.174 73.5242Z",fill:"black"}),Object(i["jsx"])("path",{d:"M240.499 41.2441C239.744 40.3649 239.844 39.04 240.724 38.285L249.781 30.5067C250.66 29.7516 251.985 29.8523 252.74 30.7315V30.7315C253.495 31.6108 253.395 32.9356 252.516 33.6907L243.458 41.469C242.579 42.224 241.254 42.1234 240.499 41.2441V41.2441Z",fill:"black"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M250.743 31.6265L241.685 39.4048C241.424 39.6287 241.395 40.0217 241.619 40.2825C241.842 40.5433 242.235 40.5731 242.496 40.3492L251.554 32.5709C251.815 32.3469 251.845 31.954 251.621 31.6932C251.397 31.4324 251.004 31.4025 250.743 31.6265ZM240.724 38.285C239.844 39.04 239.744 40.3649 240.499 41.2441C241.254 42.1234 242.579 42.224 243.458 41.469L252.516 33.6907C253.395 32.9356 253.495 31.6108 252.74 30.7315C251.985 29.8523 250.66 29.7516 249.781 30.5067L240.724 38.285Z",fill:"black"}),Object(i["jsx"])("path",{d:"M205.779 71.4647C205.005 70.5642 205.108 69.2073 206.009 68.4339L214.989 60.7218C215.89 59.9485 217.247 60.0516 218.02 60.9521V60.9521C218.793 61.8526 218.69 63.2095 217.79 63.9829L208.809 71.695C207.909 72.4683 206.552 72.3652 205.779 71.4647V71.4647Z",fill:"black"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M215.951 61.8416L206.97 69.5537C206.688 69.796 206.656 70.221 206.898 70.5031C207.141 70.7851 207.566 70.8174 207.848 70.5752L216.828 62.863C217.11 62.6208 217.143 62.1958 216.9 61.9137C216.658 61.6317 216.233 61.5994 215.951 61.8416ZM206.009 68.4339C205.108 69.2073 205.005 70.5642 205.779 71.4647C206.552 72.3652 207.909 72.4683 208.809 71.695L217.79 63.9829C218.69 63.2095 218.793 61.8526 218.02 60.9521C217.247 60.0516 215.89 59.9485 214.989 60.7218L206.009 68.4339Z",fill:"black"}),Object(i["jsx"])("circle",{cx:"141.356",cy:"19.525",r:"10.1855",fill:"#FE89B4"}),Object(i["jsx"])("ellipse",{cx:"139.062",cy:"14.7094",rx:"2.42519",ry:"1.94015",transform:"rotate(-34.544 139.062 14.7094)",fill:"#FDF7FF"}),Object(i["jsx"])("circle",{cx:"252.489",cy:"79.7577",r:"7.78893",fill:"#EC5236"}),Object(i["jsx"])("ellipse",{cx:"250.434",cy:"76.3701",rx:"2.61272",ry:"2.09018",transform:"rotate(-34.544 250.434 76.3701)",fill:"#EDB69D"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.436 79.9254C100.461 79.6567 100.732 79.3897 101.042 79.329L106.657 78.2299C107.587 78.0478 108.281 78.5536 108.207 79.3596L107.759 84.2243C107.734 84.493 107.463 84.76 107.153 84.8207L100.416 86.1396C100.106 86.2003 99.8742 86.0317 99.899 85.7631L100.436 79.9254Z",fill:"#B3AAAA"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95.8553 81.7775C95.9294 80.9715 96.7437 80.1704 97.6739 79.9883L98.7968 79.7685C99.1069 79.7078 99.3382 79.8764 99.3135 80.1451L99.1344 82.091C99.1096 82.3597 98.8382 82.6267 98.5282 82.6874L96.2824 83.127C95.9723 83.1877 95.741 83.0191 95.7657 82.7505L95.8553 81.7775Z",fill:"#B3AAAA"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95.5865 84.6965C95.6112 84.4278 95.8826 84.1608 96.1927 84.1001L98.4385 83.6605C98.7486 83.5998 98.9799 83.7684 98.9552 84.037L98.7761 85.9829C98.7513 86.2516 98.4799 86.5186 98.1699 86.5793L95.9241 87.019C95.614 87.0797 95.3827 86.9111 95.4074 86.6424L95.5865 84.6965Z",fill:"#B3AAAA"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95.2282 88.5884C95.2529 88.3197 95.5244 88.0527 95.8344 87.992L98.0802 87.5524C98.3903 87.4917 98.6216 87.6603 98.5969 87.929L98.4178 89.8749C98.3931 90.1435 98.1216 90.4105 97.8116 90.4712L96.6887 90.6911C95.7584 90.8732 95.0645 90.3674 95.1387 89.5614L95.2282 88.5884Z",fill:"#B3AAAA"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M99.7197 87.709C99.7444 87.4403 100.016 87.1733 100.326 87.1126L102.572 86.673C102.882 86.6123 103.113 86.7809 103.088 87.0496L102.909 88.9955C102.885 89.2641 102.613 89.5312 102.303 89.5919L100.057 90.0315C99.7472 90.0922 99.5159 89.9236 99.5406 89.6549L99.7197 87.709Z",fill:"#B3AAAA"}),Object(i["jsx"])("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.211 86.8298C104.236 86.5611 104.507 86.2941 104.817 86.2334L107.063 85.7938C107.373 85.7331 107.605 85.9017 107.58 86.1704L107.49 87.1433C107.416 87.9493 106.602 88.7504 105.672 88.9325L104.549 89.1523C104.239 89.213 104.007 89.0444 104.032 88.7757L104.211 86.8298Z",fill:"#B3AAAA"}),Object(i["jsx"])("defs",{children:Object(i["jsxs"])("linearGradient",Object.assign({id:"paint0_linear_3_672",x1:"-44.5195",y1:"122.42",x2:"263.357",y2:"-8.65023",gradientUnits:"userSpaceOnUse"},{children:[Object(i["jsx"])("stop",{offset:"0.110697",stopColor:"#232323"}),Object(i["jsx"])("stop",{offset:"1",stopColor:"#3D3D3D"})]}))})]})),am=()=>Object(i["jsx"])("svg",Object.assign({width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:Object(i["jsx"])("path",{d:"M9 5.4762L5 1.4762L1 5.4762",stroke:"#4F7CD1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})),cm=()=>Object(i["jsx"])("svg",Object.assign({width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:Object(i["jsx"])("path",{d:"M1 1.52382L5 5.52382L9 1.52382",stroke:"#4F7CD1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})),lm="44'/397'/0'/0'/1'",um=({selector:t,options:e,onBack:n,onConnected:r,params:s,onError:c,onCloseModal:l})=>{const[u,d]=Object(o["useState"])("EnterDerivationPath"),[h,f]=Object(o["useState"])(lm),[p,m]=Object(o["useState"])(1),[v,g]=Object(o["useState"])([]),[b,y]=Object(o["useState"])([]),[j,w]=Object(o["useState"])(),[O,M]=Object(o["useState"])(""),[x,S]=Object(o["useState"])(!1),C=Object(a["e"])("modal.ledger.connectWithLedger"),[A,k]=Object(o["useState"])(C),L=e=>Ma(void 0,void 0,void 0,(function*(){const n=yield fetch(`${t.options.network.indexerUrl}/publicKey/ed25519:${e}/accounts`);if(!n.ok)throw new Error("Failed to get account id from public key");const i=yield n.json();return Array.isArray(i)&&i.length?i:[]})),N=t=>Ma(void 0,void 0,void 0,(function*(){const e=yield t.getPublicKey(h);try{const t=yield L(e);return t.map((t,n)=>({derivationPath:h,publicKey:e,accountId:t,selected:0===n}))}catch(n){return null}})),I=()=>Ma(void 0,void 0,void 0,(function*(){const e=yield t.wallet(s.walletId);if("hardware"===e.type){S(!0),w(e);try{const t=yield N(e);if(!t)return void d("AddCustomAccountId");const n=0===t.length,i=t.length>1;if(n)return k(Object(a["e"])("modal.ledger.noAccountsFound")),void d("NoAccountsFound");g(t),i?(k(Object(a["e"])("modal.ledger.selectYourAccounts")),d("ChooseAccount")):(y(t),d("OverviewAccounts"))}catch(n){S(!1);const t=n instanceof Error?n.message:"Something went wrong";c(t,e)}finally{S(!1)}}})),E=()=>Ma(void 0,void 0,void 0,(function*(){try{S(!0);const t=yield j.getPublicKey(h),e=[{derivationPath:h,publicKey:t,accountId:O,selected:!0}];g(e),y(e),k(Object(a["e"])("modal.ledger.connecting1Account")),d("OverviewAccounts")}catch(t){S(!1);const e=t instanceof Error?t.message:"Something went wrong";c(e,j)}finally{S(!1)}})),_=()=>{const t=b.map(t=>({derivationPath:t.derivationPath,publicKey:t.publicKey,accountId:t.accountId}));return j.signIn({contractId:e.contractId,methodNames:e.methodNames,accounts:t}).then(()=>r()).catch(t=>{c("Error: "+t.message,j)})},P=()=>{"SpecifyHDPath"!==u&&"NoAccountsFound"!==u&&"ChooseAccount"!==u||(k(Object(a["e"])("modal.ledger.connectWithLedger")),d("EnterDerivationPath")),"OverviewAccounts"===u&&(k(Object(a["e"])("modal.ledger.selectYourAccounts")),d("ChooseAccount"))};return x?Object(i["jsx"])("div",Object.assign({className:"derivation-path-wrapper"},{children:Object(i["jsx"])(om,{wallet:j,onBack:()=>{S(!1)},onCloseModal:l})})):Object(i["jsxs"])(o["Fragment"],{children:[Object(i["jsxs"])("div",Object.assign({className:"nws-modal-header-wrapper"},{children:[("SpecifyHDPath"===u||"NoAccountsFound"===u||"ChooseAccount"===u||"OverviewAccounts"===u)&&Object(i["jsx"])(ka,{onClick:P}),Object(i["jsx"])(Ca,{title:A,onCloseModal:l})]})),Object(i["jsxs"])("div",Object.assign({className:"derivation-path-wrapper"},{children:["EnterDerivationPath"===u&&Object(i["jsxs"])("div",Object.assign({className:"enter-derivation-path"},{children:[Object(i["jsx"])("div",Object.assign({className:"ledger-image"},{children:Object(i["jsx"])(sm,{})})),Object(i["jsxs"])("div",Object.assign({className:"ledger-description"},{children:[Object(i["jsx"])("p",{children:Object(a["e"])("modal.ledger.makeSureYourLedger")}),Object(i["jsx"])("p",Object.assign({className:"specify-path",onClick:()=>{k(Object(a["e"])("modal.ledger.specifyHDPath")),d("SpecifyHDPath")}},{children:Object(a["e"])("modal.ledger.specifyHDPath")}))]})),Object(i["jsx"])("div",Object.assign({className:"action-buttons"},{children:Object(i["jsx"])("button",Object.assign({className:"middleButton",onClick:I},{children:Object(a["e"])("modal.ledger.continue")}))}))]})),"SpecifyHDPath"===u&&Object(i["jsxs"])("div",Object.assign({className:"specify-path-wrapper"},{children:[Object(i["jsxs"])("div",Object.assign({className:"change-path-wrapper"},{children:[Object(i["jsx"])("div",Object.assign({className:"display-path"},{children:Object(i["jsx"])("span",{children:h.slice(0,-2)})})),Object(i["jsxs"])("div",Object.assign({className:"change-path"},{children:[Object(i["jsx"])("div",Object.assign({className:"path-value"},{children:Object(i["jsx"])("span",{children:p})})),Object(i["jsxs"])("div",Object.assign({className:"buttons-wrapper"},{children:[Object(i["jsx"])("button",Object.assign({onClick:()=>{const t=p+1,e=h.slice(0,-2);f(`${e}${t}'`),m(t)}},{children:Object(i["jsx"])(am,{})})),Object(i["jsx"])("button",Object.assign({onClick:()=>{const t=p-1;if(t<0)return;const e=h.slice(0,-2);f(`${e}${t}'`),m(t)}},{children:Object(i["jsx"])(cm,{})}))]}))]}))]})),Object(i["jsx"])("p",Object.assign({className:"path-description"},{children:Object(a["e"])("modal.ledger.enterYourPreferredHDPath")})),Object(i["jsx"])("p",Object.assign({className:"what-link"},{children:Object(i["jsx"])("a",Object.assign({href:"https://www.ledger.com/academy/crypto/what-are-hierarchical-deterministic-hd-wallets",target:"_blank"},{children:"What's this?"}))})),Object(i["jsx"])("div",Object.assign({className:"action-buttons"},{children:Object(i["jsx"])("button",Object.assign({className:"middleButton",onClick:I},{children:Object(a["e"])("modal.ledger.scan")}))}))]})),"NoAccountsFound"===u&&Object(i["jsx"])("div",Object.assign({className:"no-accounts-found-wrapper"},{children:Object(i["jsxs"])("p",{children:[Object(a["e"])("modal.ledger.cantFindAnyAccount")," ",Object(i["jsx"])("a",Object.assign({href:`https://${"testnet"===t.options.network.networkId?"testnet":"app"}.mynearwallet.com/create`,target:"_blank"},{children:"MyNearWallet"}))," ",Object(a["e"])("modal.ledger.orConnectAnAnotherLedger")]})})),"ChooseAccount"===u&&Object(i["jsx"])(im,{accounts:v,onSelectedChanged:(t,e)=>{g(n=>{const i=n.map((n,i)=>{const r=t===i?e:n.selected;return Object.assign(Object.assign({},n),{selected:r})});return[...i]})},onSubmit:(t,e)=>{e.preventDefault();const n=t.filter(t=>t.selected);y(n);const i=n.length;k(`${Object(a["e"])("modal.ledger.connecting")} ${i} ${Object(a["e"])("modal.ledger.ofAccounts")}`),d("OverviewAccounts")},onChangeRoute:t=>{"SpecifyHDPath"===t&&k(Object(a["e"])("modal.ledger.specifyHDPath")),d(t)}}),"AddCustomAccountId"===u&&Object(i["jsxs"])("div",Object.assign({className:"enter-custom-account"},{children:[Object(i["jsx"])("p",{children:Object(a["e"])("modal.ledger.failedToAutomatically")}),Object(i["jsx"])("div",Object.assign({className:"input-wrapper"},{children:Object(i["jsx"])("input",{type:"text",placeholder:"Account ID",value:O,onChange:t=>{M(t.target.value)}})})),Object(i["jsx"])("div",Object.assign({className:"action-buttons"},{children:Object(i["jsx"])("button",Object.assign({className:"middleButton",onClick:E},{children:Object(a["e"])("ledger.Continue")}))}))]})),"OverviewAccounts"===u&&Object(i["jsxs"])("div",Object.assign({className:"overview-wrapper"},{children:[Object(i["jsx"])("p",{children:Object(a["e"])("modal.ledger.overviewTheListOfAuthorized")}),Object(i["jsx"])("div",Object.assign({className:"accounts"},{children:b.map((t,e)=>Object(i["jsx"])("div",{children:Object(i["jsx"])("div",Object.assign({className:"account"},{children:Object(i["jsx"])("span",{children:t.accountId})}))},t.accountId))})),Object(i["jsx"])("div",Object.assign({className:"action-buttons"},{children:Object(i["jsx"])("button",Object.assign({className:"middleButton",onClick:_,disabled:0===v.length},{children:Object(a["e"])("modal.ledger.finish")}))}))]}))]}))]})},dm=({module:t,onBack:e,onCloseModal:n})=>Object(i["jsxs"])(o["Fragment"],{children:[Object(i["jsxs"])("div",Object.assign({className:"nws-modal-header-wrapper"},{children:[Object(i["jsx"])(ka,{onClick:e}),Object(i["jsx"])(Ca,{title:"",onCloseModal:n})]})),Object(i["jsxs"])("div",Object.assign({className:"wallet-not-installed-wrapper"},{children:[Object(i["jsxs"])("div",Object.assign({className:"wallet-data"},{children:[Object(i["jsx"])("div",Object.assign({className:"wallet-icon-box "+t.id},{children:Object(i["jsx"])("img",{src:t.metadata.iconUrl,alt:t.metadata.name})})),Object(i["jsx"])("p",{children:t.metadata.name})]})),Object(i["jsxs"])("p",{children:[Object(a["e"])("modal.install.youllNeedToInstall")," ",t.metadata.name," ",Object(a["e"])("modal.install.toContinueAfterInstalling"),Object(i["jsxs"])("span",Object.assign({className:"refresh-link",onClick:()=>window.location.reload()},{children:[" ",Object(a["e"])("modal.install.refreshThePage")]}))]}),Object(i["jsx"])("div",Object.assign({className:"action-buttons"},{children:Object(i["jsxs"])("button",Object.assign({className:"middleButton",onClick:()=>{"injected"===t.type&&window.open(t.metadata.downloadUrl,"_blank")}},{children:[Object(a["e"])("modal.install.open")," ",t.metadata.name]}))}))]}))]}),hm=()=>Object(i["jsxs"])("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("path",{d:"M7.22224 1.33334H1.44446V6.66668H7.22224V1.33334Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M15.8889 1.33334H10.1111V6.66668H15.8889V1.33334Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M7.22224 9.33334H1.44446V14.6667H7.22224V9.33334Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M10.1111 13.1429V14.6667H15.8889M10.1111 9.33334V10.8572H12.5873V9.33334H15.8889V12.381",stroke:"#4C5155",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("rect",{x:"3.61108",y:"3.33334",width:"1.44444",height:"1.33333",fill:"#4C5155"}),Object(i["jsx"])("rect",{x:"3.61108",y:"11.3333",width:"1.44444",height:"1.33333",fill:"#4C5155"}),Object(i["jsx"])("rect",{x:"12.2778",y:"3.33334",width:"1.44445",height:"1.33333",fill:"#4C5155"})]})),fm=()=>Object(i["jsxs"])("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("path",{d:"M13 8.66667V12.6667C13 13.0203 12.8478 13.3594 12.577 13.6095C12.3061 13.8595 11.9387 14 11.5556 14H3.61113C3.22804 14 2.86064 13.8595 2.58975 13.6095C2.31887 13.3594 2.16669 13.0203 2.16669 12.6667V5.33333C2.16669 4.97971 2.31887 4.64057 2.58975 4.39052C2.86064 4.14048 3.22804 4 3.61113 4H7.94447",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M10.8333 2H15.1666V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M7.22223 9.33333L15.1667 2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]})),pm=()=>Object(i["jsx"])("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:Object(i["jsx"])("path",{d:"M33.5 1.83325L30.1666 5.16658M17.4818 17.8514C19.1406 19.5103 20.1666 21.8019 20.1666 24.3333C20.1666 29.3959 16.0626 33.4999 11 33.4999C5.93735 33.4999 1.8333 29.3959 1.8333 24.3333C1.8333 19.2706 5.93735 15.1666 11 15.1666C13.5313 15.1666 15.8229 16.1926 17.4818 17.8514ZM17.4818 17.8514L24.3333 10.9999M24.3333 10.9999L29.3333 15.9999L35.1666 10.1666L30.1666 5.16658M24.3333 10.9999L30.1666 5.16658",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})),mm=()=>Object(i["jsxs"])("svg",Object.assign({width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("circle",{cx:"28.3333",cy:"23.8333",r:"1.66667",fill:"currentColor"}),Object(i["jsx"])("path",{d:"M35 12.1667H7C5.89543 12.1667 5 11.2712 5 10.1667V7.5C5 6.39543 5.89543 5.5 7 5.5H31.6667",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M35 12.1667V35.5H7C5.89543 35.5 5 34.6046 5 33.5V8.83334",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]})),vm=({selector:t,onCloseModal:e})=>{const[n,r]=Object(o["useState"])([]),[s,c]=Object(o["useState"])("WalletInfo");Object(o["useEffect"])(()=>{const e=t.store.observable.subscribe(t=>{const e=t=>"bridge"!==t.type&&"hardware"!==t.type&&"instant-link"!==t.type,n=t.modules.filter(e);r(n)});return()=>e.unsubscribe()},[]);const l=t=>{let e="";return"injected"===t.type&&(e=t.metadata.downloadUrl),"browser"===t.type&&(e=t.metadata.walletUrl),e};return Object(i["jsxs"])("div",Object.assign({className:"wallet-home-wrapper"},{children:[Object(i["jsxs"])("div",Object.assign({className:"nws-modal-header-wrapper"},{children:["GetWallets"===s&&Object(i["jsx"])(ka,{onClick:()=>{c("WalletInfo")}}),Object(i["jsx"])(Ca,{title:"GetWallets"===s?Object(a["e"])("modal.wallet.getAWallet"):Object(a["e"])("modal.wallet.whatIsAWallet"),onCloseModal:e})]})),"GetWallets"===s&&Object(i["jsx"])("div",Object.assign({className:"get-wallet-wrapper"},{children:n.map(t=>{const{iconUrl:e,name:n}=t.metadata,r=["nearfi","here-wallet"].includes(t.id),o="here-wallet"===t.id?"mobile":"",s=l(t);return Object(i["jsxs"])("div",Object.assign({tabIndex:0,className:"single-wallet-get "+t.id,onClick:()=>{s&&window.open(s,"_blank")}},{children:[Object(i["jsxs"])("div",Object.assign({className:"small-icon"},{children:[r&&s&&Object(i["jsx"])(hm,{}),!r&&s&&Object(i["jsx"])(fm,{})]})),Object(i["jsx"])("div",Object.assign({className:"icon"},{children:Object(i["jsx"])("img",{src:e,alt:n})})),Object(i["jsxs"])("div",Object.assign({className:"content"},{children:[Object(i["jsx"])("div",Object.assign({className:"title"},{children:n})),Object(i["jsx"])("div",Object.assign({className:"type"},{children:Object(a["e"])("modal.walletTypes."+(o||t.type))}))]}))]}),t.id)})})),"WalletInfo"===s&&Object(i["jsxs"])(i["Fragment"],{children:[Object(i["jsxs"])("div",Object.assign({className:"wallet-info-wrapper what-wallet-hide"},{children:[Object(i["jsxs"])("div",Object.assign({className:"wallet-what"},{children:[Object(i["jsx"])("div",Object.assign({className:"icon-side"},{children:Object(i["jsx"])(pm,{})})),Object(i["jsxs"])("div",Object.assign({className:"content-side"},{children:[Object(i["jsx"])("h3",{children:Object(a["e"])("modal.wallet.secureAndManage")}),Object(i["jsx"])("p",{children:Object(a["e"])("modal.wallet.safelyStore")})]}))]})),Object(i["jsxs"])("div",Object.assign({className:"wallet-what"},{children:[Object(i["jsx"])("div",Object.assign({className:"icon-side"},{children:Object(i["jsx"])(mm,{})})),Object(i["jsxs"])("div",Object.assign({className:"content-side"},{children:[Object(i["jsx"])("h3",{children:Object(a["e"])("modal.wallet.logInToAny")}),Object(i["jsx"])("p",{children:Object(a["e"])("modal.wallet.noNeedToCreate")})]}))]})),Object(i["jsx"])("div",{className:"button-spacing"}),Object(i["jsx"])("button",Object.assign({className:"middleButton",onClick:()=>{c("GetWallets")}},{children:Object(a["e"])("modal.wallet.getAWallet")}))]})),Object(i["jsxs"])("div",Object.assign({className:"what-wallet-mobile"},{children:[Object(i["jsx"])("p",{children:Object(a["e"])("modal.wallet.useAWallet")}),Object(i["jsx"])("button",Object.assign({className:"middleButton",onClick:()=>{c("GetWallets")}},{children:Object(a["e"])("modal.wallet.getAWallet")}))]})),Object(i["jsx"])("div",Object.assign({className:"lang-selector-wrapper"},{children:Object(i["jsxs"])("select",Object.assign({className:"lang-selector",name:"lang"},{children:[Object(i["jsx"])("option",Object.assign({value:"en"},{children:"English"})),Object(i["jsx"])("option",Object.assign({value:"es"},{children:"Spanish"}))]}))}))]})]}))},gm=({module:t,onCloseModal:e})=>Object(i["jsxs"])(o["Fragment"],{children:[Object(i["jsxs"])("div",Object.assign({className:"nws-modal-header"},{children:[Object(i["jsx"])("h3",Object.assign({className:"middleTitle"},{children:""})),Object(i["jsx"])(Sa,{onClick:e})]})),Object(i["jsx"])("div",Object.assign({className:"connecting-wrapper"},{children:Object(i["jsxs"])("div",Object.assign({className:"content"},{children:[Object(i["jsxs"])("div",Object.assign({className:"icon"},{children:[Object(i["jsx"])("div",{className:"green-dot"}),Object(i["jsx"])("img",{src:null===t||void 0===t?void 0:t.metadata.iconUrl,alt:null===t||void 0===t?void 0:t.metadata.name})]})),Object(i["jsx"])("h3",Object.assign({className:"connecting-name"},{children:null===t||void 0===t?void 0:t.metadata.name})),Object(i["jsxs"])("div",Object.assign({className:"wallet-connected-success"},{children:[Object(i["jsx"])(Xl,{}),Object(i["jsx"])("span",{children:Object(a["e"])("modal.wallet.connectionSuccessful")})]}))]}))}))]});var bm=Ut,ym=function(){var t=bm(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},jm=le,wm=it,Om=de,Mm=ym,xm=RegExp.prototype,Sm=function(t){var e=t.flags;return void 0!==e||"flags"in xm||wm(t,"flags")||!Om(xm,t)?e:jm(Mm,t)},Cm=Or.PROPER,Am=Hr,km=Ut,Lm=Va,Nm=f,Im=Sm,Em="toString",_m=RegExp.prototype,Pm=_m[Em],Rm=Nm((function(){return"/a/b"!=Pm.call({source:"a",flags:"b"})})),Tm=Cm&&Pm.name!=Em;(Rm||Tm)&&Am(RegExp.prototype,Em,(function(){var t=km(this),e=Lm(t.source),n=Lm(Im(t));return"/"+e+"/"+n}),{unsafe:!0});const Dm=()=>Object(i["jsxs"])("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[Object(i["jsx"])("path",{d:"M6.5 15.25a1.75 1.75 0 0 1-1.75-1.75V6.75a2 2 0 0 1 2-2h6.75c.966 0 1.75.784 1.75 1.75",stroke:"#4F7CD1",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),Object(i["jsx"])("path",{d:"M8.75 10.75a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-6.5Z",stroke:"#4F7CD1",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}));function Wm(t){return Ma(this,void 0,void 0,(function*(){return yield l.a.toString(t,{margin:0,type:"svg"})}))}const Bm=({wallet:t,uri:e,onCloseModal:n,handleOpenDefaultModal:r})=>{const[o,c]=s.a.useState(""),[l,u]=s.a.useState(""),h=()=>{if(!e)return;const t=d()(e);t?(c(Object(a["e"])("modal.qr.copiedToClipboard")),setTimeout(()=>c(""),1200)):(c(Object(a["e"])("modal.qr.failedToCopy")),setTimeout(()=>c(""),1200))};return s.a.useEffect(()=>{(()=>{Ma(void 0,void 0,void 0,(function*(){e&&u(yield Wm(e))}))})()},[e]),Object(i["jsxs"])("section",Object.assign({className:"scan-qr-code"},{children:[Object(i["jsx"])(Ca,{title:Object(a["e"])("modal.qr.scanWithYourMobile"),onCloseModal:n}),Object(i["jsxs"])("section",Object.assign({className:"qr-code"},{children:[Object(i["jsx"])("div",{dangerouslySetInnerHTML:{__html:l}}),o?Object(i["jsx"])("div",Object.assign({className:"notification"},{children:o})):Object(i["jsxs"])("div",Object.assign({className:"copy-btn",onClick:h},{children:[Object(i["jsx"])(Dm,{}),Object(a["e"])("modal.qr.copyToClipboard")]}))]})),Object(i["jsxs"])("footer",Object.assign({className:"footer"},{children:[Object(i["jsxs"])("p",{children:[Object(a["e"])("modal.qr.preferTheOfficial")," ",t.metadata.name,"?"]}),Object(i["jsx"])("button",Object.assign({className:"btn",onClick:r},{children:Object(a["e"])("modal.qr.open")}))]}))]}))},Hm=t=>{switch(t){case"dark":return"dark-theme";case"light":return"light-theme";default:return""}},Fm=({selector:t,options:e,visible:n,hide:r,emitter:s})=>{var c,l,u;const[d,h]=Object(o["useState"])({name:"WalletHome"}),[f,p]=Object(o["useState"])(null),[m,v]=Object(o["useState"])(),[g,b]=Object(o["useState"])();Object(o["useEffect"])(()=>{h({name:"WalletHome"}),Object(a["b"])(t.options.languageCode);const{selectedWalletId:e,modules:n}=t.store.getState();if(e){const t=n.find(t=>t.id===e);v(t),h({name:"WalletConnected",params:{module:t}})}b("")},[n]),Object(o["useEffect"])(()=>{const e=t.on("networkChanged",({networkId:e})=>{if(e===t.options.network.networkId)return y({});h({name:"WalletNetworkChanged"})});return()=>e.remove()},[]);const y=Object(o["useCallback"])(({hideReason:t})=>{p(null),h({name:"WalletHome"}),"user-triggered"===t&&s.emit("onHide",{hideReason:t}),"wallet-navigation"===t&&s.emit("onHide",{hideReason:t}),r()},[r,s]);Object(o["useEffect"])(()=>{const t=t=>{"Escape"===t.key&&y({hideReason:"user-triggered"})};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[y]);const j=(n,i)=>Ma(void 0,void 0,void 0,(function*(){v(n);const{selectedWalletId:r}=t.store.getState();if(r!==n.id)try{const{deprecated:r,available:o}=n.metadata;if("injected"===n.type&&!o)return void h({name:"WalletNotInstalled",params:{module:n}});const s=yield n.wallet();if(r)return p(n.metadata.name+" is deprecated. Please select another wallet."),void h({name:"AlertMessage",params:{module:n}});if("hardware"===s.type)return void h({name:"DerivationPath",params:{walletId:s.id||"ledger"}});if(h({name:"WalletConnecting",params:{wallet:s}}),"bridge"===s.type){const n=t.on("uriChanged",({uri:t})=>{b(t),h({name:"ScanQRCode",params:{uri:t,wallet:s}})});return yield s.signIn({contractId:e.contractId,methodNames:e.methodNames,qrCodeModal:i}),n.remove(),void y({hideReason:"wallet-navigation"})}if("browser"===s.type)return yield s.signIn({contractId:e.contractId,methodNames:e.methodNames,successUrl:s.metadata.successUrl,failureUrl:s.metadata.failureUrl}),void y({hideReason:"wallet-navigation"});yield s.signIn({contractId:e.contractId,methodNames:e.methodNames}),y({hideReason:"wallet-navigation"})}catch(o){const{name:t}=n.metadata,e=o instanceof Error?o.message:"Something went wrong";p(`Failed to sign in with ${t}: ${e}`),h({name:"AlertMessage",params:{module:n}})}else h({name:"WalletConnected",params:{module:n}})}));return n?Object(i["jsxs"])("div",Object.assign({className:`nws-modal-wrapper ${Hm(null===e||void 0===e?void 0:e.theme)} ${n?"open":""}`},{children:[Object(i["jsx"])("div",{className:"nws-modal-overlay",onClick:()=>{y({hideReason:"user-triggered"})}}),Object(i["jsxs"])("div",Object.assign({className:"nws-modal"},{children:[Object(i["jsxs"])("div",Object.assign({className:"modal-left"},{children:[Object(i["jsx"])("div",Object.assign({className:"modal-left-title"},{children:Object(i["jsx"])("h2",{children:Object(a["e"])("modal.wallet.connectYourWallet")})})),Object(i["jsx"])(Jl,{handleWalletClick:t=>{j(t,!1)},selector:t})]})),Object(i["jsx"])("div",Object.assign({className:"modal-right"},{children:Object(i["jsxs"])("div",Object.assign({className:"nws-modal-body"},{children:["AlertMessage"===d.name&&f&&Object(i["jsx"])(eu,{message:f,module:null===(c=d.params)||void 0===c?void 0:c.module,onBack:t=>{t&&j(m,!1),p(null),h({name:"WalletHome"})},onCloseModal:()=>y({hideReason:"user-triggered"})}),"DerivationPath"===d.name&&Object(i["jsx"])(um,{selector:t,options:e,onConnected:()=>{y({hideReason:"wallet-navigation"})},params:d.params,onBack:()=>h({name:"WalletHome"}),onError:(e,n)=>{const{modules:i}=t.store.getState(),r=i.find(t=>t.id===n.id);p(e),h({name:"AlertMessage",params:{module:r}})},onCloseModal:()=>y({hideReason:"user-triggered"})}),"WalletNetworkChanged"===d.name&&Object(i["jsx"])(La,{selector:t,onBack:()=>h({name:"WalletHome"}),onCloseModal:()=>y({hideReason:"user-triggered"})}),"WalletNotInstalled"===d.name&&Object(i["jsx"])(dm,{module:null===(l=d.params)||void 0===l?void 0:l.module,onBack:()=>{h({name:"WalletHome"})},onCloseModal:()=>y({hideReason:"user-triggered"})}),"WalletConnecting"===d.name&&Object(i["jsx"])(om,{wallet:null===(u=d.params)||void 0===u?void 0:u.wallet,onBack:()=>{h({name:"WalletHome"})},onCloseModal:()=>y({hideReason:"user-triggered"})}),"WalletHome"===d.name&&Object(i["jsx"])(vm,{selector:t,onCloseModal:()=>y({hideReason:"user-triggered"})}),"WalletConnected"===d.name&&Object(i["jsx"])(gm,{module:m,onCloseModal:()=>y({hideReason:"user-triggered"})}),"ScanQRCode"===d.name&&Object(i["jsx"])(Bm,{handleOpenDefaultModal:()=>{j(m,!0)},onCloseModal:()=>y({hideReason:"user-triggered"}),uri:g,wallet:m})]}))}))]}))]})):null},Zm="near-wallet-selector-modal";let zm=null;const Um=(t,e)=>{const n=document.createElement("div");n.id=Zm,document.getElementById(Zm)||document.body.appendChild(n);const o=document.getElementById(Zm),s=Object(r["createRoot"])(o),c=new a["a"],l=(n=!1)=>{s.render(Object(i["jsx"])(Fm,{selector:t,options:e,visible:n,hide:()=>l(!1),emitter:c}))};return zm||(zm={show:()=>{l(!0)},hide:()=>{l(!1)},on:(t,e)=>c.on(t,e),off:(t,e)=>{c.off(t,e)}}),zm}}).call(this,n("c8ba"))},"5be1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetStrategy=void 0;const i=t=>{const e=document.createElement("iframe");return e.src=t,e.style.border="none",e.style.zIndex="10000",e.style.position="fixed",e.style.display="none",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",document.body.appendChild(e),e};class r{constructor(t="https://my.herewallet.app/connector/index.html"){this.widget=t,null==r.connector&&(r.connector=i(t),r.connector.addEventListener("load",()=>{r.isLoaded=!0}))}onRequested(t,e,n){if(null==r.connector)return;r.connector.style.display="block";const i=()=>{var n,o,s;null===(n=r.connector)||void 0===n||n.removeEventListener("load",i),null===(s=null===(o=r.connector)||void 0===o?void 0:o.contentWindow)||void 0===s||s.postMessage(JSON.stringify({type:"request",payload:{id:t,request:e}}),new URL(this.widget).origin)};r.isLoaded?i():r.connector.addEventListener("load",i),this.messageHandler=t=>{try{if(t.origin!==new URL(this.widget).origin)return;"reject"===JSON.parse(t.data).type&&n()}catch(e){}},window.addEventListener("message",this.messageHandler)}onApproving(){var t;null!=r.connector&&(null===(t=r.connector.contentWindow)||void 0===t||t.postMessage(JSON.stringify({type:"approving"}),new URL(this.widget).origin))}onSuccess(){this.close()}onFailed(){this.close()}close(){this.messageHandler&&(window.removeEventListener("message",this.messageHandler),this.messageHandler=void 0),null!=r.connector&&(r.connector.style.display="none")}}e.WidgetStrategy=r,r.isLoaded=!1},"71c5":function(t,e,n){},"722e":function(t,e,n){"use strict";(function(t){var i=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createRequest=e.deleteRequest=e.getResponse=e.getRequest=e.proxyApi=void 0;const o=r(n("58b7")),s=r(n("df6a")),a=n("78b3"),c=n("b427");e.proxyApi="https://h4n.app";const l=(t,n)=>i(void 0,void 0,void 0,(function*(){const i=yield fetch(`${e.proxyApi}/${t}/request`,{signal:n,headers:{"content-type":"application/json"},method:"GET"});if(!1===i.ok)throw Error(yield i.text());const{data:r}=yield i.json();return JSON.parse((0,a.base_decode)(r).toString("utf8"))}));e.getRequest=l;const u=t=>i(void 0,void 0,void 0,(function*(){var n,i,r,o;const s=yield fetch(`${e.proxyApi}/${t}/response`,{headers:{"content-type":"application/json"},method:"GET"});if(!1===s.ok)throw Error(yield s.text());const{data:a}=yield s.json(),c=null!==(n=JSON.parse(a))&&void 0!==n?n:{};return{account_id:null!==(i=c.account_id)&&void 0!==i?i:"",payload:null!==(r=c.payload)&&void 0!==r?r:"",status:null!==(o=c.status)&&void 0!==o?o:-1}}));e.getResponse=u;const d=t=>i(void 0,void 0,void 0,(function*(){const n=yield fetch(`${e.proxyApi}/${t}`,{headers:{"content-type":"application/json"},method:"DELETE"});if(!1===n.ok)throw Error(yield n.text())}));e.deleteRequest=d;const h=(n,r)=>i(void 0,void 0,void 0,(function*(){const i=(0,a.base_encode)(JSON.stringify(Object.assign(Object.assign({},n),{_id:(0,s.default)()}))),l=(0,o.default)(i),u=t.from(l,"hex").toString("base64"),d=u.replaceAll("/","_").replaceAll("-","+").slice(0,13),h=yield fetch(`${e.proxyApi}/${d}/request`,{method:"POST",signal:r,body:JSON.stringify({topic_id:(0,c.getDeviceId)(),data:i}),headers:{"content-type":"application/json"}});if(!1===h.ok)throw Error(yield h.text());return d}));e.createRequest=h}).call(this,n("b639").Buffer)},"7b9c":function(t,e,n){"use strict";(function(t){var i=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HereWallet=void 0;const s=n("d9eb"),a=n("3a62"),c=n("5ac4"),l=n("6c27"),u=o(n("e3c4")),d=n("35b3"),h=n("3988"),f=n("b427"),p=n("8e29"),m=n("9679"),v=n("5be1");class g extends Error{}class b{constructor({nodeUrl:t,networkId:e="mainnet",authStorage:n=new d.HereKeyStore,defaultStrategy:i=(()=>new v.WidgetStrategy),defaultProvider:r=p.proxyProvider}={}){this.authStorage=n,this.defaultProvider=r,this.defaultStrategy=i;const o=new s.InMemorySigner(this.authStorage),c=new a.JsonRpcProvider({url:null!==t&&void 0!==t?t:`https://rpc.${e}.near.org`});this.connection=s.Connection.fromConfig({jsvmAccountId:"jsvm."+e,provider:c,networkId:e,signer:o})}get rpc(){return this.connection.provider}get signer(){return this.connection.signer}get networkId(){return this.connection.networkId}account(t){return i(this,void 0,void 0,(function*(){const e=null!==t&&void 0!==t?t:yield this.authStorage.getActiveAccount(this.networkId);if(null==e)throw new Error("Wallet not signed in");return new s.Account(this.connection,e)}))}isSignedIn(){return i(this,void 0,void 0,(function*(){const t=yield this.authStorage.getActiveAccount(this.networkId);return null!=t}))}signOut(){return i(this,void 0,void 0,(function*(){const t=yield this.authStorage.getActiveAccount(this.networkId);if(null==t)throw new Error("Wallet not signed in");const e=yield this.authStorage.getKey(this.networkId,t);if(null!=e){const n=e.getPublicKey().toString();yield this.silentSignAndSendTransaction({receiverId:t,actions:[{type:"DeleteKey",params:{publicKey:n}}]}).catch(()=>{})}yield this.authStorage.removeKey(this.networkId,t)}))}getHereBalance(t){return i(this,void 0,void 0,(function*(){const e=yield this.account(t),n="mainnet"===this.networkId?"here.storage.near":"here.storage.testnet",i=yield e.viewFunction({args:{account_id:e.accountId},methodName:"ft_balance_of",contractId:n}).catch(()=>"0");return new u.default(i)}))}getAvailableBalance(t){return i(this,void 0,void 0,(function*(){const e=yield this.account(t),n=yield e.getAccountBalance(),i=yield this.getHereBalance();return new u.default(n.available).add(new u.default(i))}))}getAccounts(){return i(this,void 0,void 0,(function*(){return yield this.authStorage.getAccounts(this.networkId)}))}getAccountId(){return i(this,void 0,void 0,(function*(){const t=yield this.authStorage.getActiveAccount(this.networkId);if(null==t)throw new Error("Wallet not signed in");return t}))}switchAccount(t){return i(this,void 0,void 0,(function*(){const e=yield this.authStorage.getKey(this.networkId,t);if(null==e)throw new Error(`Account ${t} not signed in`);yield this.authStorage.setActiveAccount(this.networkId,t)}))}signIn(t={}){var e,n,o,a,l,{contractId:u,allowance:d,methodNames:h=[]}=t,p=r(t,["contractId","allowance","methodNames"]);return i(this,void 0,void 0,(function*(){if(null==u){const{accountId:t}=yield this.signMessage(Object.assign({receiver:window.location.host,message:"Sign this message to sign in"},p));return yield this.authStorage.setKey(this.networkId,t,c.KeyPairEd25519.fromRandom()),yield this.authStorage.setActiveAccount(this.networkId,t),t}p.strategy=null!==(e=p.strategy)&&void 0!==e?e:this.defaultStrategy(),p.provider=null!==(n=p.provider)&&void 0!==n?n:this.defaultProvider,null===(o=p.onInitialized)||void 0===o||o.call(p),null===(l=null===(a=p.strategy)||void 0===a?void 0:a.onInitialized)||void 0===l||l.call(a);try{const t=s.KeyPair.fromRandom("ed25519"),e={receiverId:u,methodNames:h,allowance:d},n=yield p.provider(Object.assign(Object.assign({},p),{request:{type:"call",network:this.networkId,transactions:[{actions:[{type:"AddKey",params:{publicKey:t.getPublicKey().toString(),accessKey:{permission:e}}}]}]}}));if(null==n.account_id)throw Error("Transaction is failed");return yield this.authStorage.setKey(this.networkId,n.account_id,t),yield this.authStorage.setActiveAccount(this.networkId,n.account_id),n.account_id}catch(t){throw(0,f.internalThrow)(t,p),t}}))}silentSignAndSendTransaction({actions:t,receiverId:e,signerId:n}){return i(this,void 0,void 0,(function*(){const i=yield this.account(n),r=yield this.authStorage.getKey(this.networkId,i.accountId);if(null==r)throw new g;const o=r.getPublicKey(),s=yield i.getAccessKeys(),a={receiverId:e,actions:t},c=s.some(t=>t.public_key===o.toString()&&(0,f.isValidAccessKey)(i.accountId,t,a));if(!1===c)throw new g;return yield i.signAndSendTransaction({actions:t.map(t=>(0,m.createAction)(t)),receiverId:null!==e&&void 0!==e?e:i.accountId})}))}signAndSendTransaction(t){var e,n,o,s,a,c,l,u;return i(this,void 0,void 0,(function*(){const{signerId:i,receiverId:d,actions:p}=t,m=r(t,["signerId","receiverId","actions"]),v=m;v.strategy=null!==(e=v.strategy)&&void 0!==e?e:this.defaultStrategy(),v.provider=null!==(n=v.provider)&&void 0!==n?n:this.defaultProvider,null===(o=v.onInitialized)||void 0===o||o.call(v),null===(a=null===(s=v.strategy)||void 0===s?void 0:s.onInitialized)||void 0===a||a.call(s);try{const t=yield this.silentSignAndSendTransaction({receiverId:d,actions:p,signerId:i}),e={status:h.HereProviderStatus.SUCCESS,payload:null===t||void 0===t?void 0:t.transaction_outcome.id};return null===(c=v.onSuccess)||void 0===c||c.call(v,e),null===(u=null===(l=v.strategy)||void 0===l?void 0:l.onSuccess)||void 0===u||u.call(l,e),t}catch(b){try{if(!(b instanceof g)&&"NotEnoughAllowance"!==(null===b||void 0===b?void 0:b.type))throw(0,f.internalThrow)(b,v),b;const t=yield v.provider(Object.assign(Object.assign({},v),{request:{type:"call",transactions:[{actions:(0,f.serializeActions)(p),receiverId:d,signerId:i}],network:this.networkId}}));if(null==t.payload||null==t.account_id)throw Error("Transaction not found, but maybe executed");return yield this.rpc.txStatus(t.payload,t.account_id)}catch(y){throw(0,f.internalThrow)(y,v),y}}}))}signMessage(e){var n,o,s,a,u,{message:d,receiver:h,nonce:f}=e,p=r(e,["message","receiver","nonce"]);return i(this,void 0,void 0,(function*(){if(p.strategy=null!==(n=p.strategy)&&void 0!==n?n:this.defaultStrategy(),p.provider=null!==(o=p.provider)&&void 0!==o?o:this.defaultProvider,null===(s=p.onInitialized)||void 0===s||s.call(p),null===(u=null===(a=p.strategy)||void 0===a?void 0:a.onInitialized)||void 0===u||u.call(a),null==f){let t=new Uint8Array(32);f=[...crypto.getRandomValues(t)]}const e=yield p.provider(Object.assign(Object.assign({},p),{request:{type:"sign",message:d,receiver:h,nonce:f,network:this.networkId}}));if(null==e.payload)throw Error("Signature not found");try{const{publicKey:n,signature:i,accountId:r}=JSON.parse(e.payload),o=new Uint8Array(t.from(i,"base64")),s=JSON.stringify({message:d,receiver:h,nonce:f}),a=new Uint8Array(l.sha256.digest("NEP0413:"+s)),u=c.PublicKey.from(n).verify(a,o);if(!1===u)throw Error();const p=yield this.account(r),m=yield p.getAccessKeys(),v=n.toString(),g=m.some(t=>t.public_key===v&&"FullAccess"===t.access_key.permission);if(!1===g)throw Error();return{signature:new Uint8Array(t.from(i,"base64")),publicKey:c.PublicKey.from(n),message:"NEP0413:"+s,receiver:h,accountId:r,nonce:f}}catch(i){throw Error("Signature not correct")}}))}signAndSendTransactions(t){var e,n,o,s,a,c,l,u,{transactions:d}=t,p=r(t,["transactions"]);return i(this,void 0,void 0,(function*(){p.strategy=null!==(e=p.strategy)&&void 0!==e?e:this.defaultStrategy(),p.provider=null!==(n=p.provider)&&void 0!==n?n:this.defaultProvider,null===(o=p.onInitialized)||void 0===o||o.call(p),null===(a=null===(s=p.strategy)||void 0===s?void 0:s.onInitialized)||void 0===a||a.call(s);let t=[];try{for(const i of d){const e=yield this.silentSignAndSendTransaction(i);t.push(e)}const e=t.map(t=>t.transaction_outcome.id).join(","),n={status:h.HereProviderStatus.SUCCESS,payload:e};return null===(c=p.onSuccess)||void 0===c||c.call(p,n),null===(u=null===(l=p.strategy)||void 0===l?void 0:l.onSuccess)||void 0===u||u.call(l,n),t}catch(i){try{if(!(i instanceof g)&&"NotEnoughAllowance"!==(null===i||void 0===i?void 0:i.type))throw(0,f.internalThrow)(i,p),i;const e=d.slice(t.length),n=yield p.provider(Object.assign(Object.assign({},p),{request:{type:"call",transactions:e.map(t=>Object.assign(Object.assign({},t),{actions:(0,f.serializeActions)(t.actions)})),network:this.networkId}}));if(null==n.payload||null==n.account_id)throw Error("Transaction not found, but maybe executed");const r=n.payload.split(",").map(t=>this.rpc.txStatus(t,n.account_id));return yield Promise.all(r)}catch(r){throw(0,f.internalThrow)(r,p),r}}}))}}e.HereWallet=b}).call(this,n("b639").Buffer)},"8e29":function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.proxyProvider=e.getRequest=e.proxyApi=e.deleteRequest=e.getResponse=e.createRequest=void 0;const o=n("b427"),s=n("3988"),a=n("722e");Object.defineProperty(e,"createRequest",{enumerable:!0,get:function(){return a.createRequest}}),Object.defineProperty(e,"getResponse",{enumerable:!0,get:function(){return a.getResponse}}),Object.defineProperty(e,"deleteRequest",{enumerable:!0,get:function(){return a.deleteRequest}}),Object.defineProperty(e,"proxyApi",{enumerable:!0,get:function(){return a.proxyApi}}),Object.defineProperty(e,"getRequest",{enumerable:!0,get:function(){return a.getRequest}});const c=t=>i(void 0,void 0,void 0,(function*(){let{strategy:e,request:n,disableCleanupRequest:c,id:l,signal:u}=t,d=r(t,["strategy","request","disableCleanupRequest","id","signal"]);return null!=l?n=yield(0,a.getRequest)(l,u):l=yield(0,a.createRequest)(n,u),new Promise((t,r)=>{var h,f;const p=a.proxyApi.replace("https","wss");let m=null,v=null;const g=()=>i(void 0,void 0,void 0,(function*(){m=-1,clearInterval(m),null===v||void 0===v||v.close(),!0!==c&&(yield(0,a.deleteRequest)(l))})),b=n=>{var i,o,a,c,l,u;switch(n.status){case s.HereProviderStatus.APPROVING:return null===(i=d.onApproving)||void 0===i||i.call(d,n),void(null===(o=null===e||void 0===e?void 0:e.onApproving)||void 0===o||o.call(e,n));case s.HereProviderStatus.FAILED:return g(),r(new s.HereProviderError(n.payload)),null===(a=d.onFailed)||void 0===a||a.call(d,n),void(null===(c=null===e||void 0===e?void 0:e.onFailed)||void 0===c||c.call(e,n));case s.HereProviderStatus.SUCCESS:return g(),t(n),null===(l=d.onSuccess)||void 0===l||l.call(d,n),void(null===(u=null===e||void 0===e?void 0:e.onSuccess)||void 0===u||u.call(e,n))}},y=t=>{b({status:s.HereProviderStatus.FAILED,payload:t})};null===(h=d.onRequested)||void 0===h||h.call(d,l,n,y),null===(f=null===e||void 0===e?void 0:e.onRequested)||void 0===f||f.call(e,l,n,y),null===u||void 0===u||u.addEventListener("abort",()=>y());const j=()=>{-1!==m&&(m=setTimeout(()=>i(void 0,void 0,void 0,(function*(){var t,n;try{const t=yield(0,a.getResponse)(l);if(-1===m)return;b(t),j()}catch(i){const o=s.HereProviderStatus.FAILED,a=i instanceof Error?i:void 0,c=null===a||void 0===a?void 0:a.message;g(),r(new s.HereProviderError(c,a)),null===(t=d.onFailed)||void 0===t||t.call(d,{status:o,payload:c}),null===(n=null===e||void 0===e?void 0:e.onFailed)||void 0===n||n.call(e,{status:o,payload:c})}})),3e3))};if(j(),!1===(0,o.isMobile)()){const t=`${p}/ws/${l}`;v=new WebSocket(t),v.onmessage=t=>{if(null!=t.data)try{const e=JSON.parse(t.data);b(e)}catch(h){}}}})}));e.proxyProvider=c},9679:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.createAction=e.parseArgs=void 0;const i=n("e3c4"),r=n("d9eb"),o=t=>{if("FullAccess"===t)return r.transactions.fullAccessKey();const{receiverId:e,methodNames:n=[]}=t,o=t.allowance?new i.BN(t.allowance):void 0;return r.transactions.functionCallAccessKey(e,n,o)},s=e=>"string"===typeof e?t.from(e,"base64"):e;e.parseArgs=s;const a=t=>{switch(t.type){case"CreateAccount":return r.transactions.createAccount();case"DeployContract":{const{code:e}=t.params;return r.transactions.deployContract(e)}case"FunctionCall":{const{methodName:n,args:o,gas:s,deposit:a}=t.params;return r.transactions.functionCall(n,(0,e.parseArgs)(o),new i.BN(s),new i.BN(a))}case"Transfer":{const{deposit:e}=t.params;return r.transactions.transfer(new i.BN(e))}case"Stake":{const{stake:e,publicKey:n}=t.params;return r.transactions.stake(new i.BN(e),r.utils.PublicKey.from(n))}case"AddKey":{const{publicKey:e,accessKey:n}=t.params;return r.transactions.addKey(r.utils.PublicKey.from(e),o(n.permission))}case"DeleteKey":{const{publicKey:e}=t.params;return r.transactions.deleteKey(r.utils.PublicKey.from(e))}case"DeleteAccount":{const{beneficiaryId:e}=t.params;return r.transactions.deleteAccount(e)}default:throw new Error("Invalid action type")}};e.createAction=a}).call(this,n("b639").Buffer)},a9a7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},b427:function(t,e,n){"use strict";(function(t){var i=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):r(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isValidAccessKey=e.internalThrow=e.getPublicKeys=e.serializeActions=e.isMobile=e.getDeviceId=void 0;const o=r(n("df6a")),s=n("3988"),a=()=>{const t=window.localStorage.getItem("herewallet-topic")||(0,o.default)();return window.localStorage.setItem("herewallet-topic",t),t};e.getDeviceId=a;const c=()=>window.matchMedia("(any-pointer:coarse)").matches;e.isMobile=c;const l=e=>e.map(e=>{if("FunctionCall"!==e.type)return e;let{args:n,deposit:i,gas:r,methodName:o}=e.params;return ArrayBuffer.isView(n)&&(n=t.from(n.buffer,n.byteOffset,n.byteLength)),n instanceof t&&(n=n.toString("base64")),{type:e.type,params:{args:n,deposit:i,gas:r,methodName:o}}});e.serializeActions=l;const u=(t,e)=>i(void 0,void 0,void 0,(function*(){const n=yield fetch(t,{method:"POST",body:JSON.stringify({jsonrpc:"2.0",id:"dontcare",method:"query",params:{request_type:"view_access_key_list",finality:"final",account_id:e}}),headers:{"content-type":"application/json"}});if(!1===n.ok)return[];const i=yield n.json();return i.result.keys}));e.getPublicKeys=u;const d=(t,e)=>{var n,i,r;if(t instanceof s.HereProviderError)throw t;const o={payload:t instanceof Error?t.message:"UNKNOWN",status:s.HereProviderStatus.FAILED,account_id:""};throw null===(n=e.onFailed)||void 0===n||n.call(e,o),null===(r=null===(i=null===e||void 0===e?void 0:e.strategy)||void 0===i?void 0:i.onFailed)||void 0===r||r.call(i,o),t};e.internalThrow=d;const h=(t,e,n)=>{const{permission:i}=e.access_key;if("FullAccess"===i)return!0;if(i.FunctionCall){const{receiver_id:e,method_names:r}=i.FunctionCall;if(e===t&&r.includes("add_request_and_confirm"))return!0;if(e===n.receiverId)return 1===n.actions.length&&n.actions.every(t=>"FunctionCall"===t.type&&((!t.params.deposit||"0"===t.params.deposit.toString())&&(0===r.length||r.includes(t.params.methodName))))}return!1};e.isValidAccessKey=h}).call(this,n("b639").Buffer)},e3c4:function(t,e,n){(function(t){(function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(18).Buffer}catch(N){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void i(!1,"Invalid character in "+t)}function c(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function l(t,e,n,r){for(var o=0,s=0,a=Math.min(t.length,n),c=e;c<a;c++){var l=t.charCodeAt(c)-48;o*=r,s=l>=49?l-49+10:l>=17?l-17+10:l,i(l>=0&&s<r,"Invalid character"),o+=s}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var r=0;"-"===t[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(i("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,s,a=0;if("be"===n)for(r=t.length-1,o=0;r>=0;r-=3)s=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,o++);else if("le"===n)for(r=0,o=0;r<t.length;r+=3)s=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,s=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=c(t,e,i)<<o,this.words[s]|=67108863&r,o>=18?(o-=18,s+=1,this.words[s]|=r>>>26):o+=8;else{var a=t.length-e;for(i=a%2===0?e+1:e;i<t.length;i+=2)r=c(t,e,i)<<o,this.words[s]|=67108863&r,o>=18?(o-=18,s+=1,this.words[s]|=r>>>26):o+=8}this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var o=t.length-n,s=o%i,a=Math.min(o,o-s)+n,c=0,u=n;u<a;u+=i)c=l(t,u,u+i,e),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=l(t,u,t.length,e),u=0;u<s;u++)d*=e;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){u(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){while(this.length<t)this.words[this.length++]=0;return this},o.prototype._strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(N){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var r=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<r|o)).toString(16);o=a>>>24-r&16777215,r+=2,r>=26&&(r-=26,s--),n=0!==o||s!==this.length-1?h[6-c.length]+c+n:c+n}0!==o&&(n=o.toString(16)+n);while(n.length%e!==0)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],u=p[t];n="";var d=this.clone();d.negative=0;while(!d.isZero()){var m=d.modrn(u).toString(t);d=d.idivn(u),n=d.isZero()?m+n:h[l-m.length]+m+n}this.isZero()&&(n="0"+n);while(n.length%e!==0)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};var m=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)};function v(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=t.words[i]>>>r&1}return e}function g(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],o=0|e.words[0],s=r*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var l=1;l<i;l++){for(var u=c>>>26,d=67108863&c,h=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=h;f++){var p=l-f|0;r=0|t.words[p],o=0|e.words[f],s=r*o+d,u+=s/67108864|0,d=67108863&s}n.words[l]=0|d,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0");var s=m(t,o),a="le"===e?"LE":"BE";return this["_toArrayLike"+a](s,r),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,i=0,r=0,o=0;r<this.length;r++){var s=this.words[r]<<o|i;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(n<t.length){t[n++]=i;while(n<t.length)t[n++]=0}},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,i=0,r=0,o=0;r<this.length;r++){var s=this.words[r]<<o|i;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(n>=0){t[n--]=i;while(n>=0)t[n--]=0}},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){while(this.length<t.length)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return i(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return i(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return i(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"===typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this._strip()},o.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var o=0,s=0;s<i.length;s++)e=(0|n.words[s])-(0|i.words[s])+o,o=e>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)e=(0|n.words[s])+o,o=e>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var b=function(t,e,n){var i,r,o,s=t.words,a=e.words,c=n.words,l=0,u=0|s[0],d=8191&u,h=u>>>13,f=0|s[1],p=8191&f,m=f>>>13,v=0|s[2],g=8191&v,b=v>>>13,y=0|s[3],j=8191&y,w=y>>>13,O=0|s[4],M=8191&O,x=O>>>13,S=0|s[5],C=8191&S,A=S>>>13,k=0|s[6],L=8191&k,N=k>>>13,I=0|s[7],E=8191&I,_=I>>>13,P=0|s[8],R=8191&P,T=P>>>13,D=0|s[9],W=8191&D,B=D>>>13,H=0|a[0],F=8191&H,Z=H>>>13,z=0|a[1],U=8191&z,q=z>>>13,K=0|a[2],G=8191&K,V=K>>>13,Y=0|a[3],Q=8191&Y,J=Y>>>13,$=0|a[4],X=8191&$,tt=$>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],ot=8191&rt,st=rt>>>13,at=0|a[7],ct=8191&at,lt=at>>>13,ut=0|a[8],dt=8191&ut,ht=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19,i=Math.imul(d,F),r=Math.imul(d,Z),r=r+Math.imul(h,F)|0,o=Math.imul(h,Z);var vt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(p,F),r=Math.imul(p,Z),r=r+Math.imul(m,F)|0,o=Math.imul(m,Z),i=i+Math.imul(d,U)|0,r=r+Math.imul(d,q)|0,r=r+Math.imul(h,U)|0,o=o+Math.imul(h,q)|0;var gt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(g,F),r=Math.imul(g,Z),r=r+Math.imul(b,F)|0,o=Math.imul(b,Z),i=i+Math.imul(p,U)|0,r=r+Math.imul(p,q)|0,r=r+Math.imul(m,U)|0,o=o+Math.imul(m,q)|0,i=i+Math.imul(d,G)|0,r=r+Math.imul(d,V)|0,r=r+Math.imul(h,G)|0,o=o+Math.imul(h,V)|0;var bt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(j,F),r=Math.imul(j,Z),r=r+Math.imul(w,F)|0,o=Math.imul(w,Z),i=i+Math.imul(g,U)|0,r=r+Math.imul(g,q)|0,r=r+Math.imul(b,U)|0,o=o+Math.imul(b,q)|0,i=i+Math.imul(p,G)|0,r=r+Math.imul(p,V)|0,r=r+Math.imul(m,G)|0,o=o+Math.imul(m,V)|0,i=i+Math.imul(d,Q)|0,r=r+Math.imul(d,J)|0,r=r+Math.imul(h,Q)|0,o=o+Math.imul(h,J)|0;var yt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(M,F),r=Math.imul(M,Z),r=r+Math.imul(x,F)|0,o=Math.imul(x,Z),i=i+Math.imul(j,U)|0,r=r+Math.imul(j,q)|0,r=r+Math.imul(w,U)|0,o=o+Math.imul(w,q)|0,i=i+Math.imul(g,G)|0,r=r+Math.imul(g,V)|0,r=r+Math.imul(b,G)|0,o=o+Math.imul(b,V)|0,i=i+Math.imul(p,Q)|0,r=r+Math.imul(p,J)|0,r=r+Math.imul(m,Q)|0,o=o+Math.imul(m,J)|0,i=i+Math.imul(d,X)|0,r=r+Math.imul(d,tt)|0,r=r+Math.imul(h,X)|0,o=o+Math.imul(h,tt)|0;var jt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(jt>>>26)|0,jt&=67108863,i=Math.imul(C,F),r=Math.imul(C,Z),r=r+Math.imul(A,F)|0,o=Math.imul(A,Z),i=i+Math.imul(M,U)|0,r=r+Math.imul(M,q)|0,r=r+Math.imul(x,U)|0,o=o+Math.imul(x,q)|0,i=i+Math.imul(j,G)|0,r=r+Math.imul(j,V)|0,r=r+Math.imul(w,G)|0,o=o+Math.imul(w,V)|0,i=i+Math.imul(g,Q)|0,r=r+Math.imul(g,J)|0,r=r+Math.imul(b,Q)|0,o=o+Math.imul(b,J)|0,i=i+Math.imul(p,X)|0,r=r+Math.imul(p,tt)|0,r=r+Math.imul(m,X)|0,o=o+Math.imul(m,tt)|0,i=i+Math.imul(d,nt)|0,r=r+Math.imul(d,it)|0,r=r+Math.imul(h,nt)|0,o=o+Math.imul(h,it)|0;var wt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(L,F),r=Math.imul(L,Z),r=r+Math.imul(N,F)|0,o=Math.imul(N,Z),i=i+Math.imul(C,U)|0,r=r+Math.imul(C,q)|0,r=r+Math.imul(A,U)|0,o=o+Math.imul(A,q)|0,i=i+Math.imul(M,G)|0,r=r+Math.imul(M,V)|0,r=r+Math.imul(x,G)|0,o=o+Math.imul(x,V)|0,i=i+Math.imul(j,Q)|0,r=r+Math.imul(j,J)|0,r=r+Math.imul(w,Q)|0,o=o+Math.imul(w,J)|0,i=i+Math.imul(g,X)|0,r=r+Math.imul(g,tt)|0,r=r+Math.imul(b,X)|0,o=o+Math.imul(b,tt)|0,i=i+Math.imul(p,nt)|0,r=r+Math.imul(p,it)|0,r=r+Math.imul(m,nt)|0,o=o+Math.imul(m,it)|0,i=i+Math.imul(d,ot)|0,r=r+Math.imul(d,st)|0,r=r+Math.imul(h,ot)|0,o=o+Math.imul(h,st)|0;var Ot=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(E,F),r=Math.imul(E,Z),r=r+Math.imul(_,F)|0,o=Math.imul(_,Z),i=i+Math.imul(L,U)|0,r=r+Math.imul(L,q)|0,r=r+Math.imul(N,U)|0,o=o+Math.imul(N,q)|0,i=i+Math.imul(C,G)|0,r=r+Math.imul(C,V)|0,r=r+Math.imul(A,G)|0,o=o+Math.imul(A,V)|0,i=i+Math.imul(M,Q)|0,r=r+Math.imul(M,J)|0,r=r+Math.imul(x,Q)|0,o=o+Math.imul(x,J)|0,i=i+Math.imul(j,X)|0,r=r+Math.imul(j,tt)|0,r=r+Math.imul(w,X)|0,o=o+Math.imul(w,tt)|0,i=i+Math.imul(g,nt)|0,r=r+Math.imul(g,it)|0,r=r+Math.imul(b,nt)|0,o=o+Math.imul(b,it)|0,i=i+Math.imul(p,ot)|0,r=r+Math.imul(p,st)|0,r=r+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0,i=i+Math.imul(d,ct)|0,r=r+Math.imul(d,lt)|0,r=r+Math.imul(h,ct)|0,o=o+Math.imul(h,lt)|0;var Mt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(R,F),r=Math.imul(R,Z),r=r+Math.imul(T,F)|0,o=Math.imul(T,Z),i=i+Math.imul(E,U)|0,r=r+Math.imul(E,q)|0,r=r+Math.imul(_,U)|0,o=o+Math.imul(_,q)|0,i=i+Math.imul(L,G)|0,r=r+Math.imul(L,V)|0,r=r+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(C,Q)|0,r=r+Math.imul(C,J)|0,r=r+Math.imul(A,Q)|0,o=o+Math.imul(A,J)|0,i=i+Math.imul(M,X)|0,r=r+Math.imul(M,tt)|0,r=r+Math.imul(x,X)|0,o=o+Math.imul(x,tt)|0,i=i+Math.imul(j,nt)|0,r=r+Math.imul(j,it)|0,r=r+Math.imul(w,nt)|0,o=o+Math.imul(w,it)|0,i=i+Math.imul(g,ot)|0,r=r+Math.imul(g,st)|0,r=r+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,i=i+Math.imul(p,ct)|0,r=r+Math.imul(p,lt)|0,r=r+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0,i=i+Math.imul(d,dt)|0,r=r+Math.imul(d,ht)|0,r=r+Math.imul(h,dt)|0,o=o+Math.imul(h,ht)|0;var xt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(W,F),r=Math.imul(W,Z),r=r+Math.imul(B,F)|0,o=Math.imul(B,Z),i=i+Math.imul(R,U)|0,r=r+Math.imul(R,q)|0,r=r+Math.imul(T,U)|0,o=o+Math.imul(T,q)|0,i=i+Math.imul(E,G)|0,r=r+Math.imul(E,V)|0,r=r+Math.imul(_,G)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(L,Q)|0,r=r+Math.imul(L,J)|0,r=r+Math.imul(N,Q)|0,o=o+Math.imul(N,J)|0,i=i+Math.imul(C,X)|0,r=r+Math.imul(C,tt)|0,r=r+Math.imul(A,X)|0,o=o+Math.imul(A,tt)|0,i=i+Math.imul(M,nt)|0,r=r+Math.imul(M,it)|0,r=r+Math.imul(x,nt)|0,o=o+Math.imul(x,it)|0,i=i+Math.imul(j,ot)|0,r=r+Math.imul(j,st)|0,r=r+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,i=i+Math.imul(g,ct)|0,r=r+Math.imul(g,lt)|0,r=r+Math.imul(b,ct)|0,o=o+Math.imul(b,lt)|0,i=i+Math.imul(p,dt)|0,r=r+Math.imul(p,ht)|0,r=r+Math.imul(m,dt)|0,o=o+Math.imul(m,ht)|0,i=i+Math.imul(d,pt)|0,r=r+Math.imul(d,mt)|0,r=r+Math.imul(h,pt)|0,o=o+Math.imul(h,mt)|0;var St=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(W,U),r=Math.imul(W,q),r=r+Math.imul(B,U)|0,o=Math.imul(B,q),i=i+Math.imul(R,G)|0,r=r+Math.imul(R,V)|0,r=r+Math.imul(T,G)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(E,Q)|0,r=r+Math.imul(E,J)|0,r=r+Math.imul(_,Q)|0,o=o+Math.imul(_,J)|0,i=i+Math.imul(L,X)|0,r=r+Math.imul(L,tt)|0,r=r+Math.imul(N,X)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(C,nt)|0,r=r+Math.imul(C,it)|0,r=r+Math.imul(A,nt)|0,o=o+Math.imul(A,it)|0,i=i+Math.imul(M,ot)|0,r=r+Math.imul(M,st)|0,r=r+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,i=i+Math.imul(j,ct)|0,r=r+Math.imul(j,lt)|0,r=r+Math.imul(w,ct)|0,o=o+Math.imul(w,lt)|0,i=i+Math.imul(g,dt)|0,r=r+Math.imul(g,ht)|0,r=r+Math.imul(b,dt)|0,o=o+Math.imul(b,ht)|0,i=i+Math.imul(p,pt)|0,r=r+Math.imul(p,mt)|0,r=r+Math.imul(m,pt)|0,o=o+Math.imul(m,mt)|0;var Ct=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(W,G),r=Math.imul(W,V),r=r+Math.imul(B,G)|0,o=Math.imul(B,V),i=i+Math.imul(R,Q)|0,r=r+Math.imul(R,J)|0,r=r+Math.imul(T,Q)|0,o=o+Math.imul(T,J)|0,i=i+Math.imul(E,X)|0,r=r+Math.imul(E,tt)|0,r=r+Math.imul(_,X)|0,o=o+Math.imul(_,tt)|0,i=i+Math.imul(L,nt)|0,r=r+Math.imul(L,it)|0,r=r+Math.imul(N,nt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(C,ot)|0,r=r+Math.imul(C,st)|0,r=r+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,i=i+Math.imul(M,ct)|0,r=r+Math.imul(M,lt)|0,r=r+Math.imul(x,ct)|0,o=o+Math.imul(x,lt)|0,i=i+Math.imul(j,dt)|0,r=r+Math.imul(j,ht)|0,r=r+Math.imul(w,dt)|0,o=o+Math.imul(w,ht)|0,i=i+Math.imul(g,pt)|0,r=r+Math.imul(g,mt)|0,r=r+Math.imul(b,pt)|0,o=o+Math.imul(b,mt)|0;var At=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(W,Q),r=Math.imul(W,J),r=r+Math.imul(B,Q)|0,o=Math.imul(B,J),i=i+Math.imul(R,X)|0,r=r+Math.imul(R,tt)|0,r=r+Math.imul(T,X)|0,o=o+Math.imul(T,tt)|0,i=i+Math.imul(E,nt)|0,r=r+Math.imul(E,it)|0,r=r+Math.imul(_,nt)|0,o=o+Math.imul(_,it)|0,i=i+Math.imul(L,ot)|0,r=r+Math.imul(L,st)|0,r=r+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(C,ct)|0,r=r+Math.imul(C,lt)|0,r=r+Math.imul(A,ct)|0,o=o+Math.imul(A,lt)|0,i=i+Math.imul(M,dt)|0,r=r+Math.imul(M,ht)|0,r=r+Math.imul(x,dt)|0,o=o+Math.imul(x,ht)|0,i=i+Math.imul(j,pt)|0,r=r+Math.imul(j,mt)|0,r=r+Math.imul(w,pt)|0,o=o+Math.imul(w,mt)|0;var kt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(W,X),r=Math.imul(W,tt),r=r+Math.imul(B,X)|0,o=Math.imul(B,tt),i=i+Math.imul(R,nt)|0,r=r+Math.imul(R,it)|0,r=r+Math.imul(T,nt)|0,o=o+Math.imul(T,it)|0,i=i+Math.imul(E,ot)|0,r=r+Math.imul(E,st)|0,r=r+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,i=i+Math.imul(L,ct)|0,r=r+Math.imul(L,lt)|0,r=r+Math.imul(N,ct)|0,o=o+Math.imul(N,lt)|0,i=i+Math.imul(C,dt)|0,r=r+Math.imul(C,ht)|0,r=r+Math.imul(A,dt)|0,o=o+Math.imul(A,ht)|0,i=i+Math.imul(M,pt)|0,r=r+Math.imul(M,mt)|0,r=r+Math.imul(x,pt)|0,o=o+Math.imul(x,mt)|0;var Lt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,i=Math.imul(W,nt),r=Math.imul(W,it),r=r+Math.imul(B,nt)|0,o=Math.imul(B,it),i=i+Math.imul(R,ot)|0,r=r+Math.imul(R,st)|0,r=r+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,i=i+Math.imul(E,ct)|0,r=r+Math.imul(E,lt)|0,r=r+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,i=i+Math.imul(L,dt)|0,r=r+Math.imul(L,ht)|0,r=r+Math.imul(N,dt)|0,o=o+Math.imul(N,ht)|0,i=i+Math.imul(C,pt)|0,r=r+Math.imul(C,mt)|0,r=r+Math.imul(A,pt)|0,o=o+Math.imul(A,mt)|0;var Nt=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(W,ot),r=Math.imul(W,st),r=r+Math.imul(B,ot)|0,o=Math.imul(B,st),i=i+Math.imul(R,ct)|0,r=r+Math.imul(R,lt)|0,r=r+Math.imul(T,ct)|0,o=o+Math.imul(T,lt)|0,i=i+Math.imul(E,dt)|0,r=r+Math.imul(E,ht)|0,r=r+Math.imul(_,dt)|0,o=o+Math.imul(_,ht)|0,i=i+Math.imul(L,pt)|0,r=r+Math.imul(L,mt)|0,r=r+Math.imul(N,pt)|0,o=o+Math.imul(N,mt)|0;var It=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(W,ct),r=Math.imul(W,lt),r=r+Math.imul(B,ct)|0,o=Math.imul(B,lt),i=i+Math.imul(R,dt)|0,r=r+Math.imul(R,ht)|0,r=r+Math.imul(T,dt)|0,o=o+Math.imul(T,ht)|0,i=i+Math.imul(E,pt)|0,r=r+Math.imul(E,mt)|0,r=r+Math.imul(_,pt)|0,o=o+Math.imul(_,mt)|0;var Et=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(W,dt),r=Math.imul(W,ht),r=r+Math.imul(B,dt)|0,o=Math.imul(B,ht),i=i+Math.imul(R,pt)|0,r=r+Math.imul(R,mt)|0,r=r+Math.imul(T,pt)|0,o=o+Math.imul(T,mt)|0;var _t=(l+i|0)+((8191&r)<<13)|0;l=(o+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(W,pt),r=Math.imul(W,mt),r=r+Math.imul(B,pt)|0,o=Math.imul(B,mt);var Pt=(l+i|0)+((8191&r)<<13)|0;return l=(o+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,c[0]=vt,c[1]=gt,c[2]=bt,c[3]=yt,c[4]=jt,c[5]=wt,c[6]=Ot,c[7]=Mt,c[8]=xt,c[9]=St,c[10]=Ct,c[11]=At,c[12]=kt,c[13]=Lt,c[14]=Nt,c[15]=It,c[16]=Et,c[17]=_t,c[18]=Pt,0!==l&&(c[19]=l,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var s=r;r=0;for(var a=67108863&i,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,d=0|t.words[u],h=0|e.words[l],f=d*h,p=67108863&f;s=s+(f/67108864|0)|0,p=p+a|0,a=67108863&p,s=s+(p>>>26)|0,r+=s>>>26,s&=67108863}n.words[o]=a,i=s,s=r}return 0!==i?n.words[o]=i:n.length--,n._strip()}function j(t,e,n){return y(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(b=g),o.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?b(this,t,e):i<63?g(this,t,e):i<1024?y(this,t,e):j(this,t,e),n},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},w.prototype.permute=function(t,e,n,i,r,o){for(var s=0;s<o;s++)i[s]=e[t[s]],r[s]=n[t[s]]},w.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var s=1;s<r;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var d=c,h=l,f=0;f<s;f++){var p=n[u+f],m=i[u+f],v=n[u+f+s],g=i[u+f+s],b=d*v-h*g;g=d*g+h*v,v=b,n[u+f]=p+v,i[u+f]=m+g,n[u+f+s]=p-v,i[u+f+s]=m-g,f!==a&&(b=c*d-l*h,h=c*h+l*d,d=b)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},w.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},w.prototype.convert13b=function(t,e,n,r){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<r;++s)n[s]=0;i(0===o),i(0===(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),l=new Array(i),u=new Array(i),d=new Array(i),h=n.words;h.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,l,i),this.transform(s,o,a,c,i,r),this.transform(l,o,u,d,i,r);for(var f=0;f<i;f++){var p=a[f]*u[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),j(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"===typeof t),i(t<67108864);for(var n=0,r=0;r<this.length;r++){var o=(0|this.words[r])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[r]=67108863&s}return 0!==n&&(this.words[r]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=v(t);if(0===e.length)return new o(1);for(var n=this,i=0;i<e.length;i++,n=n.sqr())if(0!==e[i])break;if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(t){i("number"===typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var r;i("number"===typeof t&&t>=0),r=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(r-=s,r=Math.max(0,r),c){for(var l=0;l<s;l++)c.words[l]=this.words[l];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var d=0|this.words[l];this.words[l]=u<<26-o|d>>>o,u=d&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return!1;var o=this.words[n];return!!(o&r)},o.prototype.imaskn=function(t){i("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return i("number"===typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"===typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var r,o,s=t.length+n;this._expand(s);var a=0;for(r=0;r<t.length;r++){o=(0|this.words[r+n])+a;var c=(0|t.words[r])*e;o-=67108863&c,a=(o>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)o=(0|this.words[r+n])+a,a=o>>26,this.words[r+n]=67108863&o;if(0===a)return this._strip();for(i(-1===a),a=0,r=0;r<this.length;r++)o=-(0|this.words[r])+a,a=o>>26,this.words[r]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=this.length-t.length,i=this.clone(),r=t,s=0|r.words[r.length-1],a=this._countBits(s);n=26-a,0!==n&&(r=r.ushln(n),i.iushln(n),s=0|r.words[r.length-1]);var c,l=i.length-r.length;if("mod"!==e){c=new o(null),c.length=l+1,c.words=new Array(c.length);for(var u=0;u<c.length;u++)c.words[u]=0}var d=i.clone()._ishlnsubmul(r,1,l);0===d.negative&&(i=d,c&&(c.words[l]=1));for(var h=l-1;h>=0;h--){var f=67108864*(0|i.words[r.length+h])+(0|i.words[r.length+h-1]);f=Math.min(f/s|0,67108863),i._ishlnsubmul(r,f,h);while(0!==i.negative)f--,i.negative=0,i._ishlnsubmul(r,1,h),i.isZero()||(i.negative^=1);c&&(c.words[h]=f)}return c&&c._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:c||null,mod:i}},o.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:r,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=(1<<26)%t,r=0,o=this.length-1;o>=0;o--)r=(n*r+(0|this.words[o]))%t;return e?-r:r},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var o=(0|this.words[r])+67108864*n;this.words[r]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();var r=new o(1),s=new o(0),a=new o(0),c=new o(1),l=0;while(e.isEven()&&n.isEven())e.iushrn(1),n.iushrn(1),++l;var u=n.clone(),d=e.clone();while(!e.isZero()){for(var h=0,f=1;0===(e.words[0]&f)&&h<26;++h,f<<=1);if(h>0){e.iushrn(h);while(h-- >0)(r.isOdd()||s.isOdd())&&(r.iadd(u),s.isub(d)),r.iushrn(1),s.iushrn(1)}for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0){n.iushrn(p);while(p-- >0)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(d)),a.iushrn(1),c.iushrn(1)}e.cmp(n)>=0?(e.isub(n),r.isub(a),s.isub(c)):(n.isub(e),a.isub(r),c.isub(s))}return{a:a,b:c,gcd:n.iushln(l)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();var r,s=new o(1),a=new o(0),c=n.clone();while(e.cmpn(1)>0&&n.cmpn(1)>0){for(var l=0,u=1;0===(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0){e.iushrn(l);while(l-- >0)s.isOdd()&&s.iadd(c),s.iushrn(1)}for(var d=0,h=1;0===(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0){n.iushrn(d);while(d-- >0)a.isOdd()&&a.iadd(c),a.iushrn(1)}e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return r=0===e.cmpn(1)?s:a,r.cmpn(0)<0&&r.iadd(t),r},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);do{while(e.isEven())e.iushrn(1);while(n.isEven())n.iushrn(1);var r=e.cmp(n);if(r<0){var o=e;e=n,n=o}else if(0===r||0===n.cmpn(1))break;e.isub(n)}while(1);return n.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"===typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var O={k256:null,p224:null,p192:null,p25519:null};function M(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function L(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},M.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),e=n.bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},M.prototype.split=function(t,e){t.iushrn(this.n,0,e)},M.prototype.imulK=function(t){return t.imul(this.k)},r(x,M),x.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,r=10;r<t.length;r++){var s=0|t.words[r];t.words[r-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[r-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(S,M),r(C,M),r(A,M),A.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(O[t])return O[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new S;else if("p192"===t)e=new C;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return O[t]=e,e},k.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){i(0===(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}var r=this.m.subn(1),s=0;while(!r.isZero()&&0===r.andln(1))s++,r.iushrn(1);i(!r.isZero());var a=new o(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();u=new o(2*u*u).toRed(this);while(0!==this.pow(u,l).cmp(c))u.redIAdd(c);var d=this.pow(u,r),h=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=s;while(0!==f.cmp(a)){for(var m=f,v=0;0!==m.cmp(a);v++)m=m.redSqr();i(v<p);var g=this.pow(d,new o(1).iushln(p-v-1));h=h.redMul(g),d=g.redSqr(),f=f.redMul(d),p=v}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=4,i=new Array(1<<n);i[0]=new o(1).toRed(this),i[1]=t;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],t);var s=i[0],a=0,c=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],d=l-1;d>=0;d--){var h=u>>d&1;s!==i[0]&&(s=this.sqr(s)),0!==h||0!==a?(a<<=1,a|=h,c++,(c===n||0===r&&0===d)&&(s=this.mul(s,i[a]),c=0,a=0)):c=0}l=26}return s},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new L(t)},r(L,k),L.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},L.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},L.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},L.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},L.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(t,this)}).call(this,n("62e4")(t))},e712:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},fb1c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WindowStrategy=void 0;class i{constructor(t="https://h4n.app",e="https://my.herewallet.app"){this.mainnet=t,this.testnet=e,this.signWindow=null,this.onFailed=()=>this.close(),this.onSuccess=()=>this.close()}onInitialized(){if(this.signWindow)return;const t=window.innerWidth/2-210,e=window.innerHeight/2-350;this.signWindow=window.open("https://my.herewallet.app/loading","_blank",`popup=1,width=420,height=700,top=${e},left=${t}`)}onRequested(t,e,n){var i;if(null==this.signWindow)return;this.unloadHandler=()=>{var t;return null===(t=this.signWindow)||void 0===t?void 0:t.close()},window.addEventListener("beforeunload",this.unloadHandler);const r=null!==(i=e.network)&&void 0!==i?i:"mainnet";this.signWindow.location=`${r?this.testnet:this.mainnet}/${t}`,this.timerHandler=setInterval(()=>{var t;(null===(t=this.signWindow)||void 0===t?void 0:t.closed)&&n("CLOSED")},1e3)}close(){var t;clearInterval(this.timerHandler),null===(t=this.signWindow)||void 0===t||t.close(),this.signWindow=null,this.unloadHandler&&window.removeEventListener("beforeunload",this.unloadHandler)}}e.WindowStrategy=i}}]);
//# sourceMappingURL=chunk-vendors~bbefa362.c069770c.js.map