(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dabdadd2"],{"00e6":function(t,e,a){t.exports=a.p+"img/shuffle.0415df96.svg"},"01f2":function(t,e,a){t.exports=a.p+"img/call.fd2f6338.svg"},"0b5d":function(t,e,a){t.exports=a.p+"img/back-market.01b1b351.svg"},"0c16":function(t,e,a){t.exports=a.p+"img/smile.83eae3c6.svg"},"1c27":function(t,e,a){t.exports=a.p+"img/success.aeaff98a.svg"},"1e56":function(t,e,a){t.exports=a.p+"img/a2.23fa5c63.jpg"},"1f9a":function(t,e,a){t.exports=a.p+"img/account-mobile.b699e0d5.svg"},2087:function(t,e,a){t.exports=a.p+"img/play-white.760e2005.svg"},"209f":function(t,e,a){t.exports=a.p+"img/warning-icon.6e1084cd.svg"},"24e5":function(t,e,a){t.exports=a.p+"img/camera.b49a1cc6.svg"},"2fae":function(t,e,a){t.exports=a.p+"img/sonido.4d371246.svg"},3259:function(t,e,a){"use strict";a("c6ee")},3924:function(t,e,a){t.exports=a.p+"img/camera-circle.e3f82d58.svg"},"43be":function(t,e,a){t.exports=a.p+"img/email.0fbf3ead.svg"},"4b48":function(t,e,a){t.exports=a.p+"img/next-music.d104c6b9.svg"},"4eb8":function(t,e,a){t.exports=a.p+"img/microphone.994441a1.svg"},"508d":function(t,e,a){t.exports=a.p+"img/market-active.93a04a86.svg"},"59f6":function(t,e,a){t.exports=a.p+"img/faq.9de55da4.svg"},"5c7e":function(t,e,a){t.exports=a.p+"img/stats.5589d977.svg"},"5d2f":function(t,e,a){t.exports=a.p+"img/chats.2ce1d5d1.svg"},"5def":function(t,e,a){t.exports=a.p+"img/menu-active-sidebar.89118b6a.svg"},"60a3":function(t,e,a){t.exports=a.p+"img/like-button-active.b8837e77.svg"},6241:function(t,e,a){t.exports=a.p+"img/doge.69024b6a.svg"},"629c":function(t,e,a){t.exports=a.p+"img/like-active.9b712ef9.svg"},"644b":function(t,e,a){t.exports=a.p+"img/pause.63b067d3.svg"},"6d8b":function(t,e,a){t.exports=a.p+"img/like.3c4fe344.svg"},"6f32":function(t,e,a){var s={"./account-mobile.svg":"1f9a","./account.svg":"ecec","./add.svg":"76a4","./auto.svg":"d55a","./back-market.svg":"0b5d","./back.svg":"7338","./call.svg":"01f2","./camera-circle.svg":"3924","./camera.svg":"24e5","./cancel.svg":"b463","./chats-active.svg":"bdf1","./chats.svg":"5d2f","./close.svg":"8b1b","./dlt.svg":"7660","./doge.svg":"6241","./email.svg":"43be","./faq-active.svg":"dffc","./faq.svg":"59f6","./instagram.svg":"bd6c","./like-active.svg":"629c","./like-button-active.svg":"60a3","./like-button.svg":"c58c","./like-icon.svg":"ffe2","./like.svg":"6d8b","./lupa.svg":"fe80","./market-active.svg":"508d","./market.svg":"f76d","./menu-active-sidebar.svg":"5def","./menu-active.svg":"d255","./menu.svg":"d17f","./microphone.svg":"4eb8","./near.svg":"e9e5","./new-chat.svg":"e653","./next-music.svg":"4b48","./pause-simple.svg":"e408","./pause-white.svg":"ed04","./pause.svg":"644b","./play-simple.svg":"fc1d","./play-white.svg":"2087","./play.svg":"dab1","./records.svg":"fb71","./repeat.svg":"c015","./settings-active.svg":"d874","./settings.svg":"9174","./share.svg":"bd5b","./shuffle.svg":"00e6","./smile.svg":"0c16","./sonido.svg":"2fae","./sound.svg":"e245","./stats-active.svg":"f6a4","./stats.svg":"5c7e","./success.svg":"1c27","./twitch.svg":"cfaa","./twitter.svg":"acf9","./url.svg":"9a16","./video-call.svg":"ea1b","./warning-icon.svg":"209f","./x-yellow.svg":"7388","./x.svg":"7387","./xdn.svg":"898f"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="6f32"},7338:function(t,e,a){t.exports=a.p+"img/back.33c74cab.svg"},7387:function(t,e,a){t.exports=a.p+"img/x.cc6a42cb.svg"},7388:function(t,e,a){t.exports=a.p+"img/x-yellow.b989236a.svg"},7660:function(t,e,a){t.exports=a.p+"img/dlt.8d202ed1.svg"},"76a4":function(t,e,a){t.exports=a.p+"img/add.2c6a9952.svg"},"86f2":function(t,e,a){t.exports=a.p+"img/track.96552c21.jpg"},"898f":function(t,e,a){t.exports=a.p+"img/xdn.b1548263.svg"},"8b1b":function(t,e,a){t.exports=a.p+"img/close.a884e230.svg"},9174:function(t,e,a){t.exports=a.p+"img/settings.b99adb81.svg"},"9a16":function(t,e,a){t.exports=a.p+"img/url.bda891d4.svg"},acf9:function(t,e,a){t.exports=a.p+"img/twitter.423db502.svg"},b463:function(t,e,a){t.exports=a.p+"img/cancel.ab210c58.svg"},bd5b:function(t,e,a){t.exports=a.p+"img/share.faab53b6.svg"},bd6c:function(t,e,a){t.exports=a.p+"img/instagram.2e59e6eb.svg"},bdf1:function(t,e,a){t.exports=a.p+"img/chats-active.c527eef9.svg"},c015:function(t,e,a){t.exports=a.p+"img/repeat.2881953a.svg"},c58c:function(t,e,a){t.exports=a.p+"img/like-button.66572632.svg"},c6ee:function(t,e,a){},cfaa:function(t,e,a){t.exports=a.p+"img/twitch.35984ea5.svg"},cfe9:function(t,e,a){"use strict";a.r(e);var s,i,n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"divcol margin_global overflow gap2 isolate",attrs:{id:"artistDetails"}},[s("section",{staticClass:"container-header divcol",staticStyle:{gap:"2em"}},[s("img",{staticClass:"pointer back",staticStyle:{"--w":"100px"},attrs:{src:a("7338"),alt:"back"},on:{click:function(e){return t.$router.push("/home")}}}),s("div",{staticClass:"acenter",staticStyle:{gap:"48px"}},[s("v-avatar",{attrs:{size:"7.3125em"}},[s("img",{staticStyle:{"--w":"100%"},attrs:{src:t.nearSocialArtist,alt:"profile image"}})]),s("h1",{staticClass:"p",staticStyle:{"max-width":"14ch"}},[t._v(t._s(t.artistName||t.limitStr(t.artistId,16)))])],1),s("section",{staticClass:"space gap1 wrap"},[s("aside",{staticClass:"wrap gap1 font2"},t._l(t.dataActions,(function(e,a){return s("v-chip",{key:a,class:{active:e.active},attrs:{disabled:e.disabled},on:{click:function(a){t.dataActions.forEach((function(t){t.active=!1})),e.active=!0}}},[t._v(" "+t._s(e.name)+" "+t._s(e.amount)+" ")])})),1),s("aside",{staticClass:"wrap gap1 font1"},[s("div",{staticClass:"acenter gap1"},[s("div",{staticClass:"acenter",staticStyle:{gap:".2em"}},[s("img",{staticStyle:{"--w":"1.4em"},attrs:{src:a("e9e5"),alt:"near"}}),s("span",[t._v(t._s(t.artistWallet))])]),s("span",[t._v("Joined "+t._s(t.date))])])])])]),s("section",{staticClass:"container-content grid gap2",class:{tracks:t.dataActions[t.dataActions.findIndex((function(t){return"tracks"==t.key}))].active}},[s("v-data-table",{directives:[{name:"show",rawName:"v-show",value:t.dataActions[t.dataActions.findIndex((function(t){return"activity"==t.key}))].active,expression:"dataActions[dataActions.findIndex(e=>e.key=='activity')].active"}],attrs:{id:"dataTable",headers:t.headersTable,items:t.dataTable,"hide-default-footer":""},scopedSlots:t._u([{key:"item.name",fn:function(e){var a=e.item;return[s("div",{staticClass:"center gap2 tstart"},[s("img",{staticStyle:{"--w":"4.1875em"},attrs:{src:a.img,alt:"track image"}}),s("span",[t._v(t._s(a.name))])])]}},{key:"item.price",fn:function(e){var a=e.item;return[s("div",{staticClass:"center gap2 tstart"},[s("span",[t._v(t._s(a.price)+"$")])])]}},{key:"item.plays",fn:function(e){var i=e.item;return[s("div",{staticClass:"center",staticStyle:{gap:".5em"}},[s("img",{staticClass:"play",staticStyle:{"--w":"3.095625em"},attrs:{src:a("6f32")("./"+(i.play?"pause":"play")+".svg"),alt:"play/pause icon"},on:{click:function(e){i.play?i.play=!i.play:t.dataTable.forEach((function(t){t.play=!1,i.play=!0})),t.playPreview(i)}}}),s("span",[t._v(t._s(i.plays))])])]}},{key:"item.time",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.time)+" ")]}}],null,!0)}),s("section",{directives:[{name:"show",rawName:"v-show",value:t.dataActions[t.dataActions.findIndex((function(t){return"activity"==t.key}))].active,expression:"dataActions[dataActions.findIndex(e=>e.key=='activity')].active"}],staticClass:"font2",attrs:{id:"dataTableMobile"}},t._l(t.dataTable,(function(e,i){return s("v-card",{key:i,staticClass:"space wrap gap1",attrs:{color:"transparent"}},[s("aside",{staticClass:"acenter gap1"},[s("img",{staticClass:"aspect",staticStyle:{"--h":"100%"},attrs:{src:a("86f2"),alt:"track image"}}),s("div",{staticClass:"divcol gap1"},[s("span",[s("b",[t._v("PRICE: ")]),t._v(t._s(e.price)+" ")]),s("span",[s("b",[t._v("GENRE: ")]),t._v(t._s(e.genre)+" ")]),s("span",[s("b",[t._v("TO: ")]),t._v(t._s(e.to)+" ")])])]),s("aside",{staticClass:"space gap2 marginaleft"},[s("div",{staticClass:"divcol center"},[s("img",{staticClass:"play",staticStyle:{"--w":"1.9em"},attrs:{src:a("6f32")("./"+(e.play?"pause":"play")+".svg"),alt:"play/pause button"},on:{click:function(a){e.play?e.play=!e.play:t.dataTable.forEach((function(t){t.play=!1,e.play=!0})),t.playPreview(e)}}}),s("span",[t._v(t._s(e.plays))])]),s("span",[t._v(t._s(e.time)+" ago")])])])})),1),t._l(t.dataTable,(function(e,i){return s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.dataActions[t.dataActions.findIndex((function(t){return"tracks"==t.key}))].active,expression:"dataActions[dataActions.findIndex(e=>e.key=='tracks')].active"}],key:i,staticClass:"isolate"},[s("v-btn",{staticClass:"play",attrs:{id:"play",icon:""},on:{click:function(a){e.play?e.play=!e.play:t.dataTable.forEach((function(t){t.play=!1,e.play=!0})),t.playPreview(e)}}},[s("img",{style:"transform:"+(e.play?"translatex(0)":"translateX(3px)"),attrs:{src:a("f9c8")("./"+(e.play?"pause":"play")+"-simple.svg"),alt:"play button"}})]),s("v-avatar",{attrs:{size:"4.8125em"}},[s("img",{staticStyle:{"--w":"100%"},attrs:{src:e.img,alt:"profile image"}})]),s("v-sheet",{staticClass:"fill_w divcol center gap1 padd2",attrs:{color:"var(--primary)"}},[s("div",{staticClass:"divcol marginaright"},[s("h6",{staticClass:"p"},[t._v(t._s(e.name))]),s("span",{staticClass:"font2 bold acenter",staticStyle:{gap:".2em"}},[t._v(" PRICE "+t._s(e.price)+"$ ")])]),s("v-btn",{staticClass:"btn align font2",staticStyle:{"--bg":"#000000","--c":"var(--primary)","--fs":"1.2em"},attrs:{disabled:e.disabled},on:{click:function(a){return t.addToCart(e)}}},[t._v(t._s("success"==e.status?"SUCCESS ":"error"==e.status?"FAILED ":"ADD TO CART")+" "),s("v-icon",[t._v(t._s("success"==e.status?"mdi-check-circle":"error"==e.status?"mdi-close-circle":null))])],1)],1)],1)}))],2)])},c=[],r=a("3835"),o=a("8785"),l=a("1da1"),p=(a("7db0"),a("d3b7"),a("a9e3"),a("159b"),a("4fadc"),a("96cf"),a("5184")),u=a("c1df"),d=a.n(u),g=a("d9eb"),v=a("56d7"),f=g["Contract"],m={name:"artistDetails",data:function(){return{dataArtist:{},nearSocialArtist:null,artistName:" ",artistWallet:" ",artistId:localStorage.getItem("artist"),like:!1,avatar:a("1e56"),dataActions:[{key:"tracks",name:"GRID",active:!0,disabled:!1},{key:"activity",name:"LIST",active:!1,disabled:!1},{key:"followers",name:"FOLLOWERS",amount:"",active:!1,disabled:!0},{key:"following",name:"FOLLOWING",amount:"",active:!1,disabled:!0}],headersTable:[{value:"name",text:"TRACK",align:"center"},{value:"price",text:"PRICE",align:"center"},{value:"genre",text:"GENRE",align:"center"},{value:"plays",text:"PLAYS",align:"center"},{value:"time",text:"TIME",align:"center"}],dataTable:[],track:null,dataTracks:[],date:null,tracks:[]}},created:function(){var t=this;v["eventBus"].$on("artist-selected",(function(e){t.artistId=localStorage.getItem("artist"),t.getArtist(),t.getData()}))},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getArtist(),t.$emit("RouteValidator"),t.getData();case 3:case"end":return e.stop()}}),e)})))()},methods:{addToCart:function(t){t.disabled=!0,this.axios.post("https://develop.globaldv.tech/w3service/api/add-shopping-cart/",{wallet:this.$ramper.getAccountId()||this.$selector.getAccountId(),tokenId:t.token_id}).then((function(e){t.status="success",setTimeout((function(){t.status=null,t.disabled=!1}),3e3)})).catch((function(e){t.status="error",setTimeout((function(){t.status=null,t.disabled=!1}),2e3)}))},getTracksByCreator:function(){if(this.artistId){var t=this.axios.post("https://develop.globaldv.tech/w3service/api/get-tracks-creator/",{wallet:this.artistId}).then((function(t){return t.data?t.data:[]})).catch((function(t){return[]}));return t}return[]},playPreview:function(t){if(this.track=t,t.play){this.$store.dispatch("updateTrack",t);var e=this.$ramper.getAccountId()||this.$selector.getAccountId();this.axios.post("https://develop.globaldv.tech/w3service/api/play-track/",{wallet:e,tokenId:t.token_id,creatorId:t.creator})}else this.$store.dispatch("updateTrack",t)},getData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i,n,c,r,l,u,g,v,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataTable=[],e.next=3,t.getTracksByCreator();case 3:return t.tracks=e.sent,a=Object(p["a"])(s||(s=Object(o["a"])(["\n        query MyQuery($wallet: String) {\n          series(where: {creator_id: $wallet, is_mintable: true}) {\n            aproved_event\n            aproved_objects\n            copies\n            creator_id\n            description\n            expires_at\n            extra\n            fecha\n            id\n            is_mintable\n            issued_at\n            media\n            nft_amount_sold\n            nftsold\n            object_event\n            price\n            price_near\n            redeemerevents\n            redeemerobjects\n            reference\n            starts_at\n            supply\n            title\n            typetoken_id\n            updated_at\n          }\n        }\n      "]))),e.next=7,t.$apollo.query({query:a,variables:{wallet:t.artistId}});case 7:i=e.sent,n=i.data.series,c=0;case 10:if(!(c<n.length)){e.next=38;break}return u=n[c],g=JSON.parse(u.extra),v=g.find((function(t){return"track_preview"===t.trait_type})),f=document.createElement("audio"),f.src=v.value,f.setAttribute("preload","auto"),f.setAttribute("controls","none"),f.style.display="none",document.body.appendChild(f),e.t0=u.id,e.t1=u.media,e.t2=u.price,e.t3=u.title,e.t4=u.reference,e.t5=u.creator_id,e.t6=v.value,e.next=29,t.getPlaysTrack(u.id);case 29:e.t7=e.sent,e.t8=f,e.t9=d()(u.fecha/1e6).format("LL"),m={token_id:e.t0,img:e.t1,price:e.t2,name:e.t3,genre:e.t4,creator:e.t5,preview:e.t6,plays:e.t7,play:!1,track:e.t8,type:"preview",to:"patysb.near",time:e.t9,status:null,disabled:!1},null!==(r=t.track)&&void 0!==r&&r.play&&(null===(l=t.track)||void 0===l?void 0:l.token_id)===m.token_id&&(m.play=!0),t.dataTable.push(m);case 35:c++,e.next=10;break;case 38:case"end":return e.stop()}}),e)})))()},getPlaysTrack:function(t){var e=this.tracks.find((function(e){return e.tokenId===t}));return e?e.plays:"---"},getUser:function(t){var e=this;this.axios.post("https://develop.globaldv.tech/w3service/api/get-user-by-wallet/",{wallet:t}).then((function(t){if(t.data){var a=d()(t.data.createdAt).format("MMMM"),s=d()(t.data.createdAt).format("YYYY");e.date=a+" "+s}})).catch((function(t){console.log(t)}))},limitStr:function(t,e){return t&&t.length>e?t.substring(0,e)+"...":t},getArtist:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(p["a"])(i||(i=Object(o["a"])(["\n        query MyQuery($wallet: String!) {\n          users(where: {wallet: $wallet}) {\n            artist_name\n            description\n            id\n            location\n            wallet\n            youare\n            public_url\n            music_genre\n            age\n          }\n        }\n      "]))),e.next=4,t.$apollo.query({query:a,variables:{wallet:t.artistId}});case 4:s=e.sent,n=s.data,t.nearSocialArtist=null,t.getNearSocial(t.artistId),t.getUser(t.artistId),t.dataArtist.youAre=n.users[0].youare||null,t.dataArtist.location=n.users[0].location||null,t.dataArtist.musicGenre=String(n.users[0].music_genre)||"0",t.dataArtist.age=Number(n.users[0].age)||null,t.artistName=n.users[0].artist_name||null,t.artistWallet=t.artistId,t.dataArtist.publicUrl=n.users[0].public_url||null;case 11:case"end":return e.stop()}}),e)})))()},getNearSocial:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){var i,n,c,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$near.account(t);case 2:return i=s.sent,n=new f(i,"v1.social08.testnet",{viewMethods:["get"],sender:i}),c=[i.accountId+"/profile/**"],s.next=7,n.get({keys:c});case 7:o=s.sent,Object.entries(o).forEach((function(t){var a=Object(r["a"])(t,2),s=(a[0],a[1]);e.nearSocialArtist="https://ipfs.near.social/ipfs/"+s.profile.image.ipfs_cid})),e.nearSocialArtist||(e.nearSocialArtist=a("86f2"));case 10:case"end":return s.stop()}}),s)})))()}}},b=m,y=(a("3259"),a("2877")),x=a("6544"),h=a.n(x),k=a("8212"),w=a("8336"),_=a("b0af"),A=a("cc20"),C=a("8fea"),S=a("132d"),I=a("8dd9"),T=Object(y["a"])(b,n,c,!1,null,null,null);e["default"]=T.exports;h()(T,{VAvatar:k["a"],VBtn:w["a"],VCard:_["a"],VChip:A["a"],VDataTable:C["a"],VIcon:S["a"],VSheet:I["a"]})},d17f:function(t,e,a){t.exports=a.p+"img/menu.49e8789d.svg"},d255:function(t,e,a){t.exports=a.p+"img/menu-active.1a6bf443.svg"},d55a:function(t,e,a){t.exports=a.p+"img/auto.6d23f9d0.svg"},d874:function(t,e,a){t.exports=a.p+"img/settings-active.49e1aaa3.svg"},dab1:function(t,e,a){t.exports=a.p+"img/play.7095b246.svg"},dffc:function(t,e,a){t.exports=a.p+"img/faq-active.9446dc08.svg"},e245:function(t,e,a){t.exports=a.p+"img/sound.5b0c4a25.svg"},e408:function(t,e,a){t.exports=a.p+"img/pause-simple.ef61b9a2.svg"},e653:function(t,e,a){t.exports=a.p+"img/new-chat.63b1b20f.svg"},e9e5:function(t,e,a){t.exports=a.p+"img/near.4438d60d.svg"},ea1b:function(t,e,a){t.exports=a.p+"img/video-call.7b9609d8.svg"},ecec:function(t,e,a){t.exports=a.p+"img/account.c50b0616.svg"},ed04:function(t,e,a){t.exports=a.p+"img/pause-white.3f4a9c58.svg"},f6a4:function(t,e,a){t.exports=a.p+"img/stats-active.6006659d.svg"},f76d:function(t,e,a){t.exports=a.p+"img/market.203b64f2.svg"},f9c8:function(t,e,a){var s={"./pause-simple.svg":"e408","./play-simple.svg":"fc1d"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="f9c8"},fb71:function(t,e,a){t.exports=a.p+"img/records.609f8730.svg"},fc1d:function(t,e,a){t.exports=a.p+"img/play-simple.dac5c72b.svg"},fe80:function(t,e,a){t.exports=a.p+"img/lupa.7115034a.svg"},ffe2:function(t,e,a){t.exports=a.p+"img/like-icon.c4be9fcd.svg"}}]);
//# sourceMappingURL=chunk-dabdadd2.5d412d0c.js.map