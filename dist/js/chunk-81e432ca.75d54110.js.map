{"version":3,"sources":["webpack:///./node_modules/near-api-js/lib/account.js","webpack:///./src/layouts/login/Login.scss?89ee","webpack:///./node_modules/near-api-js/lib/key_stores/keystore.js","webpack:///./node_modules/http-errors/node_modules/depd/lib/browser/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/u3/index.js","webpack:///./node_modules/capability/index.js","webpack:///./node_modules/capability/es5.js","webpack:///./node_modules/near-api-js/lib/account_multisig.js","webpack:///./src/assets/logos/near.svg","webpack:///./node_modules/near-api-js/lib/wallet-account.js","webpack:///./src/layouts/login/Login.vue?421b","webpack:///src/layouts/login/Login.vue","webpack:///./src/layouts/login/Login.vue?1207","webpack:///./src/layouts/login/Login.vue","webpack:///./node_modules/near-api-js/lib/providers/index.js","webpack:///./node_modules/near-api-js/lib/utils/format.js","webpack:///./node_modules/capability/lib/CapabilityDetector.js","webpack:///./src/assets/icons/email.svg","webpack:///./node_modules/near-api-js/lib/connection.js","webpack:///./node_modules/statuses/index.js","webpack:///./node_modules/error-polyfill/lib/v8.js","webpack:///./node_modules/capability/lib/definitions.js","webpack:///./node_modules/error-polyfill/lib/non-v8/FrameStringParser.js","webpack:///./node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","webpack:///./node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","webpack:///./src/assets/icons/back.svg","webpack:///./node_modules/o3/lib/Class.js","webpack:///./src/assets/images/audio-login.png","webpack:///./node_modules/http-errors/index.js","webpack:///./node_modules/o3/index.js","webpack:///./node_modules/near-api-js/lib/utils/web.js","webpack:///./node_modules/near-api-js/lib/utils/errors.js","webpack:///./node_modules/near-api-js/lib/utils/exponential-backoff.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/near-api-js/lib/signer.js","webpack:///./node_modules/near-api-js/lib/key_stores/merge_key_store.js","webpack:///./node_modules/mustache/mustache.js","webpack:///./node_modules/depd/lib/browser/index.js","webpack:///./node_modules/error-polyfill/index.js","webpack:///./node_modules/near-api-js/lib/common-index.js","webpack:///./node_modules/near-api-js/lib/account_creator.js","webpack:///./node_modules/near-api-js/lib/utils/index.js","webpack:///./node_modules/error-polyfill/lib/index.js","webpack:///../../../src/components/VCard/VCard.ts","webpack:///./node_modules/toidentifier/index.js","webpack:///./node_modules/near-api-js/lib/providers/json-rpc-provider.js","webpack:///./node_modules/error-polyfill/lib/non-v8/index.js","webpack:///./node_modules/near-api-js/lib/constants.js","webpack:///./node_modules/u3/lib/cache.js","webpack:///./node_modules/error-polyfill/lib/prepareStackTrace.js","webpack:///./node_modules/near-api-js/lib/utils/rpc_errors.js","webpack:///./node_modules/near-api-js/lib/contract.js","webpack:///./node_modules/near-api-js/lib/key_stores/browser-index.js","webpack:///../../../src/mixins/ssr-bootable/index.ts","webpack:///./node_modules/error-polyfill/lib/non-v8/FrameStringSource.js","webpack:///./node_modules/near-api-js/lib/providers/provider.js","webpack:///./node_modules/u3/lib/index.js","webpack:///./node_modules/near-api-js/lib/browser-index.js","webpack:///./node_modules/setprototypeof/index.js","webpack:///./node_modules/error-polyfill/lib/non-v8/Frame.js","webpack:///./node_modules/near-api-js/lib/browser-connect.js","webpack:///./node_modules/near-api-js/lib/validators.js","webpack:///./node_modules/o3/lib/abstractMethod.js","webpack:///./node_modules/capability/lib/index.js","webpack:///./node_modules/error-polyfill/lib/unsupported.js","webpack:///./node_modules/near-api-js/lib/near.js","webpack:///../../../src/components/VMain/VMain.ts","webpack:///./node_modules/o3/lib/index.js","webpack:///./src/assets/images/audio2-login.png","webpack:///./node_modules/u3/lib/eachCombination.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","Account","bn_js_1","depd_1","transaction_1","providers_1","borsh_1","key_pair_1","errors_1","rpc_errors_1","constants_1","exponential_backoff_1","TX_NONCE_RETRY_NUMBER","TX_NONCE_RETRY_WAIT","TX_NONCE_RETRY_WAIT_BACKOFF","parseJsonFromRawResponse","response","JSON","parse","Buffer","from","toString","bytesJsonStringify","input","stringify","connection","accountId","accessKeyByPublicKeyCache","deprecate","default","Promise","resolve","provider","query","request_type","account_id","finality","contractId","results","result","console","log","receiptIds","length","join","printLogs","logs","failure","warn","prefix","receiverId","actions","accessKeyInfo","findAccessKey","TypedError","networkId","signer","accessKey","block","blockHash","header","hash","nonce","signTransaction","baseDecode","args","signAndSendTransactionV1","signAndSendTransactionV2","returnError","txHash","signedTx","async","publicKey","transaction","sendTransaction","error","type","logWarning","baseEncode","context","ErrorContext","flatLogs","transaction_outcome","receipts_outcome","reduce","acc","it","outcome","status","Failure","concat","receipt_ids","parseRpcError","printLogsAndFailures","error_message","error_type","id","parseResultError","getPublicKey","cachedAccessKey","undefined","public_key","e","data","amount","fullAccessKey","signAndSendTransaction","createAccount","transfer","addKey","PublicKey","deployContract","contractAccount","newAccountId","beneficiaryId","deleteAccount","functionCallV1","functionCallV2","methodName","gas","validateArgs","functionCall","DEFAULT_FUNCTION_CALL_GAS","attachedDeposit","walletMeta","walletCallbackUrl","stringifyArg","stringifyJsonOrBytes","methodNames","Array","isArray","functionCallAccessKey","deleteKey","stake","isUint8Array","byteLength","PositionalArgsError","serializedArgs","method_name","args_base64","blockQuery","values","prefix_base64","map","key","keys","accessKeys","getAccessKeys","authorizedApps","filter","item","access_key","permission","perm","FunctionCall","receiver_id","allowance","protocolConfig","experimental_protocolConfig","state","costPerByte","runtime_config","storage_amount_per_byte","stateStaked","storage_usage","mul","staked","locked","totalBalance","add","availableBalance","sub","max","total","available","KeyStore","depd","namespace","TypeError","message","_file","_ignored","_namespace","_traced","_warned","create","function","wrapfunction","property","wrapproperty","fn","obj","prop","descriptor","getOwnPropertyDescriptor","configurable","module","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","done","then","_asyncToGenerator","self","arguments","apply","err","check","Account2FA","AccountMultisig","MULTISIG_CONFIRM_METHODS","MULTISIG_CHANGE_METHODS","MULTISIG_DEPOSIT","MULTISIG_GAS","MULTISIG_ALLOWANCE","MULTISIG_STORAGE_KEY","account_1","format_1","web_1","parseNearAmount","storageFallback","options","super","storage","onAddRequestResult","_signAndSendTransaction","request","convertActions","includes","deleteUnconfirmedRequests","Error","SuccessValue","setRequest","requestId","parseInt","request_ids","getRequestIds","getRequest","requestIdToDelete","request_id","viewFunction","getItem","setItem","helperUrl","sendCode","sendCodeDefault","getCode","getCodeDefault","verifyCode","verifyCodeDefault","onConfirmResult","__signAndSendTransaction","promptAndVerify","contractBytes","seedOrLedgerKey","getRecoveryMethods","kind","rm","fak2lak","ak","toPK","confirmOnlyKey","postSignedJson","newArgs","pk","code_hash","push","signAndSendTransactionWithAccount","lak2fak","method_names","method","get2faMethod","securityCode","find","m","indexOf","detail","blockNumber","height","signed","signMessage","blockNumberSignature","signature","path","body","fetchJson","signatureFor","convertPKForContract","replace","a","enum","deposit","code","action","toUpperCase","substr","ConnectedWalletAccount","WalletAccount","WalletConnection","utils_1","borsh_2","LOGIN_WALLET_URL_SUFFIX","MULTISIG_HAS_METHOD","LOCAL_STORAGE_KEY_SUFFIX","PENDING_ACCESS_KEY_PREFIX","near","appKeyPrefix","_near","authDataKey","authData","window","localStorage","_networkId","config","_walletBaseUrl","walletUrl","contractName","_keyStore","keyStore","_authData","allKeys","_authDataKey","isSignedIn","_completeSignInWithAccessKey","contractIdOrOptions","title","successUrl","failureUrl","currentUrl","URL","location","href","newUrl","searchParams","set","account","KeyPair","fromRandom","setKey","forEach","append","assign","_requestSignTransactions","transactions","callbackUrl","meta","serialize","SCHEMA","serialized","get","split","_moveKeyFromTempToPermanent","delete","history","replaceState","document","keyPair","getKey","removeKey","removeItem","_connectedAccount","walletConnection","localKey","accessKeyForTransaction","createTransaction","requestSignTransactions","setTimeout","allowedReceiverId","allowedMethods","accessKeyMatchesTransaction","walletKeys","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","on","$event","$router","_v","prueba","staticRenderFns","nodeUrl","explorerUrl","name","mounted","isSigned","getData","methods","connect","wallet","url","catch","signIn","signOut","component","VApp","VBtn","VCard","VContainer","VMain","getTransactionLastResult","FinalExecutionStatusBasic","JsonRpcProvider","Provider","provider_1","enumerable","json_rpc_provider_1","formatNearAmount","NEAR_NOMINATION","NEAR_NOMINATION_EXP","pow","ROUNDING_OFFSETS","BN10","i","offset","balance","fracDigits","balanceBN","roundingExp","iadd","wholeStr","substring","fractionStr","padStart","trimTrailingZeroes","formatWithCommas","amt","cleanupAmount","wholePart","fracPart","trimLeadingZeroes","padEnd","trim","pattern","test","CapabilityDetector","tests","cache","prototype","constructor","define","Function","Connection","signer_1","getProvider","getSigner","InMemorySigner","codes","populateStatusesMap","statuses","arr","Number","toLowerCase","n","isNaN","STATUS_CODES","redirect","300","301","302","303","305","307","308","empty","204","205","304","retry","502","503","504","prepareStackTrace","getStackTrace","throwable","stack","capability","callee","caller","strictModeIsEnforced","bind","defineProperties","hasOwnProperty","captureStackTrace","stacktrace","Class","Frame","FrameStringParser","stackParser","frameParser","locationParsers","merge","call","getFrames","frameStrings","functionValues","frames","index","getFrame","frameString","functionValue","getClass","getInstance","instance","BrowserLocalStorageKeyStore","keystore_1","LOCAL_STORAGE_KEY_PREFIX","storageKeyForSecretKey","fromString","storageKeys","startsWith","Set","parts","InMemoryKeyStore","slice","Source","buildArgs","checkOption","option","extend","factory","build","init","Subject","clone","subject","staticProperty","absorb","getAncestor","newInstance","setPrototypeOf","inherits","toIdentifier","codeClass","String","charAt","createError","msg","props","statusCode","HttpError","expose","createHttpErrorConstructor","createClientErrorConstructor","className","toClassName","ClientError","writable","nameFunc","createIsHttpErrorFunction","val","createServerErrorConstructor","ServerError","func","desc","populateConstructorExports","CodeError","ImATeapot","isHttpError","http_errors_1","START_WAIT_TIME_MS","BACKOFF_MULTIPLIER","RETRY_NUMBER","connectionInfoOrUrl","json","connectionInfo","fetch","headers","ok","text","ArgumentTypeError","argName","argType","argValue","transactionHash","exponentialBackoff","startWaitTime","retryNumber","waitBackoff","getResult","waitTime","sleep","millis","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","__proto__","awrap","iter","object","reverse","pop","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Signer","js_sha256_1","in_memory_key_store_1","Uint8Array","sha256","array","sign","MergeKeyStore","keyStores","writeKeyStoreIndex","clear","network","getNetworks","getAccounts","global","objectToString","isFunction","typeStr","escapeRegExp","string","hasProperty","propName","primitiveHasOwnProperty","primitive","regExpTest","RegExp","testRegExp","re","nonSpaceRe","isWhitespace","entityMap","escapeHtml","s","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","parseTemplate","template","tags","openingTagRe","closingTagRe","closingCurlyRe","lineHasNonSpace","sections","tokens","spaces","hasTag","nonSpace","indentation","tagIndex","stripSpace","compileTags","tagsToCompile","mustache","start","chr","token","openSection","scanner","Scanner","eos","pos","scanUntil","valueLength","scan","nestTokens","squashTokens","lastToken","squashedTokens","numTokens","section","nestedTokens","collector","tail","view","parentContext","parent","Writer","templateCache","_cache","match","search","lookup","intermediateValue","names","lookupHit","clearCache","cacheKey","isCacheEnabled","partials","getConfigTags","renderTokens","originalTemplate","symbol","buffer","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","subRender","j","indentPartial","partial","filteredIndentation","partialByNl","indentedValue","escape","getConfigEscape","version","defaultWriter","__createBinding","o","k","k2","__setModuleDefault","v","__importStar","Near","Contract","multisig","validators","utils","providers","accountCreator","connection_1","contract_1","near_1","wallet_account_1","UrlAccountCreator","LocalAccountCreator","AccountCreator","masterAccount","initialBalance","newAccountPublicKey","rpc_errors","KeyPairEd25519","format","enums","web","key_pair","polyfill","mixins","Loadable","Routable","VSheet","flat","Boolean","hover","img","link","loaderHeight","raised","computed","classes","isClickable","loading","disabled","styles","style","background","genProgress","h","generateRouteLink","tag","tabindex","setBackgroundColor","color","$slots","str","REQUEST_RETRY_NUMBER","REQUEST_RETRY_WAIT","REQUEST_RETRY_WAIT_BACKOFF","_nextId","sendJsonRpc","signedTransaction","bytes","encode","txStatusString","txStatusUint8Array","getErrorTypeFromErrorMessage","blockId","block_id","chunkId","sync_checkpoint","blockReference","lightClientProof","accountIdArray","changes_type","account_ids","accessKeyArray","keyPrefix","key_prefix_base64","params","jsonrpc","errorMessage","FrameStringSource","terminator","warnings","frameShifts","captured","captureFrameStrings","cachedStack","getFrameStrings","nonConfigurableError","store","called","warningIndex","warning","frameIndex","frame","formatError","mustache_1","rpc_error_schema_json_1","error_messages_json_1","common_index_1","mustacheHelpers","formatNear","ServerTransactionError","errorObj","errorClassName","walkSubtype","schema","server_error","server_tx_error","errorData","typeName","errorTypeName","errorName","isString","isObject","nameFunction","x","viewMethods","changeMethods","ignored","_changeMethod","validateBNLike","rawResult","argMap","bnLike","isBN","browser_local_storage_key_store_1","merge_key_store_1","Vue","isBooted","requestAnimationFrame","$el","setAttribute","abstractMethod","eachCombination","AbstractFrameStringSource","unshift","capturedFrameStrings","capturedFunctionValues","aCaller","useStrictError","stackString","getStackString","stackStringChunks","fromPosition","toPosition","hasHeader","hasFooter","FrameStringSourceCalibrator","calibrateClass","calibrateMethods","calibrateEnvelope","workingImplementation","calibratorStackString","calibratorFrameStrings","calibrator","IdType","ExecutionStatusBasic","txResult","__exportStar","p","setProtoOf","proto","mixinProperties","getThis","getTypeName","getFunction","getFunctionName","getMethodName","getFileName","getLineNumber","getColumnNumber","getEvalOrigin","isTopLevel","isEval","isNative","isConstructor","diffEpochValidators","findSeatPrice","maxNumberOfSeats","minimumStakeRatio","protocolVersion","findSeatPriceForProtocolBefore49","findSeatPriceForProtocolAfter49","numSeats","stakes","sort","b","cmp","num","stakesSum","lt","left","right","eq","mid","div","found","currentSum","gte","currentValidators","nextValidators","validatorsMap","Map","nextValidatorsSet","newValidators","has","removedValidators","changedValidators","current","detector","account_creator_1","fromConfig","deps","sender","originator","receiver","sendMoney","SSRBootable","$vuetify","application","bar","top","footer","insetFooter","bottom","paddingTop","paddingRight","paddingBottom","paddingLeft","ref","alternativesByDimension","callback","combination","alternatives"],"mappings":"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","file":"js/chunk-81e432ca.75d54110.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst transaction_1 = require(\"./transaction\");\nconst providers_1 = require(\"./providers\");\nconst borsh_1 = require(\"borsh\");\nconst key_pair_1 = require(\"./utils/key_pair\");\nconst errors_1 = require(\"./utils/errors\");\nconst rpc_errors_1 = require(\"./utils/rpc_errors\");\nconst constants_1 = require(\"./constants\");\nconst exponential_backoff_1 = __importDefault(require(\"./utils/exponential-backoff\"));\n// Default number of retries with different nonce before giving up on a transaction.\nconst TX_NONCE_RETRY_NUMBER = 12;\n// Default wait until next retry in millis.\nconst TX_NONCE_RETRY_WAIT = 500;\n// Exponential back off for waiting to retry.\nconst TX_NONCE_RETRY_WAIT_BACKOFF = 1.5;\nfunction parseJsonFromRawResponse(response) {\n    return JSON.parse(Buffer.from(response).toString());\n}\nfunction bytesJsonStringify(input) {\n    return Buffer.from(JSON.stringify(input));\n}\n/**\n * This class provides common account related RPC calls including signing transactions with a {@link KeyPair}.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#account}\n * @hint Use {@link WalletConnection} in the browser to redirect to {@link https://docs.near.org/docs/tools/near-wallet | NEAR Wallet} for Account/key management using the {@link BrowserLocalStorageKeyStore}.\n * @see {@link https://nomicon.io/DataStructures/Account.html | Account Spec}\n */\nclass Account {\n    constructor(connection, accountId) {\n        /** @hidden */\n        this.accessKeyByPublicKeyCache = {};\n        this.connection = connection;\n        this.accountId = accountId;\n    }\n    /** @hidden */\n    get ready() {\n        const deprecate = depd_1.default('Account.ready()');\n        deprecate('not needed anymore, always ready');\n        return Promise.resolve();\n    }\n    async fetchState() {\n        const deprecate = depd_1.default('Account.fetchState()');\n        deprecate('use `Account.state()` instead');\n    }\n    /**\n     * Returns basic NEAR account information via the `view_account` RPC query method\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#view-account}\n     */\n    async state() {\n        return this.connection.provider.query({\n            request_type: 'view_account',\n            account_id: this.accountId,\n            finality: 'optimistic'\n        });\n    }\n    /** @hidden */\n    printLogsAndFailures(contractId, results) {\n        if (!process.env[\"NEAR_NO_LOGS\"]) {\n            for (const result of results) {\n                console.log(`Receipt${result.receiptIds.length > 1 ? 's' : ''}: ${result.receiptIds.join(', ')}`);\n                this.printLogs(contractId, result.logs, '\\t');\n                if (result.failure) {\n                    console.warn(`\\tFailure [${contractId}]: ${result.failure}`);\n                }\n            }\n        }\n    }\n    /** @hidden */\n    printLogs(contractId, logs, prefix = '') {\n        if (!process.env[\"NEAR_NO_LOGS\"]) {\n            for (const log of logs) {\n                console.log(`${prefix}Log [${contractId}]: ${log}`);\n            }\n        }\n    }\n    /**\n     * Create a signed transaction which can be broadcast to the network\n     * @param receiverId NEAR account receiving the transaction\n     * @param actions list of actions to perform as part of the transaction\n     * @see {@link JsonRpcProvider.sendTransaction}\n     */\n    async signTransaction(receiverId, actions) {\n        const accessKeyInfo = await this.findAccessKey(receiverId, actions);\n        if (!accessKeyInfo) {\n            throw new providers_1.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair found in ${this.connection.signer}.`, 'KeyNotFound');\n        }\n        const { accessKey } = accessKeyInfo;\n        const block = await this.connection.provider.block({ finality: 'final' });\n        const blockHash = block.header.hash;\n        const nonce = ++accessKey.nonce;\n        return await transaction_1.signTransaction(receiverId, nonce, actions, borsh_1.baseDecode(blockHash), this.connection.signer, this.accountId, this.connection.networkId);\n    }\n    signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            return this.signAndSendTransactionV1(args[0], args[1]);\n        }\n        else {\n            return this.signAndSendTransactionV2(args[0]);\n        }\n    }\n    signAndSendTransactionV1(receiverId, actions) {\n        const deprecate = depd_1.default('Account.signAndSendTransaction(receiverId, actions');\n        deprecate('use `Account.signAndSendTransaction(SignAndSendTransactionOptions)` instead');\n        return this.signAndSendTransactionV2({ receiverId, actions });\n    }\n    async signAndSendTransactionV2({ receiverId, actions, returnError }) {\n        let txHash, signedTx;\n        // TODO: TX_NONCE (different constants for different uses of exponentialBackoff?)\n        const result = await exponential_backoff_1.default(TX_NONCE_RETRY_WAIT, TX_NONCE_RETRY_NUMBER, TX_NONCE_RETRY_WAIT_BACKOFF, async () => {\n            [txHash, signedTx] = await this.signTransaction(receiverId, actions);\n            const publicKey = signedTx.transaction.publicKey;\n            try {\n                return await this.connection.provider.sendTransaction(signedTx);\n            }\n            catch (error) {\n                if (error.type === 'InvalidNonce') {\n                    errors_1.logWarning(`Retrying transaction ${receiverId}:${borsh_1.baseEncode(txHash)} with new nonce.`);\n                    delete this.accessKeyByPublicKeyCache[publicKey.toString()];\n                    return null;\n                }\n                if (error.type === 'Expired') {\n                    errors_1.logWarning(`Retrying transaction ${receiverId}:${borsh_1.baseEncode(txHash)} due to expired block hash`);\n                    return null;\n                }\n                error.context = new providers_1.ErrorContext(borsh_1.baseEncode(txHash));\n                throw error;\n            }\n        });\n        if (!result) {\n            // TODO: This should have different code actually, as means \"transaction not submitted for sure\"\n            throw new providers_1.TypedError('nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.', 'RetriesExceeded');\n        }\n        const flatLogs = [result.transaction_outcome, ...result.receipts_outcome].reduce((acc, it) => {\n            if (it.outcome.logs.length ||\n                (typeof it.outcome.status === 'object' && typeof it.outcome.status.Failure === 'object')) {\n                return acc.concat({\n                    'receiptIds': it.outcome.receipt_ids,\n                    'logs': it.outcome.logs,\n                    'failure': typeof it.outcome.status.Failure != 'undefined' ? rpc_errors_1.parseRpcError(it.outcome.status.Failure) : null\n                });\n            }\n            else\n                return acc;\n        }, []);\n        this.printLogsAndFailures(signedTx.transaction.receiverId, flatLogs);\n        if (!returnError && typeof result.status === 'object' && typeof result.status.Failure === 'object') {\n            // if error data has error_message and error_type properties, we consider that node returned an error in the old format\n            if (result.status.Failure.error_message && result.status.Failure.error_type) {\n                throw new providers_1.TypedError(`Transaction ${result.transaction_outcome.id} failed. ${result.status.Failure.error_message}`, result.status.Failure.error_type);\n            }\n            else {\n                throw rpc_errors_1.parseResultError(result);\n            }\n        }\n        // TODO: if Tx is Unknown or Started.\n        return result;\n    }\n    /**\n     * Finds the {@link AccessKeyView} associated with the accounts {@link PublicKey} stored in the {@link KeyStore}.\n     *\n     * @todo Find matching access key based on transaction (i.e. receiverId and actions)\n     *\n     * @param receiverId currently unused (see todo)\n     * @param actions currently unused (see todo)\n     * @returns `{ publicKey PublicKey; accessKey: AccessKeyView }`\n     */\n    async findAccessKey(receiverId, actions) {\n        // TODO: Find matching access key based on transaction (i.e. receiverId and actions)\n        const publicKey = await this.connection.signer.getPublicKey(this.accountId, this.connection.networkId);\n        if (!publicKey) {\n            return null;\n        }\n        const cachedAccessKey = this.accessKeyByPublicKeyCache[publicKey.toString()];\n        if (cachedAccessKey !== undefined) {\n            return { publicKey, accessKey: cachedAccessKey };\n        }\n        try {\n            const accessKey = await this.connection.provider.query({\n                request_type: 'view_access_key',\n                account_id: this.accountId,\n                public_key: publicKey.toString(),\n                finality: 'optimistic'\n            });\n            // this function can be called multiple times and retrieve the same access key\n            // this checks to see if the access key was already retrieved and cached while\n            // the above network call was in flight. To keep nonce values in line, we return\n            // the cached access key.\n            if (this.accessKeyByPublicKeyCache[publicKey.toString()]) {\n                return { publicKey, accessKey: this.accessKeyByPublicKeyCache[publicKey.toString()] };\n            }\n            this.accessKeyByPublicKeyCache[publicKey.toString()] = accessKey;\n            return { publicKey, accessKey };\n        }\n        catch (e) {\n            if (e.type == 'AccessKeyDoesNotExist') {\n                return null;\n            }\n            throw e;\n        }\n    }\n    /**\n     * Create a new account and deploy a contract to it\n     *\n     * @param contractId NEAR account where the contract is deployed\n     * @param publicKey The public key to add to the created contract account\n     * @param data The compiled contract code\n     * @param amount of NEAR to transfer to the created contract account. Transfer enough to pay for storage https://docs.near.org/docs/concepts/storage-staking\n     */\n    async createAndDeployContract(contractId, publicKey, data, amount) {\n        const accessKey = transaction_1.fullAccessKey();\n        await this.signAndSendTransaction({\n            receiverId: contractId,\n            actions: [transaction_1.createAccount(), transaction_1.transfer(amount), transaction_1.addKey(key_pair_1.PublicKey.from(publicKey), accessKey), transaction_1.deployContract(data)]\n        });\n        const contractAccount = new Account(this.connection, contractId);\n        return contractAccount;\n    }\n    /**\n     * @param receiverId NEAR account receiving Ⓝ\n     * @param amount Amount to send in yoctoⓃ\n     */\n    async sendMoney(receiverId, amount) {\n        return this.signAndSendTransaction({\n            receiverId,\n            actions: [transaction_1.transfer(amount)]\n        });\n    }\n    /**\n     * @param newAccountId NEAR account name to be created\n     * @param publicKey A public key created from the masterAccount\n     */\n    async createAccount(newAccountId, publicKey, amount) {\n        const accessKey = transaction_1.fullAccessKey();\n        return this.signAndSendTransaction({\n            receiverId: newAccountId,\n            actions: [transaction_1.createAccount(), transaction_1.transfer(amount), transaction_1.addKey(key_pair_1.PublicKey.from(publicKey), accessKey)]\n        });\n    }\n    /**\n     * @param beneficiaryId The NEAR account that will receive the remaining Ⓝ balance from the account being deleted\n     */\n    async deleteAccount(beneficiaryId) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.deleteAccount(beneficiaryId)]\n        });\n    }\n    /**\n     * @param data The compiled contract code\n     */\n    async deployContract(data) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.deployContract(data)]\n        });\n    }\n    async functionCall(...args) {\n        if (typeof args[0] === 'string') {\n            return this.functionCallV1(args[0], args[1], args[2], args[3], args[4]);\n        }\n        else {\n            return this.functionCallV2(args[0]);\n        }\n    }\n    functionCallV1(contractId, methodName, args, gas, amount) {\n        const deprecate = depd_1.default('Account.functionCall(contractId, methodName, args, gas, amount)');\n        deprecate('use `Account.functionCall(FunctionCallOptions)` instead');\n        args = args || {};\n        this.validateArgs(args);\n        return this.signAndSendTransaction({\n            receiverId: contractId,\n            actions: [transaction_1.functionCall(methodName, args, gas || constants_1.DEFAULT_FUNCTION_CALL_GAS, amount)]\n        });\n    }\n    functionCallV2({ contractId, methodName, args = {}, gas = constants_1.DEFAULT_FUNCTION_CALL_GAS, attachedDeposit, walletMeta, walletCallbackUrl, stringify }) {\n        this.validateArgs(args);\n        const stringifyArg = stringify === undefined ? transaction_1.stringifyJsonOrBytes : stringify;\n        return this.signAndSendTransaction({\n            receiverId: contractId,\n            actions: [transaction_1.functionCall(methodName, args, gas, attachedDeposit, stringifyArg)],\n            walletMeta,\n            walletCallbackUrl\n        });\n    }\n    /**\n     * @see {@link https://docs.near.org/docs/concepts/account#access-keys}\n     * @todo expand this API to support more options.\n     * @param publicKey A public key to be associated with the contract\n     * @param contractId NEAR account where the contract is deployed\n     * @param methodNames The method names on the contract that should be allowed to be called. Pass null for no method names and '' or [] for any method names.\n     * @param amount Payment in yoctoⓃ that is sent to the contract during this function call\n     */\n    async addKey(publicKey, contractId, methodNames, amount) {\n        if (!methodNames) {\n            methodNames = [];\n        }\n        if (!Array.isArray(methodNames)) {\n            methodNames = [methodNames];\n        }\n        let accessKey;\n        if (!contractId) {\n            accessKey = transaction_1.fullAccessKey();\n        }\n        else {\n            accessKey = transaction_1.functionCallAccessKey(contractId, methodNames, amount);\n        }\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.addKey(key_pair_1.PublicKey.from(publicKey), accessKey)]\n        });\n    }\n    /**\n     * @param publicKey The public key to be deleted\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async deleteKey(publicKey) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.deleteKey(key_pair_1.PublicKey.from(publicKey))]\n        });\n    }\n    /**\n     * @see {@link https://docs.near.org/docs/validator/staking-overview}\n     *\n     * @param publicKey The public key for the account that's staking\n     * @param amount The account to stake in yoctoⓃ\n     */\n    async stake(publicKey, amount) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.stake(amount, key_pair_1.PublicKey.from(publicKey))]\n        });\n    }\n    /** @hidden */\n    validateArgs(args) {\n        const isUint8Array = args.byteLength !== undefined && args.byteLength === args.length;\n        if (isUint8Array) {\n            return;\n        }\n        if (Array.isArray(args) || typeof args !== 'object') {\n            throw new errors_1.PositionalArgsError();\n        }\n    }\n    /**\n     * Invoke a contract view function using the RPC API.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#call-a-contract-function}\n     *\n     * @param contractId NEAR account where the contract is deployed\n     * @param methodName The view-only method (no state mutations) name on the contract as it is written in the contract code\n     * @param args Any arguments to the view contract method, wrapped in JSON\n     * @param options.parse Parse the result of the call. Receives a Buffer (bytes array) and converts it to any object. By default result will be treated as json.\n     * @param options.stringify Convert input arguments into a bytes array. By default the input is treated as a JSON.\n     * @returns {Promise<any>}\n     */\n    async viewFunction(contractId, methodName, args = {}, { parse = parseJsonFromRawResponse, stringify = bytesJsonStringify } = {}) {\n        this.validateArgs(args);\n        const serializedArgs = stringify(args).toString('base64');\n        const result = await this.connection.provider.query({\n            request_type: 'call_function',\n            account_id: contractId,\n            method_name: methodName,\n            args_base64: serializedArgs,\n            finality: 'optimistic'\n        });\n        if (result.logs) {\n            this.printLogs(contractId, result.logs);\n        }\n        return result.result && result.result.length > 0 && parse(Buffer.from(result.result));\n    }\n    /**\n     * Returns the state (key value pairs) of this account's contract based on the key prefix.\n     * Pass an empty string for prefix if you would like to return the entire state.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#view-contract-state}\n     *\n     * @param prefix allows to filter which keys should be returned. Empty prefix means all keys. String prefix is utf-8 encoded.\n     * @param blockQuery specifies which block to query state at. By default returns last \"optimistic\" block (i.e. not necessarily finalized).\n     */\n    async viewState(prefix, blockQuery = { finality: 'optimistic' }) {\n        const { values } = await this.connection.provider.query({\n            request_type: 'view_state',\n            ...blockQuery,\n            account_id: this.accountId,\n            prefix_base64: Buffer.from(prefix).toString('base64')\n        });\n        return values.map(({ key, value }) => ({\n            key: Buffer.from(key, 'base64'),\n            value: Buffer.from(value, 'base64')\n        }));\n    }\n    /**\n     * Get all access keys for the account\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#view-access-key-list}\n     */\n    async getAccessKeys() {\n        const response = await this.connection.provider.query({\n            request_type: 'view_access_key_list',\n            account_id: this.accountId,\n            finality: 'optimistic'\n        });\n        // A breaking API change introduced extra information into the\n        // response, so it now returns an object with a `keys` field instead\n        // of an array: https://github.com/nearprotocol/nearcore/pull/1789\n        if (Array.isArray(response)) {\n            return response;\n        }\n        return response.keys;\n    }\n    /**\n     * Returns a list of authorized apps\n     * @todo update the response value to return all the different keys, not just app keys.\n     */\n    async getAccountDetails() {\n        // TODO: update the response value to return all the different keys, not just app keys.\n        // Also if we need this function, or getAccessKeys is good enough.\n        const accessKeys = await this.getAccessKeys();\n        const authorizedApps = accessKeys\n            .filter(item => item.access_key.permission !== 'FullAccess')\n            .map(item => {\n            const perm = item.access_key.permission;\n            return {\n                contractId: perm.FunctionCall.receiver_id,\n                amount: perm.FunctionCall.allowance,\n                publicKey: item.public_key,\n            };\n        });\n        return { authorizedApps };\n    }\n    /**\n     * Returns calculated account balance\n     */\n    async getAccountBalance() {\n        const protocolConfig = await this.connection.provider.experimental_protocolConfig({ finality: 'final' });\n        const state = await this.state();\n        const costPerByte = new bn_js_1.default(protocolConfig.runtime_config.storage_amount_per_byte);\n        const stateStaked = new bn_js_1.default(state.storage_usage).mul(costPerByte);\n        const staked = new bn_js_1.default(state.locked);\n        const totalBalance = new bn_js_1.default(state.amount).add(staked);\n        const availableBalance = totalBalance.sub(bn_js_1.default.max(staked, stateStaked));\n        return {\n            total: totalBalance.toString(),\n            stateStaked: stateStaked.toString(),\n            staked: staked.toString(),\n            available: availableBalance.toString()\n        };\n    }\n}\nexports.Account = Account;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!./Login.scss?vue&type=style&index=0&lang=scss&\"","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyStore = void 0;\n/**\n * KeyStores are passed to {@link Near} via {@link NearConfig}\n * and are used by the {@link InMemorySigner} to sign transactions.\n *\n * @example {@link connect}\n */\nclass KeyStore {\n}\nexports.KeyStore = KeyStore;\n","/*!\n * depd\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = depd\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  function deprecate (message) {\n    // no-op in browser\n  }\n\n  deprecate._file = undefined\n  deprecate._ignored = true\n  deprecate._namespace = namespace\n  deprecate._traced = false\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  return fn\n}\n\n/**\n * Wrap property in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","module.exports = require(\"./lib\");","require(\"./lib/definitions\");\r\nmodule.exports = require(\"./lib\");\r\n","require(\".\").check(\"es5\");","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account2FA = exports.AccountMultisig = exports.MULTISIG_CONFIRM_METHODS = exports.MULTISIG_CHANGE_METHODS = exports.MULTISIG_DEPOSIT = exports.MULTISIG_GAS = exports.MULTISIG_ALLOWANCE = exports.MULTISIG_STORAGE_KEY = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst account_1 = require(\"./account\");\nconst format_1 = require(\"./utils/format\");\nconst key_pair_1 = require(\"./utils/key_pair\");\nconst transaction_1 = require(\"./transaction\");\nconst web_1 = require(\"./utils/web\");\nexports.MULTISIG_STORAGE_KEY = '__multisigRequest';\nexports.MULTISIG_ALLOWANCE = new bn_js_1.default(format_1.parseNearAmount('1'));\n// TODO: Different gas value for different requests (can reduce gas usage dramatically)\nexports.MULTISIG_GAS = new bn_js_1.default('100000000000000');\nexports.MULTISIG_DEPOSIT = new bn_js_1.default('0');\nexports.MULTISIG_CHANGE_METHODS = ['add_request', 'add_request_and_confirm', 'delete_request', 'confirm'];\nexports.MULTISIG_CONFIRM_METHODS = ['confirm'];\n// in memory request cache for node w/o localStorage\nconst storageFallback = {\n    [exports.MULTISIG_STORAGE_KEY]: null\n};\nclass AccountMultisig extends account_1.Account {\n    constructor(connection, accountId, options) {\n        super(connection, accountId);\n        this.storage = options.storage;\n        this.onAddRequestResult = options.onAddRequestResult;\n    }\n    async signAndSendTransactionWithAccount(receiverId, actions) {\n        return super.signAndSendTransaction({ receiverId, actions });\n    }\n    signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            return this._signAndSendTransaction({ receiverId: args[0], actions: args[1] });\n        }\n        return this._signAndSendTransaction(args[0]);\n    }\n    async _signAndSendTransaction({ receiverId, actions }) {\n        const { accountId } = this;\n        const args = Buffer.from(JSON.stringify({\n            request: {\n                receiver_id: receiverId,\n                actions: convertActions(actions, accountId, receiverId)\n            }\n        }));\n        let result;\n        try {\n            result = await super.signAndSendTransaction({\n                receiverId: accountId,\n                actions: [\n                    transaction_1.functionCall('add_request_and_confirm', args, exports.MULTISIG_GAS, exports.MULTISIG_DEPOSIT)\n                ]\n            });\n        }\n        catch (e) {\n            if (e.toString().includes('Account has too many active requests. Confirm or delete some')) {\n                await this.deleteUnconfirmedRequests();\n                return await this.signAndSendTransaction(receiverId, actions);\n            }\n            throw e;\n        }\n        // TODO: Are following even needed? Seems like it throws on error already\n        if (!result.status) {\n            throw new Error('Request failed');\n        }\n        const status = { ...result.status };\n        if (!status.SuccessValue || typeof status.SuccessValue !== 'string') {\n            throw new Error('Request failed');\n        }\n        this.setRequest({\n            accountId,\n            actions,\n            requestId: parseInt(Buffer.from(status.SuccessValue, 'base64').toString('ascii'), 10)\n        });\n        if (this.onAddRequestResult) {\n            await this.onAddRequestResult(result);\n        }\n        // NOTE there is no await on purpose to avoid blocking for 2fa\n        this.deleteUnconfirmedRequests();\n        return result;\n    }\n    async deleteUnconfirmedRequests() {\n        // TODO: Delete in batch, don't delete unexpired\n        // TODO: Delete in batch, don't delete unexpired (can reduce gas usage dramatically)\n        const request_ids = await this.getRequestIds();\n        const { requestId } = this.getRequest();\n        for (const requestIdToDelete of request_ids) {\n            if (requestIdToDelete == requestId) {\n                continue;\n            }\n            try {\n                await super.signAndSendTransaction({\n                    receiverId: this.accountId,\n                    actions: [transaction_1.functionCall('delete_request', { request_id: requestIdToDelete }, exports.MULTISIG_GAS, exports.MULTISIG_DEPOSIT)]\n                });\n            }\n            catch (e) {\n                console.warn('Attempt to delete an earlier request before 15 minutes failed. Will try again.');\n            }\n        }\n    }\n    // helpers\n    async getRequestIds() {\n        // TODO: Read requests from state to allow filtering by expiration time\n        // TODO: https://github.com/near/core-contracts/blob/305d1db4f4f2cf5ce4c1ef3479f7544957381f11/multisig/src/lib.rs#L84\n        return this.viewFunction(this.accountId, 'list_request_ids');\n    }\n    getRequest() {\n        if (this.storage) {\n            return JSON.parse(this.storage.getItem(exports.MULTISIG_STORAGE_KEY) || '{}');\n        }\n        return storageFallback[exports.MULTISIG_STORAGE_KEY];\n    }\n    setRequest(data) {\n        if (this.storage) {\n            return this.storage.setItem(exports.MULTISIG_STORAGE_KEY, JSON.stringify(data));\n        }\n        storageFallback[exports.MULTISIG_STORAGE_KEY] = data;\n    }\n}\nexports.AccountMultisig = AccountMultisig;\nclass Account2FA extends AccountMultisig {\n    constructor(connection, accountId, options) {\n        super(connection, accountId, options);\n        this.helperUrl = 'https://helper.testnet.near.org';\n        this.helperUrl = options.helperUrl || this.helperUrl;\n        this.storage = options.storage;\n        this.sendCode = options.sendCode || this.sendCodeDefault;\n        this.getCode = options.getCode || this.getCodeDefault;\n        this.verifyCode = options.verifyCode || this.verifyCodeDefault;\n        this.onConfirmResult = options.onConfirmResult;\n    }\n    async signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            const deprecate = depd_1.default('Account.signAndSendTransaction(receiverId, actions');\n            deprecate('use `Account2FA.signAndSendTransaction(SignAndSendTransactionOptions)` instead');\n            return this.__signAndSendTransaction({ receiverId: args[0], actions: args[1] });\n        }\n        else {\n            return this.__signAndSendTransaction(args[0]);\n        }\n    }\n    async __signAndSendTransaction({ receiverId, actions }) {\n        await super.signAndSendTransaction({ receiverId, actions });\n        // TODO: Should following override onRequestResult in superclass instead of doing custom signAndSendTransaction?\n        await this.sendCode();\n        const result = await this.promptAndVerify();\n        if (this.onConfirmResult) {\n            await this.onConfirmResult(result);\n        }\n        return result;\n    }\n    // default helpers for CH deployments of multisig\n    async deployMultisig(contractBytes) {\n        const { accountId } = this;\n        const seedOrLedgerKey = (await this.getRecoveryMethods()).data\n            .filter(({ kind, publicKey }) => (kind === 'phrase' || kind === 'ledger') && publicKey !== null)\n            .map((rm) => rm.publicKey);\n        const fak2lak = (await this.getAccessKeys())\n            .filter(({ public_key, access_key: { permission } }) => permission === 'FullAccess' && !seedOrLedgerKey.includes(public_key))\n            .map((ak) => ak.public_key)\n            .map(toPK);\n        const confirmOnlyKey = toPK((await this.postSignedJson('/2fa/getAccessKey', { accountId })).publicKey);\n        const newArgs = Buffer.from(JSON.stringify({ 'num_confirmations': 2 }));\n        const actions = [\n            ...fak2lak.map((pk) => transaction_1.deleteKey(pk)),\n            ...fak2lak.map((pk) => transaction_1.addKey(pk, transaction_1.functionCallAccessKey(accountId, exports.MULTISIG_CHANGE_METHODS, null))),\n            transaction_1.addKey(confirmOnlyKey, transaction_1.functionCallAccessKey(accountId, exports.MULTISIG_CONFIRM_METHODS, null)),\n            transaction_1.deployContract(contractBytes),\n        ];\n        if ((await this.state()).code_hash === '11111111111111111111111111111111') {\n            actions.push(transaction_1.functionCall('new', newArgs, exports.MULTISIG_GAS, exports.MULTISIG_DEPOSIT));\n        }\n        console.log('deploying multisig contract for', accountId);\n        return await super.signAndSendTransactionWithAccount(accountId, actions);\n    }\n    async disable(contractBytes) {\n        const { accountId } = this;\n        const accessKeys = await this.getAccessKeys();\n        const lak2fak = accessKeys\n            .filter(({ access_key }) => access_key.permission !== 'FullAccess')\n            .filter(({ access_key }) => {\n            const perm = access_key.permission.FunctionCall;\n            return perm.receiver_id === accountId &&\n                perm.method_names.length === 4 &&\n                perm.method_names.includes('add_request_and_confirm');\n        });\n        const confirmOnlyKey = key_pair_1.PublicKey.from((await this.postSignedJson('/2fa/getAccessKey', { accountId })).publicKey);\n        const actions = [\n            transaction_1.deleteKey(confirmOnlyKey),\n            ...lak2fak.map(({ public_key }) => transaction_1.deleteKey(key_pair_1.PublicKey.from(public_key))),\n            ...lak2fak.map(({ public_key }) => transaction_1.addKey(key_pair_1.PublicKey.from(public_key), null)),\n            transaction_1.deployContract(contractBytes),\n        ];\n        console.log('disabling 2fa for', accountId);\n        return await this.signAndSendTransaction({\n            receiverId: accountId,\n            actions\n        });\n    }\n    async sendCodeDefault() {\n        const { accountId } = this;\n        const { requestId } = this.getRequest();\n        const method = await this.get2faMethod();\n        await this.postSignedJson('/2fa/send', {\n            accountId,\n            method,\n            requestId,\n        });\n        return requestId;\n    }\n    async getCodeDefault(method) {\n        throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is \"email\" or \"phone\".');\n    }\n    async promptAndVerify() {\n        const method = await this.get2faMethod();\n        const securityCode = await this.getCode(method);\n        try {\n            const result = await this.verifyCode(securityCode);\n            // TODO: Parse error from result for real (like in normal account.signAndSendTransaction)\n            return result;\n        }\n        catch (e) {\n            console.warn('Error validating security code:', e);\n            if (e.toString().includes('invalid 2fa code provided') || e.toString().includes('2fa code not valid')) {\n                return await this.promptAndVerify();\n            }\n            throw e;\n        }\n    }\n    async verifyCodeDefault(securityCode) {\n        const { accountId } = this;\n        const request = this.getRequest();\n        if (!request) {\n            throw new Error('no request pending');\n        }\n        const { requestId } = request;\n        return await this.postSignedJson('/2fa/verify', {\n            accountId,\n            securityCode,\n            requestId\n        });\n    }\n    async getRecoveryMethods() {\n        const { accountId } = this;\n        return {\n            accountId,\n            data: await this.postSignedJson('/account/recoveryMethods', { accountId })\n        };\n    }\n    async get2faMethod() {\n        let { data } = await this.getRecoveryMethods();\n        if (data && data.length) {\n            data = data.find((m) => m.kind.indexOf('2fa-') === 0);\n        }\n        if (!data)\n            return null;\n        const { kind, detail } = data;\n        return { kind, detail };\n    }\n    async signatureFor() {\n        const { accountId } = this;\n        const block = await this.connection.provider.block({ finality: 'final' });\n        const blockNumber = block.header.height.toString();\n        const signed = await this.connection.signer.signMessage(Buffer.from(blockNumber), accountId, this.connection.networkId);\n        const blockNumberSignature = Buffer.from(signed.signature).toString('base64');\n        return { blockNumber, blockNumberSignature };\n    }\n    async postSignedJson(path, body) {\n        return await web_1.fetchJson(this.helperUrl + path, JSON.stringify({\n            ...body,\n            ...(await this.signatureFor())\n        }));\n    }\n}\nexports.Account2FA = Account2FA;\n// helpers\nconst toPK = (pk) => key_pair_1.PublicKey.from(pk);\nconst convertPKForContract = (pk) => pk.toString().replace('ed25519:', '');\nconst convertActions = (actions, accountId, receiverId) => actions.map((a) => {\n    const type = a.enum;\n    const { gas, publicKey, methodName, args, deposit, accessKey, code } = a[type];\n    const action = {\n        type: type[0].toUpperCase() + type.substr(1),\n        gas: (gas && gas.toString()) || undefined,\n        public_key: (publicKey && convertPKForContract(publicKey)) || undefined,\n        method_name: methodName,\n        args: (args && Buffer.from(args).toString('base64')) || undefined,\n        code: (code && Buffer.from(code).toString('base64')) || undefined,\n        amount: (deposit && deposit.toString()) || undefined,\n        deposit: (deposit && deposit.toString()) || '0',\n        permission: undefined,\n    };\n    if (accessKey) {\n        if (receiverId === accountId && accessKey.permission.enum !== 'fullAccess') {\n            action.permission = {\n                receiver_id: accountId,\n                allowance: exports.MULTISIG_ALLOWANCE.toString(),\n                method_names: exports.MULTISIG_CHANGE_METHODS,\n            };\n        }\n        if (accessKey.permission.enum === 'functionCall') {\n            const { receiverId: receiver_id, methodNames: method_names, allowance } = accessKey.permission.functionCall;\n            action.permission = {\n                receiver_id,\n                allowance: (allowance && allowance.toString()) || undefined,\n                method_names\n            };\n        }\n    }\n    return action;\n});\n","module.exports = __webpack_public_path__ + \"img/near.c4bc8d75.svg\";","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectedWalletAccount = exports.WalletAccount = exports.WalletConnection = void 0;\n/**\n * The classes in this module are used in conjunction with the {@link BrowserLocalStorageKeyStore}. This module exposes two classes:\n * * {@link WalletConnection} which redirects users to {@link https://docs.near.org/docs/tools/near-wallet | NEAR Wallet} for key management.\n * * {@link ConnectedWalletAccount} is an {@link Account} implementation that uses {@link WalletConnection} to get keys\n *\n * @module walletAccount\n */\nconst depd_1 = __importDefault(require(\"depd\"));\nconst account_1 = require(\"./account\");\nconst transaction_1 = require(\"./transaction\");\nconst utils_1 = require(\"./utils\");\nconst borsh_1 = require(\"borsh\");\nconst borsh_2 = require(\"borsh\");\nconst LOGIN_WALLET_URL_SUFFIX = '/login/';\nconst MULTISIG_HAS_METHOD = 'add_request_and_confirm';\nconst LOCAL_STORAGE_KEY_SUFFIX = '_wallet_auth_key';\nconst PENDING_ACCESS_KEY_PREFIX = 'pending_key'; // browser storage key for a pending access key (i.e. key has been generated but we are not sure it was added yet)\n/**\n * This class is used in conjunction with the {@link BrowserLocalStorageKeyStore}.\n * It redirects users to {@link https://docs.near.org/docs/tools/near-wallet | NEAR Wallet} for key management.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#wallet}\n * @example\n * ```js\n * // create new WalletConnection instance\n * const wallet = new WalletConnection(near, 'my-app');\n *\n * // If not signed in redirect to the NEAR wallet to sign in\n * // keys will be stored in the BrowserLocalStorageKeyStore\n * if(!wallet.isSingnedIn()) return wallet.requestSignIn()\n * ```\n */\nclass WalletConnection {\n    constructor(near, appKeyPrefix) {\n        this._near = near;\n        const authDataKey = appKeyPrefix + LOCAL_STORAGE_KEY_SUFFIX;\n        const authData = JSON.parse(window.localStorage.getItem(authDataKey));\n        this._networkId = near.config.networkId;\n        this._walletBaseUrl = near.config.walletUrl;\n        appKeyPrefix = appKeyPrefix || near.config.contractName || 'default';\n        this._keyStore = near.connection.signer.keyStore;\n        this._authData = authData || { allKeys: [] };\n        this._authDataKey = authDataKey;\n        if (!this.isSignedIn()) {\n            this._completeSignInWithAccessKey();\n        }\n    }\n    /**\n     * Returns true, if this WalletAccount is authorized with the wallet.\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * wallet.isSignedIn();\n     * ```\n     */\n    isSignedIn() {\n        return !!this._authData.accountId;\n    }\n    /**\n     * Returns authorized Account ID.\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * wallet.getAccountId();\n     * ```\n     */\n    getAccountId() {\n        return this._authData.accountId || '';\n    }\n    /**\n     * Redirects current page to the wallet authentication page.\n     * @param options An optional options object\n     * @param options.contractId The NEAR account where the contract is deployed\n     * @param options.successUrl URL to redirect upon success. Default: current url\n     * @param options.failureUrl URL to redirect upon failure. Default: current url\n     *\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * // redirects to the NEAR Wallet\n     * wallet.requestSignIn({ contractId: 'account-with-deploy-contract.near' });\n     * ```\n     */\n    async requestSignIn(contractIdOrOptions = {}, title, successUrl, failureUrl) {\n        let options;\n        if (typeof contractIdOrOptions === 'string') {\n            const deprecate = depd_1.default('requestSignIn(contractId, title)');\n            deprecate('`title` ignored; use `requestSignIn({ contractId, methodNames, successUrl, failureUrl })` instead');\n            options = { contractId: contractIdOrOptions, successUrl, failureUrl };\n        }\n        else {\n            options = contractIdOrOptions;\n        }\n        const currentUrl = new URL(window.location.href);\n        const newUrl = new URL(this._walletBaseUrl + LOGIN_WALLET_URL_SUFFIX);\n        newUrl.searchParams.set('success_url', options.successUrl || currentUrl.href);\n        newUrl.searchParams.set('failure_url', options.failureUrl || currentUrl.href);\n        if (options.contractId) {\n            /* Throws exception if contract account does not exist */\n            const contractAccount = await this._near.account(options.contractId);\n            await contractAccount.state();\n            newUrl.searchParams.set('contract_id', options.contractId);\n            const accessKey = utils_1.KeyPair.fromRandom('ed25519');\n            newUrl.searchParams.set('public_key', accessKey.getPublicKey().toString());\n            await this._keyStore.setKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + accessKey.getPublicKey(), accessKey);\n        }\n        if (options.methodNames) {\n            options.methodNames.forEach(methodName => {\n                newUrl.searchParams.append('methodNames', methodName);\n            });\n        }\n        window.location.assign(newUrl.toString());\n    }\n    async requestSignTransactions(...args) {\n        if (Array.isArray(args[0])) {\n            const deprecate = depd_1.default('WalletConnection.requestSignTransactions(transactions, callbackUrl, meta)');\n            deprecate('use `WalletConnection.requestSignTransactions(RequestSignTransactionsOptions)` instead');\n            return this._requestSignTransactions({\n                transactions: args[0],\n                callbackUrl: args[1],\n                meta: args[2]\n            });\n        }\n        return this._requestSignTransactions(args[0]);\n    }\n    async _requestSignTransactions({ transactions, meta, callbackUrl }) {\n        const currentUrl = new URL(window.location.href);\n        const newUrl = new URL('sign', this._walletBaseUrl);\n        newUrl.searchParams.set('transactions', transactions\n            .map(transaction => borsh_2.serialize(transaction_1.SCHEMA, transaction))\n            .map(serialized => Buffer.from(serialized).toString('base64'))\n            .join(','));\n        newUrl.searchParams.set('callbackUrl', callbackUrl || currentUrl.href);\n        if (meta)\n            newUrl.searchParams.set('meta', meta);\n        window.location.assign(newUrl.toString());\n    }\n    /**\n     * @hidden\n     * Complete sign in for a given account id and public key. To be invoked by the app when getting a callback from the wallet.\n     */\n    async _completeSignInWithAccessKey() {\n        const currentUrl = new URL(window.location.href);\n        const publicKey = currentUrl.searchParams.get('public_key') || '';\n        const allKeys = (currentUrl.searchParams.get('all_keys') || '').split(',');\n        const accountId = currentUrl.searchParams.get('account_id') || '';\n        // TODO: Handle errors during login\n        if (accountId) {\n            this._authData = {\n                accountId,\n                allKeys\n            };\n            window.localStorage.setItem(this._authDataKey, JSON.stringify(this._authData));\n            if (publicKey) {\n                await this._moveKeyFromTempToPermanent(accountId, publicKey);\n            }\n        }\n        currentUrl.searchParams.delete('public_key');\n        currentUrl.searchParams.delete('all_keys');\n        currentUrl.searchParams.delete('account_id');\n        currentUrl.searchParams.delete('meta');\n        currentUrl.searchParams.delete('transactionHashes');\n        window.history.replaceState({}, document.title, currentUrl.toString());\n    }\n    /**\n     * @hidden\n     * @param accountId The NEAR account owning the given public key\n     * @param publicKey The public key being set to the key store\n     */\n    async _moveKeyFromTempToPermanent(accountId, publicKey) {\n        const keyPair = await this._keyStore.getKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + publicKey);\n        await this._keyStore.setKey(this._networkId, accountId, keyPair);\n        await this._keyStore.removeKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + publicKey);\n    }\n    /**\n     * Sign out from the current account\n     * @example\n     * walletAccount.signOut();\n     */\n    signOut() {\n        this._authData = {};\n        window.localStorage.removeItem(this._authDataKey);\n    }\n    /**\n     * Returns the current connected wallet account\n     */\n    account() {\n        if (!this._connectedAccount) {\n            this._connectedAccount = new ConnectedWalletAccount(this, this._near.connection, this._authData.accountId);\n        }\n        return this._connectedAccount;\n    }\n}\nexports.WalletConnection = WalletConnection;\nexports.WalletAccount = WalletConnection;\n/**\n * {@link Account} implementation which redirects to wallet using {@link WalletConnection} when no local key is available.\n */\nclass ConnectedWalletAccount extends account_1.Account {\n    constructor(walletConnection, connection, accountId) {\n        super(connection, accountId);\n        this.walletConnection = walletConnection;\n    }\n    // Overriding Account methods\n    /**\n     * Sign a transaction by redirecting to the NEAR Wallet\n     * @see {@link WalletConnection.requestSignTransactions}\n     */\n    signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            return this._signAndSendTransaction({ receiverId: args[0], actions: args[1] });\n        }\n        return this._signAndSendTransaction(args[0]);\n    }\n    async _signAndSendTransaction({ receiverId, actions, walletMeta, walletCallbackUrl = window.location.href }) {\n        const localKey = await this.connection.signer.getPublicKey(this.accountId, this.connection.networkId);\n        let accessKey = await this.accessKeyForTransaction(receiverId, actions, localKey);\n        if (!accessKey) {\n            throw new Error(`Cannot find matching key for transaction sent to ${receiverId}`);\n        }\n        if (localKey && localKey.toString() === accessKey.public_key) {\n            try {\n                return await super.signAndSendTransaction({ receiverId, actions });\n            }\n            catch (e) {\n                if (e.type === 'NotEnoughAllowance') {\n                    accessKey = await this.accessKeyForTransaction(receiverId, actions);\n                }\n                else {\n                    throw e;\n                }\n            }\n        }\n        const block = await this.connection.provider.block({ finality: 'final' });\n        const blockHash = borsh_1.baseDecode(block.header.hash);\n        const publicKey = utils_1.PublicKey.from(accessKey.public_key);\n        // TODO: Cache & listen for nonce updates for given access key\n        const nonce = accessKey.access_key.nonce + 1;\n        const transaction = transaction_1.createTransaction(this.accountId, publicKey, receiverId, nonce, actions, blockHash);\n        await this.walletConnection.requestSignTransactions({\n            transactions: [transaction],\n            meta: walletMeta,\n            callbackUrl: walletCallbackUrl\n        });\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                reject(new Error('Failed to redirect to sign transaction'));\n            }, 1000);\n        });\n        // TODO: Aggregate multiple transaction request with \"debounce\".\n        // TODO: Introduce TrasactionQueue which also can be used to watch for status?\n    }\n    /**\n     * Check if given access key allows the function call or method attempted in transaction\n     * @param accessKey Array of {access_key: AccessKey, public_key: PublicKey} items\n     * @param receiverId The NEAR account attempting to have access\n     * @param actions The action(s) needed to be checked for access\n     */\n    async accessKeyMatchesTransaction(accessKey, receiverId, actions) {\n        const { access_key: { permission } } = accessKey;\n        if (permission === 'FullAccess') {\n            return true;\n        }\n        if (permission.FunctionCall) {\n            const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\n            /********************************\n            Accept multisig access keys and let wallets attempt to signAndSendTransaction\n            If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\n            ********************************/\n            if (allowedReceiverId === this.accountId && allowedMethods.includes(MULTISIG_HAS_METHOD)) {\n                return true;\n            }\n            if (allowedReceiverId === receiverId) {\n                if (actions.length !== 1) {\n                    return false;\n                }\n                const [{ functionCall }] = actions;\n                return functionCall &&\n                    (!functionCall.deposit || functionCall.deposit.toString() === '0') && // TODO: Should support charging amount smaller than allowance?\n                    (allowedMethods.length === 0 || allowedMethods.includes(functionCall.methodName));\n                // TODO: Handle cases when allowance doesn't have enough to pay for gas\n            }\n        }\n        // TODO: Support other permissions than FunctionCall\n        return false;\n    }\n    /**\n     * Helper function returning the access key (if it exists) to the receiver that grants the designated permission\n     * @param receiverId The NEAR account seeking the access key for a transaction\n     * @param actions The action(s) sought to gain access to\n     * @param localKey A local public key provided to check for access\n     * @returns Promise<any>\n     */\n    async accessKeyForTransaction(receiverId, actions, localKey) {\n        const accessKeys = await this.getAccessKeys();\n        if (localKey) {\n            const accessKey = accessKeys.find(key => key.public_key.toString() === localKey.toString());\n            if (accessKey && await this.accessKeyMatchesTransaction(accessKey, receiverId, actions)) {\n                return accessKey;\n            }\n        }\n        const walletKeys = this.walletConnection._authData.allKeys;\n        for (const accessKey of accessKeys) {\n            if (walletKeys.indexOf(accessKey.public_key) !== -1 && await this.accessKeyMatchesTransaction(accessKey, receiverId, actions)) {\n                return accessKey;\n            }\n        }\n        return null;\n    }\n}\nexports.ConnectedWalletAccount = ConnectedWalletAccount;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"center\",attrs:{\"id\":\"login\"}},[_c('v-btn',{staticStyle:{\"--p\":\"2.3em\"},attrs:{\"id\":\"records\",\"icon\":\"\"}}),_c('v-main',[_c('v-container',{staticClass:\"spacea divcolmobile container\"},[_c('aside',{staticClass:\"divcol\"},[_c('img',{staticStyle:{\"--w\":\"100px\"},attrs:{\"id\":\"back\",\"src\":require(\"@/assets/icons/back.svg\"),\"alt\":\"back\"},on:{\"click\":function($event){return _vm.$router.push('/')}}}),_c('h1',{staticClass:\"p\"},[_vm._v(\"HELLO\")]),_c('img',{staticStyle:{\"--w\":\"clamp(25em,29vw,29em)\"},attrs:{\"id\":\"audio2\",\"src\":require(\"@/assets/images/audio2-login.png\"),\"alt\":\"audio image 2\"}})]),_c('aside',{staticClass:\"container-card relative\"},[_c('img',{staticStyle:{\"--w\":\"12em\"},attrs:{\"id\":\"audio\",\"src\":require(\"@/assets/images/audio-login.png\"),\"alt\":\"audio image\"}}),_c('v-card',{staticClass:\"card divcol jcenter\",staticStyle:{\"--w\":\"100%\",\"--h\":\"29em\",\"gap\":\"4em\",\"--bs\":\"7px 8px 24px rgba(0, 0, 0, 0.25)\",\"--bg\":\"rgba(245, 245, 245, 0.47)\",\"--br\":\"0\",\"--p\":\"3em\"}},[_c('h3',{staticClass:\"p\",staticStyle:{\"max-width\":\"16ch\"}},[_vm._v(\"SIGN UP AND START LISTENING\")]),_c('div',{staticClass:\"divcol gap1 font2\"},[_c('v-btn',{staticClass:\"btn\",staticStyle:{\"--mr\":\".5em\"},on:{\"click\":function($event){return _vm.prueba()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/logos/near.svg\"),\"alt\":\"near\"}}),_vm._v(\" WITH NEAR WALLET \")]),_c('v-btn',{staticClass:\"btn\",staticStyle:{\"--mr\":\".5em\",\"--bg\":\"#ffffff\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/icons/email.svg\"),\"alt\":\"near\"}}),_vm._v(\" WITH YOUR EMAIL \")])],1),_c('span',{staticClass:\"font2 tcenter\",staticStyle:{\"font-size\":\"1.125em\"}},[_vm._v(\" Don't have an account yet? \"),_c('a',{staticClass:\"bold\",attrs:{\"href\":\"#\"}},[_vm._v(\"Register\")])])])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app id=\"login\" class=\"center\">\n    <v-btn id=\"records\" icon style=\"--p:2.3em;\">\n      <!-- <img src=\"@/assets/icons/records.svg\" alt=\"records\" style=\"--bs:drop-shadow(10px 5px 12px rgba(0, 0, 0, 0.25));--w:4.5em\"> -->\n    </v-btn>\n\n    <v-main>\n      <v-container class=\"spacea divcolmobile container\">\n        <aside class=\"divcol\">\n          <img id=\"back\" src=\"@/assets/icons/back.svg\" alt=\"back\" style=\"--w:100px\" @click=\"$router.push('/')\">\n          <h1 class=\"p\">HELLO</h1>\n          <img id=\"audio2\" src=\"@/assets/images/audio2-login.png\" alt=\"audio image 2\" style=\"--w:clamp(25em,29vw,29em)\">\n        </aside>\n\n        <aside class=\"container-card relative\">\n          <img id=\"audio\" src=\"@/assets/images/audio-login.png\" alt=\"audio image\" style=\"--w:12em\">\n\n          <v-card class=\"card divcol jcenter\" style=\"--w:100%;--h:29em;gap:4em;--bs:7px 8px 24px rgba(0, 0, 0, 0.25);--bg:rgba(245, 245, 245, 0.47);--br:0;--p:3em\">\n            <h3 class=\"p\" style=\"max-width: 16ch\">SIGN UP AND START LISTENING</h3>\n            <div class=\"divcol gap1 font2\">\n              <v-btn class=\"btn\" style=\"--mr:.5em\" @click=\"prueba()\">\n                <img src=\"@/assets/logos/near.svg\" alt=\"near\">\n                WITH NEAR WALLET\n              </v-btn>\n              \n              <v-btn class=\"btn\" style=\"--mr:.5em;--bg:#ffffff\">\n                <img src=\"@/assets/icons/email.svg\" alt=\"near\">\n                WITH YOUR EMAIL\n              </v-btn>\n            </div>\n\n            <span class=\"font2 tcenter\" style=\"font-size:1.125em\">\n              Don't have an account yet? \n              <a href=\"#\" class=\"bold\">Register</a>\n            </span>\n          </v-card>\n        </aside>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport * as nearAPI from 'near-api-js'\nconst { connect, keyStores, WalletConnection } = nearAPI\n\nconst keyStore = new keyStores.BrowserLocalStorageKeyStore()\nconst config = {\n  networkId: \"testnet\",\n  keyStore, \n  nodeUrl: \"https://rpc.testnet.near.org\",\n  walletUrl: \"https://wallet.testnet.near.org\",\n  helperUrl: \"https://helper.testnet.near.org\",\n  explorerUrl: \"https://explorer.testnet.near.org\",\n};\n\nexport default {\n  name: \"login\",\n  data() {\n    return {\n    }\n  },\n  mounted() {\n    this.isSigned()\n    this.getData()\n  },\n  methods: {\n    prueba() {localStorage.setItem('logKey', 'in');this.$router.push('/')},\n    async getData () {\n      this.account = {}\n      // connect to NEAR\n      const near = await connect(config);\n      // create wallet connection\n      const wallet = new WalletConnection(near)\n      this.accountId= wallet.getAccountId()\n\n      if (wallet.isSignedIn()) {\n        const url = \"api/v1/profile/?wallet=\" + this.accountId\n        this.axios.defaults.headers.common.Authorization='token'\n        this.axios.get(url)\n          .then((response) => {\n            if (response.data[0]){\n              this.avatar = response.data[0].avatar\n              this.$store.commit(\"Avatar\", this.avatar)\n            }\n        }).catch((error) => {\n          console.log(error)\n        })\n      }\n    },\n    async signIn () {\n      const near = await connect(config);\n      const wallet = new WalletConnection(near)\n      wallet.requestSignIn(\n        'contract.nearbase.testnet'\n      )\n    },\n    async isSigned () {\n      const near = await connect(config);\n      const wallet = new WalletConnection(near)\n      if (wallet.isSignedIn()) {\n        localStorage.setItem('logKey', 'in')\n        this.$store.state.user.login = false\n      }\n    },\n    async signOut () {\n      const near = await connect(config);\n      const wallet = new WalletConnection(near)\n      wallet.signOut()\n      localStorage.setItem('logKey', 'out')\n      this.$store.state.user.login = true\n      this.$router.push({ path: '/' })\n    },\n  }\n}\n</script>\n\n<style src=\"./Login.scss\" lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=6882cff4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VBtn,VCard,VContainer,VMain})\n","\"use strict\";\n/** @hidden @module */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorContext = exports.TypedError = exports.getTransactionLastResult = exports.FinalExecutionStatusBasic = exports.JsonRpcProvider = exports.Provider = void 0;\nconst provider_1 = require(\"./provider\");\nObject.defineProperty(exports, \"Provider\", { enumerable: true, get: function () { return provider_1.Provider; } });\nObject.defineProperty(exports, \"getTransactionLastResult\", { enumerable: true, get: function () { return provider_1.getTransactionLastResult; } });\nObject.defineProperty(exports, \"FinalExecutionStatusBasic\", { enumerable: true, get: function () { return provider_1.FinalExecutionStatusBasic; } });\nconst json_rpc_provider_1 = require(\"./json-rpc-provider\");\nObject.defineProperty(exports, \"JsonRpcProvider\", { enumerable: true, get: function () { return json_rpc_provider_1.JsonRpcProvider; } });\nObject.defineProperty(exports, \"TypedError\", { enumerable: true, get: function () { return json_rpc_provider_1.TypedError; } });\nObject.defineProperty(exports, \"ErrorContext\", { enumerable: true, get: function () { return json_rpc_provider_1.ErrorContext; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseNearAmount = exports.formatNearAmount = exports.NEAR_NOMINATION = exports.NEAR_NOMINATION_EXP = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n/**\n * Exponent for calculating how many indivisible units are there in one NEAR. See {@link NEAR_NOMINATION}.\n */\nexports.NEAR_NOMINATION_EXP = 24;\n/**\n * Number of indivisible units in one NEAR. Derived from {@link NEAR_NOMINATION_EXP}.\n */\nexports.NEAR_NOMINATION = new bn_js_1.default('10', 10).pow(new bn_js_1.default(exports.NEAR_NOMINATION_EXP, 10));\n// Pre-calculate offests used for rounding to different number of digits\nconst ROUNDING_OFFSETS = [];\nconst BN10 = new bn_js_1.default(10);\nfor (let i = 0, offset = new bn_js_1.default(5); i < exports.NEAR_NOMINATION_EXP; i++, offset = offset.mul(BN10)) {\n    ROUNDING_OFFSETS[i] = offset;\n}\n/**\n * Convert account balance value from internal indivisible units to NEAR. 1 NEAR is defined by {@link NEAR_NOMINATION}.\n * Effectively this divides given amount by {@link NEAR_NOMINATION}.\n *\n * @param balance decimal string representing balance in smallest non-divisible NEAR units (as specified by {@link NEAR_NOMINATION})\n * @param fracDigits number of fractional digits to preserve in formatted string. Balance is rounded to match given number of digits.\n * @returns Value in Ⓝ\n */\nfunction formatNearAmount(balance, fracDigits = exports.NEAR_NOMINATION_EXP) {\n    const balanceBN = new bn_js_1.default(balance, 10);\n    if (fracDigits !== exports.NEAR_NOMINATION_EXP) {\n        // Adjust balance for rounding at given number of digits\n        const roundingExp = exports.NEAR_NOMINATION_EXP - fracDigits - 1;\n        if (roundingExp > 0) {\n            balanceBN.iadd(ROUNDING_OFFSETS[roundingExp]);\n        }\n    }\n    balance = balanceBN.toString();\n    const wholeStr = balance.substring(0, balance.length - exports.NEAR_NOMINATION_EXP) || '0';\n    const fractionStr = balance.substring(balance.length - exports.NEAR_NOMINATION_EXP)\n        .padStart(exports.NEAR_NOMINATION_EXP, '0').substring(0, fracDigits);\n    return trimTrailingZeroes(`${formatWithCommas(wholeStr)}.${fractionStr}`);\n}\nexports.formatNearAmount = formatNearAmount;\n/**\n * Convert human readable NEAR amount to internal indivisible units.\n * Effectively this multiplies given amount by {@link NEAR_NOMINATION}.\n *\n * @param amt decimal string (potentially fractional) denominated in NEAR.\n * @returns The parsed yoctoⓃ amount or null if no amount was passed in\n */\nfunction parseNearAmount(amt) {\n    if (!amt) {\n        return null;\n    }\n    amt = cleanupAmount(amt);\n    const split = amt.split('.');\n    const wholePart = split[0];\n    const fracPart = split[1] || '';\n    if (split.length > 2 || fracPart.length > exports.NEAR_NOMINATION_EXP) {\n        throw new Error(`Cannot parse '${amt}' as NEAR amount`);\n    }\n    return trimLeadingZeroes(wholePart + fracPart.padEnd(exports.NEAR_NOMINATION_EXP, '0'));\n}\nexports.parseNearAmount = parseNearAmount;\n/**\n * Removes commas from the input\n * @param amount A value or amount that may contain commas\n * @returns string The cleaned value\n */\nfunction cleanupAmount(amount) {\n    return amount.replace(/,/g, '').trim();\n}\n/**\n * Removes .000… from an input\n * @param value A value that may contain trailing zeroes in the decimals place\n * @returns string The value without the trailing zeros\n */\nfunction trimTrailingZeroes(value) {\n    return value.replace(/\\.?0*$/, '');\n}\n/**\n * Removes leading zeroes from an input\n * @param value A value that may contain leading zeroes\n * @returns string The value without the leading zeroes\n */\nfunction trimLeadingZeroes(value) {\n    value = value.replace(/^0+/, '');\n    if (value === '') {\n        return '0';\n    }\n    return value;\n}\n/**\n * Returns a human-readable value with commas\n * @param value A value that may not contain commas\n * @returns string A value with commas\n */\nfunction formatWithCommas(value) {\n    const pattern = /(-?\\d+)(\\d{3})/;\n    while (pattern.test(value)) {\n        value = value.replace(pattern, '$1,$2');\n    }\n    return value;\n}\n","var CapabilityDetector = function () {\r\n    this.tests = {};\r\n    this.cache = {};\r\n};\r\nCapabilityDetector.prototype = {\r\n    constructor: CapabilityDetector,\r\n    define: function (name, test) {\r\n        if (typeof (name) != \"string\" || !(test instanceof Function))\r\n            throw new Error(\"Invalid capability definition.\");\r\n        if (this.tests[name])\r\n            throw new Error('Duplicated capability definition by \"' + name + '\".');\r\n        this.tests[name] = test;\r\n    },\r\n    check: function (name) {\r\n        if (!this.test(name))\r\n            throw new Error('The current environment does not support \"' + name + '\", therefore we cannot continue.');\r\n    },\r\n    test: function (name) {\r\n        if (this.cache[name] !== undefined)\r\n            return this.cache[name];\r\n        if (!this.tests[name])\r\n            throw new Error('Unknown capability with name \"' + name + '\".');\r\n        var test = this.tests[name];\r\n        this.cache[name] = !!test();\r\n        return this.cache[name];\r\n    }\r\n};\r\n\r\nmodule.exports = CapabilityDetector;","module.exports = __webpack_public_path__ + \"img/email.0fbf3ead.svg\";","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = void 0;\nconst providers_1 = require(\"./providers\");\nconst signer_1 = require(\"./signer\");\n/**\n * @param config Contains connection info details\n * @returns {Provider}\n */\nfunction getProvider(config) {\n    switch (config.type) {\n        case undefined:\n            return config;\n        case 'JsonRpcProvider': return new providers_1.JsonRpcProvider({ ...config.args });\n        default: throw new Error(`Unknown provider type ${config.type}`);\n    }\n}\n/**\n * @param config Contains connection info details\n * @returns {Signer}\n */\nfunction getSigner(config) {\n    switch (config.type) {\n        case undefined:\n            return config;\n        case 'InMemorySigner': {\n            return new signer_1.InMemorySigner(config.keyStore);\n        }\n        default: throw new Error(`Unknown signer type ${config.type}`);\n    }\n}\n/**\n * Connects an account to a given network via a given provider\n */\nclass Connection {\n    constructor(networkId, provider, signer) {\n        this.networkId = networkId;\n        this.provider = provider;\n        this.signer = signer;\n    }\n    /**\n     * @param config Contains connection info details\n     */\n    static fromConfig(config) {\n        const provider = getProvider(config.provider);\n        const signer = getSigner(config.signer);\n        return new Connection(config.networkId, provider, signer);\n    }\n}\nexports.Connection = Connection;\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n","var prepareStackTrace = require(\"./prepareStackTrace\");\r\n\r\nmodule.exports = function () {\r\n    Error.getStackTrace = function (throwable) {\r\n        return throwable.stack;\r\n    };\r\n\r\n    return {\r\n        prepareStackTrace: prepareStackTrace\r\n    };\r\n};","var capability = require(\".\"),\r\n    define = capability.define,\r\n    test = capability.test;\r\n\r\ndefine(\"strict mode\", function () {\r\n    return (this === undefined);\r\n});\r\n\r\ndefine(\"arguments.callee.caller\", function () {\r\n    try {\r\n        return (function () {\r\n                return arguments.callee.caller;\r\n            })() === arguments.callee;\r\n    } catch (strictModeIsEnforced) {\r\n        return false;\r\n    }\r\n});\r\n\r\ndefine(\"es5\", function () {\r\n    return test(\"Array.prototype.forEach\") &&\r\n        test(\"Array.prototype.map\") &&\r\n        test(\"Function.prototype.bind\") &&\r\n        test(\"Object.create\") &&\r\n        test(\"Object.defineProperties\") &&\r\n        test(\"Object.defineProperty\") &&\r\n        test(\"Object.prototype.hasOwnProperty\");\r\n});\r\n\r\ndefine(\"Array.prototype.forEach\", function () {\r\n    return Array.prototype.forEach;\r\n});\r\n\r\ndefine(\"Array.prototype.map\", function () {\r\n    return Array.prototype.map;\r\n});\r\n\r\ndefine(\"Function.prototype.bind\", function () {\r\n    return Function.prototype.bind;\r\n});\r\n\r\ndefine(\"Object.create\", function () {\r\n    return Object.create;\r\n});\r\n\r\ndefine(\"Object.defineProperties\", function () {\r\n    return Object.defineProperties;\r\n});\r\n\r\ndefine(\"Object.defineProperty\", function () {\r\n    return Object.defineProperty;\r\n});\r\n\r\ndefine(\"Object.prototype.hasOwnProperty\", function () {\r\n    return Object.prototype.hasOwnProperty;\r\n});\r\n\r\ndefine(\"Error.captureStackTrace\", function () {\r\n    return Error.captureStackTrace;\r\n});\r\n\r\ndefine(\"Error.prototype.stack\", function () {\r\n    try {\r\n        throw new Error();\r\n    }\r\n    catch (e) {\r\n        return e.stack || e.stacktrace;\r\n    }\r\n});","var Class = require(\"o3\").Class,\r\n    Frame = require(\"./Frame\"),\r\n    cache = require(\"u3\").cache;\r\n\r\nvar FrameStringParser = Class(Object, {\r\n    prototype: {\r\n        stackParser: null,\r\n        frameParser: null,\r\n        locationParsers: null,\r\n        constructor: function (options) {\r\n            Class.prototype.merge.call(this, options);\r\n        },\r\n        getFrames: function (frameStrings, functionValues) {\r\n            var frames = [];\r\n            for (var index = 0, length = frameStrings.length; index < length; ++index)\r\n                frames[index] = this.getFrame(frameStrings[index], functionValues[index]);\r\n            return frames;\r\n        },\r\n        getFrame: function (frameString, functionValue) {\r\n            var config = {\r\n                frameString: frameString,\r\n                functionValue: functionValue\r\n            };\r\n            return new Frame(config);\r\n        }\r\n    }\r\n});\r\n\r\nmodule.exports = {\r\n    getClass: cache(function () {\r\n        return FrameStringParser;\r\n    }),\r\n    getInstance: cache(function () {\r\n        var FrameStringParser = this.getClass();\r\n        var instance = new FrameStringParser();\r\n        return instance;\r\n    })\r\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserLocalStorageKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nconst key_pair_1 = require(\"../utils/key_pair\");\nconst LOCAL_STORAGE_KEY_PREFIX = 'near-api-js:keystore:';\n/**\n * This class is used to store keys in the browsers local storage.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store}\n * @example\n * ```js\n * import { connect, keyStores } from 'near-api-js';\n *\n * const keyStore = new keyStores.BrowserLocalStorageKeyStore();\n * const config = {\n *   keyStore, // instance of BrowserLocalStorageKeyStore\n *   networkId: 'testnet',\n *   nodeUrl: 'https://rpc.testnet.near.org',\n *   walletUrl: 'https://wallet.testnet.near.org',\n *   helperUrl: 'https://helper.testnet.near.org',\n *   explorerUrl: 'https://explorer.testnet.near.org'\n * };\n *\n * // inside an async function\n * const near = await connect(config)\n * ```\n */\nclass BrowserLocalStorageKeyStore extends keystore_1.KeyStore {\n    /**\n     * @param localStorage defaults to window.localStorage\n     * @param prefix defaults to `near-api-js:keystore:`\n     */\n    constructor(localStorage = window.localStorage, prefix = LOCAL_STORAGE_KEY_PREFIX) {\n        super();\n        this.localStorage = localStorage;\n        this.prefix = prefix;\n    }\n    /**\n     * Stores a {@link KeyPair} in local storage.\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        this.localStorage.setItem(this.storageKeyForSecretKey(networkId, accountId), keyPair.toString());\n    }\n    /**\n     * Gets a {@link KeyPair} from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        const value = this.localStorage.getItem(this.storageKeyForSecretKey(networkId, accountId));\n        if (!value) {\n            return null;\n        }\n        return key_pair_1.KeyPair.fromString(value);\n    }\n    /**\n     * Removes a {@link KeyPair} from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        this.localStorage.removeItem(this.storageKeyForSecretKey(networkId, accountId));\n    }\n    /**\n     * Removes all items that start with `prefix` from local storage\n     */\n    async clear() {\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                this.localStorage.removeItem(key);\n            }\n        }\n    }\n    /**\n     * Get the network(s) from local storage\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                const parts = key.substring(this.prefix.length).split(':');\n                result.add(parts[1]);\n            }\n        }\n        return Array.from(result.values());\n    }\n    /**\n     * Gets the account(s) from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Array();\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                const parts = key.substring(this.prefix.length).split(':');\n                if (parts[1] === networkId) {\n                    result.push(parts[0]);\n                }\n            }\n        }\n        return result;\n    }\n    /**\n     * @hidden\n     * Helper function to retrieve a local storage key\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the storage keythat's sought\n     * @returns {string} An example might be: `near-api-js:keystore:near-friend:default`\n     */\n    storageKeyForSecretKey(networkId, accountId) {\n        return `${this.prefix}${accountId}:${networkId}`;\n    }\n    /** @hidden */\n    *storageKeys() {\n        for (let i = 0; i < this.localStorage.length; i++) {\n            yield this.localStorage.key(i);\n        }\n    }\n}\nexports.BrowserLocalStorageKeyStore = BrowserLocalStorageKeyStore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nconst key_pair_1 = require(\"../utils/key_pair\");\n/**\n * Simple in-memory keystore for mainly for testing purposes.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store}\n * @example\n * ```js\n * import { connect, keyStores, utils } from 'near-api-js';\n *\n * const privateKey = '.......';\n * const keyPair = utils.KeyPair.fromString(privateKey);\n *\n * const keyStore = new keyStores.InMemoryKeyStore();\n * keyStore.setKey('testnet', 'example-account.testnet', keyPair);\n *\n * const config = {\n *   keyStore, // instance of InMemoryKeyStore\n *   networkId: 'testnet',\n *   nodeUrl: 'https://rpc.testnet.near.org',\n *   walletUrl: 'https://wallet.testnet.near.org',\n *   helperUrl: 'https://helper.testnet.near.org',\n *   explorerUrl: 'https://explorer.testnet.near.org'\n * };\n *\n * // inside an async function\n * const near = await connect(config)\n * ```\n */\nclass InMemoryKeyStore extends keystore_1.KeyStore {\n    constructor() {\n        super();\n        this.keys = {};\n    }\n    /**\n     * Stores a {@KeyPair} in in-memory storage item\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        this.keys[`${accountId}:${networkId}`] = keyPair.toString();\n    }\n    /**\n     * Gets a {@link KeyPair} from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        const value = this.keys[`${accountId}:${networkId}`];\n        if (!value) {\n            return null;\n        }\n        return key_pair_1.KeyPair.fromString(value);\n    }\n    /**\n     * Removes a {@link KeyPair} from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        delete this.keys[`${accountId}:${networkId}`];\n    }\n    /**\n     * Removes all {@link KeyPairs} from in-memory storage\n     */\n    async clear() {\n        this.keys = {};\n    }\n    /**\n     * Get the network(s) from in-memory storage\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        Object.keys(this.keys).forEach((key) => {\n            const parts = key.split(':');\n            result.add(parts[1]);\n        });\n        return Array.from(result.values());\n    }\n    /**\n     * Gets the account(s) from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Array();\n        Object.keys(this.keys).forEach((key) => {\n            const parts = key.split(':');\n            if (parts[parts.length - 1] === networkId) {\n                result.push(parts.slice(0, parts.length - 1).join(':'));\n            }\n        });\n        return result;\n    }\n    /** @hidden */\n    toString() {\n        return 'InMemoryKeyStore';\n    }\n}\nexports.InMemoryKeyStore = InMemoryKeyStore;\n","module.exports = __webpack_public_path__ + \"img/back.33c74cab.svg\";","var Class = function () {\r\n    var options = Object.create({\r\n        Source: Object,\r\n        config: {},\r\n        buildArgs: []\r\n    });\r\n\r\n    function checkOption(option) {\r\n        var key = \"config\";\r\n        if (option instanceof Function)\r\n            key = \"Source\";\r\n        else if (option instanceof Array)\r\n            key = \"buildArgs\";\r\n        else if (option instanceof Object)\r\n            key = \"config\";\r\n        else\r\n            throw new Error(\"Invalid configuration option.\");\r\n        if (options.hasOwnProperty(key))\r\n            throw new Error(\"Duplicated configuration option: \" + key + \".\");\r\n        options[key] = option;\r\n    }\r\n\r\n    for (var index = 0, length = arguments.length; index < length; ++index)\r\n        checkOption(arguments[index]);\r\n\r\n    var Source = options.Source,\r\n        config = options.config,\r\n        buildArgs = options.buildArgs;\r\n\r\n    return (Source.extend || Class.extend).call(Source, config, buildArgs);\r\n};\r\n\r\nClass.factory = function () {\r\n    var Source = this;\r\n    return function () {\r\n        var instance = this;\r\n        if (instance.build instanceof Function)\r\n            instance.build.apply(instance, arguments);\r\n        if (instance.init instanceof Function)\r\n            instance.init.apply(instance, arguments);\r\n    };\r\n};\r\n\r\nClass.extend = function (config, buildArgs) {\r\n    var Source = this;\r\n    if (!config)\r\n        config = {};\r\n    var Subject;\r\n    if ((config.prototype instanceof Object) && config.prototype.constructor !== Object)\r\n        Subject = config.prototype.constructor;\r\n    else if (config.factory instanceof Function)\r\n        Subject = config.factory.call(Source);\r\n    Subject = (Source.clone || Class.clone).call(Source, Subject, buildArgs);\r\n    (Subject.merge || Class.merge).call(Subject, config);\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.extend = function (config, buildArgs) {\r\n    var subject = this;\r\n    var instance = (subject.clone || Class.prototype.clone).apply(subject, buildArgs);\r\n    (instance.merge || Class.prototype.merge).call(instance, config);\r\n    return instance;\r\n};\r\n\r\nClass.clone = function (Subject, buildArgs) {\r\n    var Source = this;\r\n    if (!(Subject instanceof Function))\r\n        Subject = (Source.factory || Class.factory).call(Source);\r\n    Subject.prototype = (Source.prototype.clone || Class.prototype.clone).apply(Source.prototype, buildArgs || []);\r\n    Subject.prototype.constructor = Subject;\r\n    for (var staticProperty in Source)\r\n        if (staticProperty !== \"prototype\")\r\n            Subject[staticProperty] = Source[staticProperty];\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.clone = function () {\r\n    var subject = this;\r\n    var instance = Object.create(subject);\r\n    if (instance.build instanceof Function)\r\n        instance.build.apply(instance, arguments);\r\n    return instance;\r\n};\r\n\r\nClass.merge = function (config) {\r\n    var Subject = this;\r\n    for (var staticProperty in config)\r\n        if (staticProperty !== \"prototype\")\r\n            Subject[staticProperty] = config[staticProperty];\r\n    if (config.prototype instanceof Object)\r\n        (Subject.prototype.merge || Class.prototype.merge).call(Subject.prototype, config.prototype);\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.merge = function (config) {\r\n    var subject = this;\r\n    for (var property in config)\r\n        if (property !== \"constructor\")\r\n            subject[property] = config[property];\r\n    return subject;\r\n};\r\n\r\nClass.absorb = function (config) {\r\n    var Subject = this;\r\n    for (var staticProperty in config)\r\n        if (staticProperty !== \"prototype\" && (Subject[staticProperty] === undefined || Subject[staticProperty] === Function.prototype[staticProperty]))\r\n            Subject[staticProperty] = config[staticProperty];\r\n    if (config.prototype instanceof Object)\r\n        (Subject.prototype.absorb || Class.prototype.absorb).call(Subject.prototype, config.prototype);\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.absorb = function (config) {\r\n    var subject = this;\r\n    for (var property in config)\r\n        if (property !== \"constructor\" && (subject[property] === undefined || subject[property] === Object.prototype[property]))\r\n            subject[property] = config[property];\r\n    return subject;\r\n};\r\n\r\nClass.getAncestor = function () {\r\n    var Source = this;\r\n    if (Source !== Source.prototype.constructor)\r\n        return Source.prototype.constructor;\r\n};\r\n\r\nClass.newInstance = function () {\r\n    var Subject = this;\r\n    var instance = Object.create(this.prototype);\r\n    Subject.apply(instance, arguments);\r\n    return instance;\r\n};\r\n\r\nmodule.exports = Class;","module.exports = __webpack_public_path__ + \"img/audio-login.0edef385.png\";","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\nmodule.exports.isHttpError = createIsHttpErrorFunction(module.exports.HttpError)\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    if (arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n      continue\n    }\n    switch (typeof arg) {\n      case 'string':\n        msg = arg\n        break\n      case 'number':\n        status = arg\n        if (i !== 0) {\n          deprecate('non-first-argument status code; replace with createError(' + arg + ', ...)')\n        }\n        break\n      case 'object':\n        props = arg\n        break\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create function to test is a value is a HttpError.\n * @private\n */\n\nfunction createIsHttpErrorFunction (HttpError) {\n  return function isHttpError (val) {\n    if (!val || typeof val !== 'object') {\n      return false\n    }\n\n    if (val instanceof HttpError) {\n      return true\n    }\n\n    return val instanceof Error &&\n      typeof val.expose === 'boolean' &&\n      typeof val.statusCode === 'number' && val.status === val.statusCode\n  }\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n\n  // backwards-compatibility\n  exports[\"I'mateapot\"] = deprecate.function(exports.ImATeapot,\n    '\"I\\'mateapot\"; use \"ImATeapot\" instead')\n}\n\n/**\n * Get a class name from a name identifier.\n * @private\n */\n\nfunction toClassName (name) {\n  return name.substr(-5) !== 'Error'\n    ? name + 'Error'\n    : name\n}\n","require(\"capability/es5\");\r\n\r\nmodule.exports = require(\"./lib\");","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchJson = void 0;\nconst http_errors_1 = __importDefault(require(\"http-errors\"));\nconst exponential_backoff_1 = __importDefault(require(\"./exponential-backoff\"));\nconst providers_1 = require(\"../providers\");\nconst errors_1 = require(\"./errors\");\nconst START_WAIT_TIME_MS = 1000;\nconst BACKOFF_MULTIPLIER = 1.5;\nconst RETRY_NUMBER = 10;\nasync function fetchJson(connectionInfoOrUrl, json) {\n    let connectionInfo = { url: null };\n    if (typeof (connectionInfoOrUrl) === 'string') {\n        connectionInfo.url = connectionInfoOrUrl;\n    }\n    else {\n        connectionInfo = connectionInfoOrUrl;\n    }\n    const response = await exponential_backoff_1.default(START_WAIT_TIME_MS, RETRY_NUMBER, BACKOFF_MULTIPLIER, async () => {\n        try {\n            const response = await fetch(connectionInfo.url, {\n                method: json ? 'POST' : 'GET',\n                body: json ? json : undefined,\n                headers: { ...connectionInfo.headers, 'Content-Type': 'application/json' }\n            });\n            if (!response.ok) {\n                if (response.status === 503) {\n                    errors_1.logWarning(`Retrying HTTP request for ${connectionInfo.url} as it's not available now`);\n                    return null;\n                }\n                throw http_errors_1.default(response.status, await response.text());\n            }\n            return response;\n        }\n        catch (error) {\n            if (error.toString().includes('FetchError') || error.toString().includes('Failed to fetch')) {\n                errors_1.logWarning(`Retrying HTTP request for ${connectionInfo.url} because of error: ${error}`);\n                return null;\n            }\n            throw error;\n        }\n    });\n    if (!response) {\n        throw new providers_1.TypedError(`Exceeded ${RETRY_NUMBER} attempts for ${connectionInfo.url}.`, 'RetriesExceeded');\n    }\n    return await response.json();\n}\nexports.fetchJson = fetchJson;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logWarning = exports.ErrorContext = exports.TypedError = exports.ArgumentTypeError = exports.PositionalArgsError = void 0;\nclass PositionalArgsError extends Error {\n    constructor() {\n        super('Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }');\n    }\n}\nexports.PositionalArgsError = PositionalArgsError;\nclass ArgumentTypeError extends Error {\n    constructor(argName, argType, argValue) {\n        super(`Expected ${argType} for '${argName}' argument, but got '${JSON.stringify(argValue)}'`);\n    }\n}\nexports.ArgumentTypeError = ArgumentTypeError;\nclass TypedError extends Error {\n    constructor(message, type, context) {\n        super(message);\n        this.type = type || 'UntypedError';\n        this.context = context;\n    }\n}\nexports.TypedError = TypedError;\nclass ErrorContext {\n    constructor(transactionHash) {\n        this.transactionHash = transactionHash;\n    }\n}\nexports.ErrorContext = ErrorContext;\nfunction logWarning(...args) {\n    if (!process.env['NEAR_NO_LOGS']) {\n        console.warn(...args);\n    }\n}\nexports.logWarning = logWarning;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nasync function exponentialBackoff(startWaitTime, retryNumber, waitBackoff, getResult) {\n    // TODO: jitter?\n    let waitTime = startWaitTime;\n    for (let i = 0; i < retryNumber; i++) {\n        const result = await getResult();\n        if (result) {\n            return result;\n        }\n        await sleep(waitTime);\n        waitTime *= waitBackoff;\n    }\n    return null;\n}\nexports.default = exponentialBackoff;\n// Sleep given number of millis.\nfunction sleep(millis) {\n    return new Promise(resolve => setTimeout(resolve, millis));\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemorySigner = exports.Signer = void 0;\nconst js_sha256_1 = __importDefault(require(\"js-sha256\"));\nconst key_pair_1 = require(\"./utils/key_pair\");\nconst in_memory_key_store_1 = require(\"./key_stores/in_memory_key_store\");\n/**\n * General signing interface, can be used for in memory signing, RPC singing, external wallet, HSM, etc.\n */\nclass Signer {\n}\nexports.Signer = Signer;\n/**\n * Signs using in memory key store.\n */\nclass InMemorySigner extends Signer {\n    constructor(keyStore) {\n        super();\n        this.keyStore = keyStore;\n    }\n    /**\n     * Creates a single account Signer instance with account, network and keyPair provided.\n     *\n     * Intended to be useful for temporary keys (e.g. claiming a Linkdrop).\n     *\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account to assign the key pair to\n     * @param keyPair The keyPair to use for signing\n     */\n    static async fromKeyPair(networkId, accountId, keyPair) {\n        const keyStore = new in_memory_key_store_1.InMemoryKeyStore();\n        await keyStore.setKey(networkId, accountId, keyPair);\n        return new InMemorySigner(keyStore);\n    }\n    /**\n     * Creates a public key for the account given\n     * @param accountId The NEAR account to assign a public key to\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns {Promise<PublicKey>}\n     */\n    async createKey(accountId, networkId) {\n        const keyPair = key_pair_1.KeyPair.fromRandom('ed25519');\n        await this.keyStore.setKey(networkId, accountId, keyPair);\n        return keyPair.getPublicKey();\n    }\n    /**\n     * Gets the existing public key for a given account\n     * @param accountId The NEAR account to assign a public key to\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns {Promise<PublicKey>} Returns the public key or null if not found\n     */\n    async getPublicKey(accountId, networkId) {\n        const keyPair = await this.keyStore.getKey(networkId, accountId);\n        if (keyPair === null) {\n            return null;\n        }\n        return keyPair.getPublicKey();\n    }\n    /**\n     * @param message A message to be signed, typically a serialized transaction\n     * @param accountId the NEAR account signing the message\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns {Promise<Signature>}\n     */\n    async signMessage(message, accountId, networkId) {\n        const hash = new Uint8Array(js_sha256_1.default.sha256.array(message));\n        if (!accountId) {\n            throw new Error('InMemorySigner requires provided account id');\n        }\n        const keyPair = await this.keyStore.getKey(networkId, accountId);\n        if (keyPair === null) {\n            throw new Error(`Key for ${accountId} not found in ${networkId}`);\n        }\n        return keyPair.sign(hash);\n    }\n    toString() {\n        return `InMemorySigner(${this.keyStore})`;\n    }\n}\nexports.InMemorySigner = InMemorySigner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nclass MergeKeyStore extends keystore_1.KeyStore {\n    /**\n     * @param keyStores read calls are attempted from start to end of array\n     * @param options.writeKeyStoreIndex the keystore index that will receive all write calls\n     */\n    constructor(keyStores, options = { writeKeyStoreIndex: 0 }) {\n        super();\n        this.options = options;\n        this.keyStores = keyStores;\n    }\n    /**\n     * Store a {@link KeyPain} to the first index of a key store array\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        await this.keyStores[this.options.writeKeyStoreIndex].setKey(networkId, accountId, keyPair);\n    }\n    /**\n     * Gets a {@link KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        for (const keyStore of this.keyStores) {\n            const keyPair = await keyStore.getKey(networkId, accountId);\n            if (keyPair) {\n                return keyPair;\n            }\n        }\n        return null;\n    }\n    /**\n     * Removes a {@link KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        for (const keyStore of this.keyStores) {\n            await keyStore.removeKey(networkId, accountId);\n        }\n    }\n    /**\n     * Removes all items from each key store\n     */\n    async clear() {\n        for (const keyStore of this.keyStores) {\n            await keyStore.clear();\n        }\n    }\n    /**\n     * Get the network(s) from the array of key stores\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        for (const keyStore of this.keyStores) {\n            for (const network of await keyStore.getNetworks()) {\n                result.add(network);\n            }\n        }\n        return Array.from(result);\n    }\n    /**\n     * Gets the account(s) from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Set();\n        for (const keyStore of this.keyStores) {\n            for (const account of await keyStore.getAccounts(networkId)) {\n                result.add(account);\n            }\n        }\n        return Array.from(result);\n    }\n    /** @hidden */\n    toString() {\n        return `MergeKeyStore(${this.keyStores.join(', ')})`;\n    }\n}\nexports.MergeKeyStore = MergeKeyStore;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Mustache = factory());\n}(this, (function () { 'use strict';\n\n  /*!\n   * mustache.js - Logic-less {{mustache}} templates with JavaScript\n   * http://github.com/janl/mustache.js\n   */\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  /**\n   * Safe way of detecting whether or not the given thing is a primitive and\n   * whether it has the given property\n   */\n  function primitiveHasOwnProperty (primitive, propName) {\n    return (\n      primitive != null\n      && typeof primitive !== 'object'\n      && primitive.hasOwnProperty\n      && primitive.hasOwnProperty(propName)\n    );\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   *\n   * Tokens for partials also contain two more elements: 1) a string value of\n   * indendation prior to that tag and 2) the index of that tag on that line -\n   * eg a value of 2 indicates the partial is the third tag on this line.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n    var lineHasNonSpace = false;\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n    var indentation = '';  // Tracks indentation for tags that use it\n    var tagIndex = 0;      // Stores a count of number of tags encountered on a line\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n            indentation += chr;\n          } else {\n            nonSpace = true;\n            lineHasNonSpace = true;\n            indentation += ' ';\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n') {\n            stripSpace();\n            indentation = '';\n            tagIndex = 0;\n            lineHasNonSpace = false;\n          }\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      if (type == '>') {\n        token = [ type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace ];\n      } else {\n        token = [ type, value, start, scanner.pos ];\n      }\n      tagIndex++;\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    stripSpace();\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, intermediateValue, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          intermediateValue = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           *\n           * In the case where dot notation is used, we consider the lookup\n           * to be successful even if the last \"object\" in the path is\n           * not actually an object but a primitive (e.g., a string, or an\n           * integer), because it is sometimes useful to access a property\n           * of an autoboxed primitive, such as the length of a string.\n           **/\n          while (intermediateValue != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = (\n                hasProperty(intermediateValue, names[index])\n                || primitiveHasOwnProperty(intermediateValue, names[index])\n              );\n\n            intermediateValue = intermediateValue[names[index++]];\n          }\n        } else {\n          intermediateValue = context.view[name];\n\n          /**\n           * Only checking against `hasProperty`, which always returns `false` if\n           * `context.view` is not an object. Deliberately omitting the check\n           * against `primitiveHasOwnProperty` if dot notation is not used.\n           *\n           * Consider this example:\n           * ```\n           * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n           * ```\n           *\n           * If we were to check also against `primitiveHasOwnProperty`, as we do\n           * in the dot notation case, then render call would return:\n           *\n           * \"The length of a football field is 9.\"\n           *\n           * rather than the expected:\n           *\n           * \"The length of a football field is 100 yards.\"\n           **/\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit) {\n          value = intermediateValue;\n          break;\n        }\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.templateCache = {\n      _cache: {},\n      set: function set (key, value) {\n        this._cache[key] = value;\n      },\n      get: function get (key) {\n        return this._cache[key];\n      },\n      clear: function clear () {\n        this._cache = {};\n      }\n    };\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    if (typeof this.templateCache !== 'undefined') {\n      this.templateCache.clear();\n    }\n  };\n\n  /**\n   * Parses and caches the given `template` according to the given `tags` or\n   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.templateCache;\n    var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n    var isCacheEnabled = typeof cache !== 'undefined';\n    var tokens = isCacheEnabled ? cache.get(cacheKey) : undefined;\n\n    if (tokens == undefined) {\n      tokens = parseTemplate(template, tags);\n      isCacheEnabled && cache.set(cacheKey, tokens);\n    }\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   *\n   * If the optional `config` argument is given here, then it should be an\n   * object with a `tags` attribute or an `escape` attribute or both.\n   * If an array is passed, then it will be interpreted the same way as\n   * a `tags` attribute on a `config` object.\n   *\n   * The `tags` attribute of a `config` object must be an array with two\n   * string values: the opening and closing tags used in the template (e.g.\n   * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   *\n   * The `escape` attribute of a `config` object must be a function which\n   * accepts a string as input and outputs a safely escaped string.\n   * If an `escape` function is not provided, then an HTML-safe string\n   * escaping function is used as the default.\n   */\n  Writer.prototype.render = function render (template, view, partials, config) {\n    var tags = this.getConfigTags(config);\n    var tokens = this.parse(template, tags);\n    var context = (view instanceof Context) ? view : new Context(view, undefined);\n    return this.renderTokens(tokens, context, partials, template, config);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate, config) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate, config);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate, config);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, config);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context, config);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate, config) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials, config);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate, config);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate, config);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate, config);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate, config) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate, config);\n  };\n\n  Writer.prototype.indentPartial = function indentPartial (partial, indentation, lineHasNonSpace) {\n    var filteredIndentation = indentation.replace(/[^ \\t]/g, '');\n    var partialByNl = partial.split('\\n');\n    for (var i = 0; i < partialByNl.length; i++) {\n      if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {\n        partialByNl[i] = filteredIndentation + partialByNl[i];\n      }\n    }\n    return partialByNl.join('\\n');\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials, config) {\n    if (!partials) return;\n    var tags = this.getConfigTags(config);\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null) {\n      var lineHasNonSpace = token[6];\n      var tagIndex = token[5];\n      var indentation = token[4];\n      var indentedValue = value;\n      if (tagIndex == 0 && indentation) {\n        indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);\n      }\n      var tokens = this.parse(indentedValue, tags);\n      return this.renderTokens(tokens, context, partials, indentedValue, config);\n    }\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context, config) {\n    var escape = this.getConfigEscape(config) || mustache.escape;\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return (typeof value === 'number' && escape === mustache.escape) ? String(value) : escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  Writer.prototype.getConfigTags = function getConfigTags (config) {\n    if (isArray(config)) {\n      return config;\n    }\n    else if (config && typeof config === 'object') {\n      return config.tags;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  Writer.prototype.getConfigEscape = function getConfigEscape (config) {\n    if (config && typeof config === 'object' && !isArray(config)) {\n      return config.escape;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  var mustache = {\n    name: 'mustache.js',\n    version: '4.2.0',\n    tags: [ '{{', '}}' ],\n    clearCache: undefined,\n    escape: undefined,\n    parse: undefined,\n    render: undefined,\n    Scanner: undefined,\n    Context: undefined,\n    Writer: undefined,\n    /**\n     * Allows a user to override the default caching strategy, by providing an\n     * object with set, get and clear methods. This can also be used to disable\n     * the cache by setting it to the literal `undefined`.\n     */\n    set templateCache (cache) {\n      defaultWriter.templateCache = cache;\n    },\n    /**\n     * Gets the default or overridden caching object from the default writer.\n     */\n    get templateCache () {\n      return defaultWriter.templateCache;\n    }\n  };\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view`, `partials`, and `config`\n   * using the default writer.\n   */\n  mustache.render = function render (template, view, partials, config) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials, config);\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n\n})));\n","/*!\n * depd\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = depd\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  function deprecate (message) {\n    // no-op in browser\n  }\n\n  deprecate._file = undefined\n  deprecate._ignored = true\n  deprecate._namespace = namespace\n  deprecate._traced = false\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  return fn\n}\n\n/**\n * Wrap property in a deprecation message.\n *\n * This is a no-op version of the wrapper, which does nothing but call\n * validation.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n}\n","module.exports = require(\"./lib\");","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnection = exports.WalletAccount = exports.ConnectedWalletAccount = exports.Near = exports.KeyPair = exports.Signer = exports.InMemorySigner = exports.Contract = exports.Connection = exports.Account = exports.multisig = exports.validators = exports.transactions = exports.utils = exports.providers = exports.accountCreator = void 0;\n/** @hidden @module */\nconst providers = __importStar(require(\"./providers\"));\nexports.providers = providers;\nconst utils = __importStar(require(\"./utils\"));\nexports.utils = utils;\nconst transactions = __importStar(require(\"./transaction\"));\nexports.transactions = transactions;\nconst validators = __importStar(require(\"./validators\"));\nexports.validators = validators;\nconst account_1 = require(\"./account\");\nObject.defineProperty(exports, \"Account\", { enumerable: true, get: function () { return account_1.Account; } });\nconst multisig = __importStar(require(\"./account_multisig\"));\nexports.multisig = multisig;\nconst accountCreator = __importStar(require(\"./account_creator\"));\nexports.accountCreator = accountCreator;\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"Connection\", { enumerable: true, get: function () { return connection_1.Connection; } });\nconst signer_1 = require(\"./signer\");\nObject.defineProperty(exports, \"Signer\", { enumerable: true, get: function () { return signer_1.Signer; } });\nObject.defineProperty(exports, \"InMemorySigner\", { enumerable: true, get: function () { return signer_1.InMemorySigner; } });\nconst contract_1 = require(\"./contract\");\nObject.defineProperty(exports, \"Contract\", { enumerable: true, get: function () { return contract_1.Contract; } });\nconst key_pair_1 = require(\"./utils/key_pair\");\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return key_pair_1.KeyPair; } });\nconst near_1 = require(\"./near\");\nObject.defineProperty(exports, \"Near\", { enumerable: true, get: function () { return near_1.Near; } });\n// TODO: Deprecate and remove WalletAccount\nconst wallet_account_1 = require(\"./wallet-account\");\nObject.defineProperty(exports, \"ConnectedWalletAccount\", { enumerable: true, get: function () { return wallet_account_1.ConnectedWalletAccount; } });\nObject.defineProperty(exports, \"WalletAccount\", { enumerable: true, get: function () { return wallet_account_1.WalletAccount; } });\nObject.defineProperty(exports, \"WalletConnection\", { enumerable: true, get: function () { return wallet_account_1.WalletConnection; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UrlAccountCreator = exports.LocalAccountCreator = exports.AccountCreator = void 0;\nconst web_1 = require(\"./utils/web\");\n/**\n * Account creator provides an interface for implementations to actually create accounts\n */\nclass AccountCreator {\n}\nexports.AccountCreator = AccountCreator;\nclass LocalAccountCreator extends AccountCreator {\n    constructor(masterAccount, initialBalance) {\n        super();\n        this.masterAccount = masterAccount;\n        this.initialBalance = initialBalance;\n    }\n    /**\n     * Creates an account using a masterAccount, meaning the new account is created from an existing account\n     * @param newAccountId The name of the NEAR account to be created\n     * @param publicKey The public key from the masterAccount used to create this account\n     * @returns {Promise<void>}\n     */\n    async createAccount(newAccountId, publicKey) {\n        await this.masterAccount.createAccount(newAccountId, publicKey, this.initialBalance);\n    }\n}\nexports.LocalAccountCreator = LocalAccountCreator;\nclass UrlAccountCreator extends AccountCreator {\n    constructor(connection, helperUrl) {\n        super();\n        this.connection = connection;\n        this.helperUrl = helperUrl;\n    }\n    /**\n     * Creates an account using a helperUrl\n     * This is [hosted here](https://helper.nearprotocol.com) or set up locally with the [near-contract-helper](https://github.com/nearprotocol/near-contract-helper) repository\n     * @param newAccountId The name of the NEAR account to be created\n     * @param publicKey The public key from the masterAccount used to create this account\n     * @returns {Promise<void>}\n     */\n    async createAccount(newAccountId, publicKey) {\n        await web_1.fetchJson(`${this.helperUrl}/account`, JSON.stringify({ newAccountId, newAccountPublicKey: publicKey.toString() }));\n    }\n}\nexports.UrlAccountCreator = UrlAccountCreator;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logWarning = exports.rpc_errors = exports.KeyPairEd25519 = exports.KeyPair = exports.PublicKey = exports.format = exports.enums = exports.web = exports.serialize = exports.key_pair = void 0;\nconst key_pair = __importStar(require(\"./key_pair\"));\nexports.key_pair = key_pair;\nconst serialize = __importStar(require(\"./serialize\"));\nexports.serialize = serialize;\nconst web = __importStar(require(\"./web\"));\nexports.web = web;\nconst enums = __importStar(require(\"./enums\"));\nexports.enums = enums;\nconst format = __importStar(require(\"./format\"));\nexports.format = format;\nconst rpc_errors = __importStar(require(\"./rpc_errors\"));\nexports.rpc_errors = rpc_errors;\nconst key_pair_1 = require(\"./key_pair\");\nObject.defineProperty(exports, \"PublicKey\", { enumerable: true, get: function () { return key_pair_1.PublicKey; } });\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return key_pair_1.KeyPair; } });\nObject.defineProperty(exports, \"KeyPairEd25519\", { enumerable: true, get: function () { return key_pair_1.KeyPairEd25519; } });\nconst errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return errors_1.logWarning; } });\n","require(\"capability/es5\");\r\n\r\nvar capability = require(\"capability\");\r\n\r\nvar polyfill;\r\nif (capability(\"Error.captureStackTrace\"))\r\n    polyfill = require(\"./v8\");\r\nelse if (capability(\"Error.prototype.stack\"))\r\n    polyfill = require(\"./non-v8/index\");\r\nelse\r\n    polyfill = require(\"./unsupported\");\r\n\r\nmodule.exports = polyfill();","// Styles\nimport './VCard.sass'\n\n// Extensions\nimport VSheet from '../VSheet'\n\n// Mixins\nimport Loadable from '../../mixins/loadable'\nimport Routable from '../../mixins/routable'\n\n// Helpers\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Loadable,\n  Routable,\n  VSheet\n).extend({\n  name: 'v-card',\n\n  props: {\n    flat: Boolean,\n    hover: Boolean,\n    img: String,\n    link: Boolean,\n    loaderHeight: {\n      type: [Number, String],\n      default: 4,\n    },\n    raised: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-card': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-card--flat': this.flat,\n        'v-card--hover': this.hover,\n        'v-card--link': this.isClickable,\n        'v-card--loading': this.loading,\n        'v-card--disabled': this.disabled,\n        'v-card--raised': this.raised,\n        ...VSheet.options.computed.classes.call(this),\n      }\n    },\n    styles (): object {\n      const style: Dictionary<string> = {\n        ...VSheet.options.computed.styles.call(this),\n      }\n\n      if (this.img) {\n        style.background = `url(\"${this.img}\") center center / cover no-repeat`\n      }\n\n      return style\n    },\n  },\n\n  methods: {\n    genProgress () {\n      const render = Loadable.options.methods.genProgress.call(this)\n\n      if (!render) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-card__progress',\n        key: 'progress',\n      }, [render])\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    data.style = this.styles\n\n    if (this.isClickable) {\n      data.attrs = data.attrs || {}\n      data.attrs.tabindex = 0\n    }\n\n    return h(tag, this.setBackgroundColor(this.color, data), [\n      this.genProgress(),\n      this.$slots.default,\n    ])\n  },\n})\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = exports.ErrorContext = exports.TypedError = void 0;\n/**\n * This module contains the {@link JsonRpcProvider} client class\n * which can be used to interact with the NEAR RPC API.\n * @see {@link providers/provider} for a list of request and response types\n */\nconst depd_1 = __importDefault(require(\"depd\"));\nconst provider_1 = require(\"./provider\");\nconst web_1 = require(\"../utils/web\");\nconst errors_1 = require(\"../utils/errors\");\nObject.defineProperty(exports, \"TypedError\", { enumerable: true, get: function () { return errors_1.TypedError; } });\nObject.defineProperty(exports, \"ErrorContext\", { enumerable: true, get: function () { return errors_1.ErrorContext; } });\nconst borsh_1 = require(\"borsh\");\nconst exponential_backoff_1 = __importDefault(require(\"../utils/exponential-backoff\"));\nconst rpc_errors_1 = require(\"../utils/rpc_errors\");\n// Default number of retries before giving up on a request.\nconst REQUEST_RETRY_NUMBER = 12;\n// Default wait until next retry in millis.\nconst REQUEST_RETRY_WAIT = 500;\n// Exponential back off for waiting to retry.\nconst REQUEST_RETRY_WAIT_BACKOFF = 1.5;\n/// Keep ids unique across all connections.\nlet _nextId = 123;\n/**\n * Client class to interact with the NEAR RPC API.\n * @see {@link https://github.com/near/nearcore/tree/master/chain/jsonrpc}\n */\nclass JsonRpcProvider extends provider_1.Provider {\n    /**\n     * @param connectionInfoOrUrl ConnectionInfo or RPC API endpoint URL (deprecated)\n     */\n    constructor(connectionInfoOrUrl) {\n        super();\n        if (connectionInfoOrUrl != null && typeof connectionInfoOrUrl == 'object') {\n            this.connection = connectionInfoOrUrl;\n        }\n        else {\n            const deprecate = depd_1.default('JsonRpcProvider(url?: string)');\n            deprecate('use `JsonRpcProvider(connectionInfo: ConnectionInfo)` instead');\n            this.connection = { url: connectionInfoOrUrl };\n        }\n    }\n    /**\n     * Gets the RPC's status\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#general-validator-status}\n     */\n    async status() {\n        return this.sendJsonRpc('status', []);\n    }\n    /**\n     * Sends a signed transaction to the RPC and waits until transaction is fully complete\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#send-transaction-await}\n     *\n     * @param signedTransaction The signed transaction being sent\n     */\n    async sendTransaction(signedTransaction) {\n        const bytes = signedTransaction.encode();\n        return this.sendJsonRpc('broadcast_tx_commit', [Buffer.from(bytes).toString('base64')]);\n    }\n    /**\n     * Sends a signed transaction to the RPC and immediately returns transaction hash\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#send-transaction-async)\n     * @param signedTransaction The signed transaction being sent\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async sendTransactionAsync(signedTransaction) {\n        const bytes = signedTransaction.encode();\n        return this.sendJsonRpc('broadcast_tx_async', [Buffer.from(bytes).toString('base64')]);\n    }\n    /**\n     * Gets a transaction's status from the RPC\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#transaction-status}\n     *\n     * @param txHash A transaction hash as either a Uint8Array or a base58 encoded string\n     * @param accountId The NEAR account that signed the transaction\n     */\n    async txStatus(txHash, accountId) {\n        if (typeof txHash === 'string') {\n            return this.txStatusString(txHash, accountId);\n        }\n        else {\n            return this.txStatusUint8Array(txHash, accountId);\n        }\n    }\n    async txStatusUint8Array(txHash, accountId) {\n        return this.sendJsonRpc('tx', [borsh_1.baseEncode(txHash), accountId]);\n    }\n    async txStatusString(txHash, accountId) {\n        return this.sendJsonRpc('tx', [txHash, accountId]);\n    }\n    /**\n     * Gets a transaction's status from the RPC with receipts\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#transaction-status-with-receipts)\n     * @param txHash The hash of the transaction\n     * @param accountId The NEAR account that signed the transaction\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async txStatusReceipts(txHash, accountId) {\n        return this.sendJsonRpc('EXPERIMENTAL_tx_status', [borsh_1.baseEncode(txHash), accountId]);\n    }\n    /**\n     * Query the RPC as [shown in the docs](https://docs.near.org/docs/develop/front-end/rpc#accounts--contracts)\n     * Query the RPC by passing an {@link RpcQueryRequest}\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#accounts--contracts}\n     *\n     * @typeParam T the shape of the returned query response\n     */\n    async query(...args) {\n        let result;\n        if (args.length === 1) {\n            result = await this.sendJsonRpc('query', args[0]);\n        }\n        else {\n            const [path, data] = args;\n            result = await this.sendJsonRpc('query', [path, data]);\n        }\n        if (result && result.error) {\n            throw new errors_1.TypedError(`Querying ${args} failed: ${result.error}.\\n${JSON.stringify(result, null, 2)}`, rpc_errors_1.getErrorTypeFromErrorMessage(result.error));\n        }\n        return result;\n    }\n    /**\n     * Query for block info from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see {@link https://docs.near.org/docs/interaction/rpc#block}\n     *\n     * @param blockQuery {@link BlockReference} (passing a {@link BlockId} is deprecated)\n     */\n    async block(blockQuery) {\n        const { finality } = blockQuery;\n        let { blockId } = blockQuery;\n        if (typeof blockQuery !== 'object') {\n            const deprecate = depd_1.default('JsonRpcProvider.block(blockId)');\n            deprecate('use `block({ blockId })` or `block({ finality })` instead');\n            blockId = blockQuery;\n        }\n        return this.sendJsonRpc('block', { block_id: blockId, finality });\n    }\n    /**\n     * Query changes in block from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#block-details)\n     */\n    async blockChanges(blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes_in_block', { block_id: blockId, finality });\n    }\n    /**\n     * Queries for details about a specific chunk appending details of receipts and transactions to the same chunk data provided by a block\n     * @see {@link https://docs.near.org/docs/interaction/rpc#chunk}\n     *\n     * @param chunkId Hash of a chunk ID or shard ID\n     */\n    async chunk(chunkId) {\n        return this.sendJsonRpc('chunk', [chunkId]);\n    }\n    /**\n     * Query validators of the epoch defined by the given block id.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#detailed-validator-status}\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async validators(blockId) {\n        return this.sendJsonRpc('validators', [blockId]);\n    }\n    /**\n     * @deprecated\n     * Gets the genesis config from RPC\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#genesis-config}\n     */\n    async experimental_genesisConfig() {\n        const deprecate = depd_1.default('JsonRpcProvider.experimental_protocolConfig()');\n        deprecate('use `experimental_protocolConfig({ sync_checkpoint: \\'genesis\\' })` to fetch the up-to-date or genesis protocol config explicitly');\n        return await this.sendJsonRpc('EXPERIMENTAL_protocol_config', { sync_checkpoint: 'genesis' });\n    }\n    /**\n     * Gets the protocol config at a block from RPC\n     * @see {@link }\n     *\n     * @param blockReference specifies the block to get the protocol config for\n     */\n    async experimental_protocolConfig(blockReference) {\n        return await this.sendJsonRpc('EXPERIMENTAL_protocol_config', blockReference);\n    }\n    /**\n     * @deprecated Use {@link lightClientProof} instead\n     */\n    async experimental_lightClientProof(request) {\n        const deprecate = depd_1.default('JsonRpcProvider.experimental_lightClientProof(request)');\n        deprecate('use `lightClientProof` instead');\n        return await this.lightClientProof(request);\n    }\n    /**\n     * Gets a light client execution proof for verifying execution outcomes\n     * @see {@link https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof}\n     */\n    async lightClientProof(request) {\n        return await this.sendJsonRpc('EXPERIMENTAL_light_client_proof', request);\n    }\n    /**\n     * Gets access key changes for a given array of accountIds\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-all)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accessKeyChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'all_access_key_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets single access key changes for a given array of access keys\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-single)\n     * @returns {Promise<ChangeResult>}\n     */\n    async singleAccessKeyChanges(accessKeyArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'single_access_key_changes',\n            keys: accessKeyArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets account changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-account-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accountChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'account_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets contract state changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: If you pass a keyPrefix it must be base64 encoded\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-state-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractStateChanges(accountIdArray, blockQuery, keyPrefix = '') {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'data_changes',\n            account_ids: accountIdArray,\n            key_prefix_base64: keyPrefix,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets contract code changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: Change is returned in a base64 encoded WASM file\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-code-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractCodeChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'contract_code_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Returns gas price for a specific block_height or block_hash.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#gas-price}\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async gasPrice(blockId) {\n        return await this.sendJsonRpc('gas_price', [blockId]);\n    }\n    /**\n     * Directly call the RPC specifying the method and params\n     *\n     * @param method RPC method\n     * @param params Parameters to the method\n     */\n    async sendJsonRpc(method, params) {\n        const response = await exponential_backoff_1.default(REQUEST_RETRY_WAIT, REQUEST_RETRY_NUMBER, REQUEST_RETRY_WAIT_BACKOFF, async () => {\n            try {\n                const request = {\n                    method,\n                    params,\n                    id: (_nextId++),\n                    jsonrpc: '2.0'\n                };\n                const response = await web_1.fetchJson(this.connection, JSON.stringify(request));\n                if (response.error) {\n                    if (typeof response.error.data === 'object') {\n                        if (typeof response.error.data.error_message === 'string' && typeof response.error.data.error_type === 'string') {\n                            // if error data has error_message and error_type properties, we consider that node returned an error in the old format\n                            throw new errors_1.TypedError(response.error.data.error_message, response.error.data.error_type);\n                        }\n                        throw rpc_errors_1.parseRpcError(response.error.data);\n                    }\n                    else {\n                        const errorMessage = `[${response.error.code}] ${response.error.message}: ${response.error.data}`;\n                        // NOTE: All this hackery is happening because structured errors not implemented\n                        // TODO: Fix when https://github.com/nearprotocol/nearcore/issues/1839 gets resolved\n                        if (response.error.data === 'Timeout' || errorMessage.includes('Timeout error')\n                            || errorMessage.includes('query has timed out')) {\n                            throw new errors_1.TypedError(errorMessage, 'TimeoutError');\n                        }\n                        throw new errors_1.TypedError(errorMessage, rpc_errors_1.getErrorTypeFromErrorMessage(response.error.data));\n                    }\n                }\n                // Success when response.error is not exist\n                return response;\n            }\n            catch (error) {\n                if (error.type === 'TimeoutError') {\n                    if (!process.env['NEAR_NO_LOGS']) {\n                        console.warn(`Retrying request to ${method} as it has timed out`, params);\n                    }\n                    return null;\n                }\n                throw error;\n            }\n        });\n        const { result } = response;\n        // From jsonrpc spec:\n        // result\n        //   This member is REQUIRED on success.\n        //   This member MUST NOT exist if there was an error invoking the method.\n        if (typeof result === 'undefined') {\n            throw new errors_1.TypedError(`Exceeded ${REQUEST_RETRY_NUMBER} attempts for request to ${method}.`, 'RetriesExceeded');\n        }\n        return result;\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\n","var FrameStringSource = require(\"./FrameStringSource\"),\r\n    FrameStringParser = require(\"./FrameStringParser\"),\r\n    cache = require(\"u3\").cache,\r\n    prepareStackTrace = require(\"../prepareStackTrace\");\r\n\r\nmodule.exports = function () {\r\n\r\n    Error.captureStackTrace = function captureStackTrace(throwable, terminator) {\r\n        var warnings;\r\n        var frameShifts = [\r\n            captureStackTrace\r\n        ];\r\n        if (terminator) {\r\n            // additional frames can come here if arguments.callee.caller is supported\r\n            // otherwise it is hard to identify the terminator\r\n            frameShifts.push(terminator);\r\n        }\r\n        var captured = FrameStringSource.getInstance().captureFrameStrings(frameShifts);\r\n        Object.defineProperties(throwable, {\r\n            stack: {\r\n                configurable: true,\r\n                get: cache(function () {\r\n                    var frames = FrameStringParser.getInstance().getFrames(captured.frameStrings, captured.functionValues);\r\n                    return (Error.prepareStackTrace || prepareStackTrace)(throwable, frames, warnings);\r\n                })\r\n            },\r\n            cachedStack: {\r\n                configurable: true,\r\n                writable: true,\r\n                enumerable: false,\r\n                value: true\r\n            }\r\n        });\r\n    };\r\n\r\n    Error.getStackTrace = function (throwable) {\r\n        if (throwable.cachedStack)\r\n            return throwable.stack;\r\n        var frameStrings = FrameStringSource.getInstance().getFrameStrings(throwable),\r\n            frames = [],\r\n            warnings;\r\n        if (frameStrings)\r\n            frames = FrameStringParser.getInstance().getFrames(frameStrings, []);\r\n        else\r\n            warnings = [\r\n                \"The stack is not readable by unthrown errors in this environment.\"\r\n            ];\r\n        var stack = (Error.prepareStackTrace || prepareStackTrace)(throwable, frames, warnings);\r\n        if (frameStrings)\r\n            try {\r\n                Object.defineProperties(throwable, {\r\n                    stack: {\r\n                        configurable: true,\r\n                        writable: true,\r\n                        enumerable: false,\r\n                        value: stack\r\n                    },\r\n                    cachedStack: {\r\n                        configurable: true,\r\n                        writable: true,\r\n                        enumerable: false,\r\n                        value: true\r\n                    }\r\n                });\r\n            } catch (nonConfigurableError) {\r\n            }\r\n        return stack;\r\n    };\r\n\r\n    return {\r\n        prepareStackTrace: prepareStackTrace\r\n    };\r\n};","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_FUNCTION_CALL_GAS = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n// Default amount of gas to be sent with the function calls. Used to pay for the fees\n// incurred while running the contract execution. The unused amount will be refunded back to\n// the originator.\n// Due to protocol changes that charge upfront for the maximum possible gas price inflation due to\n// full blocks, the price of max_prepaid_gas is decreased to `300 * 10**12`.\n// For discussion see https://github.com/nearprotocol/NEPs/issues/67\nexports.DEFAULT_FUNCTION_CALL_GAS = new bn_js_1.default('30000000000000');\n","var cache = function (fn) {\r\n    var called = false,\r\n        store;\r\n\r\n    if (!(fn instanceof Function)) {\r\n        called = true;\r\n        store = fn;\r\n        fn = null;\r\n    }\r\n\r\n    return function () {\r\n        if (!called) {\r\n            called = true;\r\n            store = fn.apply(this, arguments);\r\n            fn = null;\r\n        }\r\n        return store;\r\n    };\r\n};\r\n\r\nmodule.exports = cache;","var prepareStackTrace = function (throwable, frames, warnings) {\r\n    var string = \"\";\r\n    string += throwable.name || \"Error\";\r\n    string += \": \" + (throwable.message || \"\");\r\n    if (warnings instanceof Array)\r\n        for (var warningIndex in warnings) {\r\n            var warning = warnings[warningIndex];\r\n            string += \"\\n   # \" + warning;\r\n        }\r\n    for (var frameIndex in frames) {\r\n        var frame = frames[frameIndex];\r\n        string += \"\\n   at \" + frame.toString();\r\n    }\r\n    return string;\r\n};\r\n\r\nmodule.exports = prepareStackTrace;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorTypeFromErrorMessage = exports.formatError = exports.parseResultError = exports.parseRpcError = exports.ServerError = void 0;\nconst mustache_1 = __importDefault(require(\"mustache\"));\nconst rpc_error_schema_json_1 = __importDefault(require(\"../generated/rpc_error_schema.json\"));\nconst error_messages_json_1 = __importDefault(require(\"../res/error_messages.json\"));\nconst common_index_1 = require(\"../common-index\");\nconst errors_1 = require(\"../utils/errors\");\nconst mustacheHelpers = {\n    formatNear: () => (n, render) => common_index_1.utils.format.formatNearAmount(render(n))\n};\nclass ServerError extends errors_1.TypedError {\n}\nexports.ServerError = ServerError;\nclass ServerTransactionError extends ServerError {\n}\nfunction parseRpcError(errorObj) {\n    const result = {};\n    const errorClassName = walkSubtype(errorObj, rpc_error_schema_json_1.default.schema, result, '');\n    // NOTE: This assumes that all errors extend TypedError\n    const error = new ServerError(formatError(errorClassName, result), errorClassName);\n    Object.assign(error, result);\n    return error;\n}\nexports.parseRpcError = parseRpcError;\nfunction parseResultError(result) {\n    const server_error = parseRpcError(result.status.Failure);\n    const server_tx_error = new ServerTransactionError();\n    Object.assign(server_tx_error, server_error);\n    server_tx_error.type = server_error.type;\n    server_tx_error.message = server_error.message;\n    server_tx_error.transaction_outcome = result.transaction_outcome;\n    return server_tx_error;\n}\nexports.parseResultError = parseResultError;\nfunction formatError(errorClassName, errorData) {\n    if (typeof error_messages_json_1.default[errorClassName] === 'string') {\n        return mustache_1.default.render(error_messages_json_1.default[errorClassName], {\n            ...errorData,\n            ...mustacheHelpers\n        });\n    }\n    return JSON.stringify(errorData);\n}\nexports.formatError = formatError;\n/**\n * Walks through defined schema returning error(s) recursively\n * @param errorObj The error to be parsed\n * @param schema A defined schema in JSON mapping to the RPC errors\n * @param result An object used in recursion or called directly\n * @param typeName The human-readable error type name as defined in the JSON mapping\n */\nfunction walkSubtype(errorObj, schema, result, typeName) {\n    let error;\n    let type;\n    let errorTypeName;\n    for (const errorName in schema) {\n        if (isString(errorObj[errorName])) {\n            // Return early if error type is in a schema\n            return errorObj[errorName];\n        }\n        if (isObject(errorObj[errorName])) {\n            error = errorObj[errorName];\n            type = schema[errorName];\n            errorTypeName = errorName;\n        }\n        else if (isObject(errorObj.kind) && isObject(errorObj.kind[errorName])) {\n            error = errorObj.kind[errorName];\n            type = schema[errorName];\n            errorTypeName = errorName;\n        }\n        else {\n            continue;\n        }\n    }\n    if (error && type) {\n        for (const prop of Object.keys(type.props)) {\n            result[prop] = error[prop];\n        }\n        return walkSubtype(error, schema, result, errorTypeName);\n    }\n    else {\n        // TODO: is this the right thing to do?\n        result.kind = errorObj;\n        return typeName;\n    }\n}\nfunction getErrorTypeFromErrorMessage(errorMessage) {\n    // This function should be removed when JSON RPC starts returning typed errors.\n    switch (true) {\n        case /^account .*? does not exist while viewing$/.test(errorMessage):\n            return 'AccountDoesNotExist';\n        case /^Account .*? doesn't exist$/.test(errorMessage):\n            return 'AccountDoesNotExist';\n        case /^access key .*? does not exist while viewing$/.test(errorMessage):\n            return 'AccessKeyDoesNotExist';\n        case /wasm execution failed with error: FunctionCallError\\(CompilationError\\(CodeDoesNotExist/.test(errorMessage):\n            return 'CodeDoesNotExist';\n        case /Transaction nonce \\d+ must be larger than nonce of the used access key \\d+/.test(errorMessage):\n            return 'InvalidNonce';\n        default:\n            return 'UntypedError';\n    }\n}\nexports.getErrorTypeFromErrorMessage = getErrorTypeFromErrorMessage;\n/**\n * Helper function determining if the argument is an object\n * @param n Value to check\n */\nfunction isObject(n) {\n    return Object.prototype.toString.call(n) === '[object Object]';\n}\n/**\n * Helper function determining if the argument is a string\n * @param n Value to check\n */\nfunction isString(n) {\n    return Object.prototype.toString.call(n) === '[object String]';\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contract = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst providers_1 = require(\"./providers\");\nconst errors_1 = require(\"./utils/errors\");\n// Makes `function.name` return given name\nfunction nameFunction(name, body) {\n    return {\n        [name](...args) {\n            return body(...args);\n        }\n    }[name];\n}\nconst isUint8Array = (x) => x && x.byteLength !== undefined && x.byteLength === x.length;\nconst isObject = (x) => Object.prototype.toString.call(x) === '[object Object]';\n/**\n * Defines a smart contract on NEAR including the change (mutable) and view (non-mutable) methods\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#contract}\n * @example\n * ```js\n * import { Contract } from 'near-api-js';\n *\n * async function contractExample() {\n *   const methodOptions = {\n *     viewMethods: ['getMessageByAccountId'],\n *     changeMethods: ['addMessage']\n *   };\n *   const contract = new Contract(\n *     wallet.account(),\n *     'contract-id.testnet',\n *     methodOptions\n *   );\n *\n *   // use a contract view method\n *   const messages = await contract.getMessages({\n *     accountId: 'example-account.testnet'\n *   });\n *\n *   // use a contract change method\n *   await contract.addMessage({\n *      meta: 'some info',\n *      callbackUrl: 'https://example.com/callback',\n *      args: { text: 'my message' },\n *      amount: 1\n *   })\n * }\n * ```\n */\nclass Contract {\n    /**\n     * @param account NEAR account to sign change method transactions\n     * @param contractId NEAR account id where the contract is deployed\n     * @param options NEAR smart contract methods that your application will use. These will be available as `contract.methodName`\n     */\n    constructor(account, contractId, options) {\n        this.account = account;\n        this.contractId = contractId;\n        const { viewMethods = [], changeMethods = [] } = options;\n        viewMethods.forEach((methodName) => {\n            Object.defineProperty(this, methodName, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(methodName, async (args = {}, options = {}, ...ignored) => {\n                    if (ignored.length || !(isObject(args) || isUint8Array(args)) || !isObject(options)) {\n                        throw new errors_1.PositionalArgsError();\n                    }\n                    return this.account.viewFunction(this.contractId, methodName, args, options);\n                })\n            });\n        });\n        changeMethods.forEach((methodName) => {\n            Object.defineProperty(this, methodName, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(methodName, async (...args) => {\n                    if (args.length && (args.length > 3 || !(isObject(args[0]) || isUint8Array(args[0])))) {\n                        throw new errors_1.PositionalArgsError();\n                    }\n                    if (args.length > 1 || !(args[0] && args[0].args)) {\n                        const deprecate = depd_1.default('contract.methodName(args, gas, amount)');\n                        deprecate('use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead');\n                        return this._changeMethod({\n                            methodName,\n                            args: args[0],\n                            gas: args[1],\n                            amount: args[2]\n                        });\n                    }\n                    return this._changeMethod({ methodName, ...args[0] });\n                })\n            });\n        });\n    }\n    async _changeMethod({ args, methodName, gas, amount, meta, callbackUrl }) {\n        validateBNLike({ gas, amount });\n        const rawResult = await this.account.functionCall({\n            contractId: this.contractId,\n            methodName,\n            args,\n            gas,\n            attachedDeposit: amount,\n            walletMeta: meta,\n            walletCallbackUrl: callbackUrl\n        });\n        return providers_1.getTransactionLastResult(rawResult);\n    }\n}\nexports.Contract = Contract;\n/**\n * Validation on arguments being a big number from bn.js\n * Throws if an argument is not in BN format or otherwise invalid\n * @param argMap\n */\nfunction validateBNLike(argMap) {\n    const bnLike = 'number, decimal string or BN';\n    for (const argName of Object.keys(argMap)) {\n        const argValue = argMap[argName];\n        if (argValue && !bn_js_1.default.isBN(argValue) && isNaN(argValue)) {\n            throw new errors_1.ArgumentTypeError(argName, bnLike, argValue);\n        }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = exports.BrowserLocalStorageKeyStore = exports.InMemoryKeyStore = exports.KeyStore = void 0;\n/** @hidden @module */\nconst keystore_1 = require(\"./keystore\");\nObject.defineProperty(exports, \"KeyStore\", { enumerable: true, get: function () { return keystore_1.KeyStore; } });\nconst in_memory_key_store_1 = require(\"./in_memory_key_store\");\nObject.defineProperty(exports, \"InMemoryKeyStore\", { enumerable: true, get: function () { return in_memory_key_store_1.InMemoryKeyStore; } });\nconst browser_local_storage_key_store_1 = require(\"./browser_local_storage_key_store\");\nObject.defineProperty(exports, \"BrowserLocalStorageKeyStore\", { enumerable: true, get: function () { return browser_local_storage_key_store_1.BrowserLocalStorageKeyStore; } });\nconst merge_key_store_1 = require(\"./merge_key_store\");\nObject.defineProperty(exports, \"MergeKeyStore\", { enumerable: true, get: function () { return merge_key_store_1.MergeKeyStore; } });\n","import Vue from 'vue'\n\n/**\n * SSRBootable\n *\n * @mixin\n *\n * Used in layout components (drawer, toolbar, content)\n * to avoid an entry animation when using SSR\n */\nexport default Vue.extend({\n  name: 'ssr-bootable',\n\n  data: () => ({\n    isBooted: false,\n  }),\n\n  mounted () {\n    // Use setAttribute instead of dataset\n    // because dataset does not work well\n    // with unit tests\n    window.requestAnimationFrame(() => {\n      this.$el.setAttribute('data-booted', 'true')\n      this.isBooted = true\n    })\n  },\n})\n","var Class = require(\"o3\").Class,\r\n    abstractMethod = require(\"o3\").abstractMethod,\r\n    eachCombination = require(\"u3\").eachCombination,\r\n    cache = require(\"u3\").cache,\r\n    capability = require(\"capability\");\r\n\r\nvar AbstractFrameStringSource = Class(Object, {\r\n    prototype: {\r\n        captureFrameStrings: function (frameShifts) {\r\n            var error = this.createError();\r\n            frameShifts.unshift(this.captureFrameStrings);\r\n            frameShifts.unshift(this.createError);\r\n            var capturedFrameStrings = this.getFrameStrings(error);\r\n\r\n            var frameStrings = capturedFrameStrings.slice(frameShifts.length),\r\n                functionValues = [];\r\n\r\n            if (capability(\"arguments.callee.caller\")) {\r\n                var capturedFunctionValues = [\r\n                    this.createError,\r\n                    this.captureFrameStrings\r\n                ];\r\n                try {\r\n                    var aCaller = arguments.callee;\r\n                    while (aCaller = aCaller.caller)\r\n                        capturedFunctionValues.push(aCaller);\r\n                }\r\n                catch (useStrictError) {\r\n                }\r\n                functionValues = capturedFunctionValues.slice(frameShifts.length);\r\n            }\r\n            return {\r\n                frameStrings: frameStrings,\r\n                functionValues: functionValues\r\n            };\r\n        },\r\n        getFrameStrings: function (error) {\r\n            var message = error.message || \"\";\r\n            var name = error.name || \"\";\r\n            var stackString = this.getStackString(error);\r\n            if (stackString === undefined)\r\n                return;\r\n            var stackStringChunks = stackString.split(\"\\n\");\r\n            var fromPosition = 0;\r\n            var toPosition = stackStringChunks.length;\r\n            if (this.hasHeader)\r\n                fromPosition += name.split(\"\\n\").length + message.split(\"\\n\").length - 1;\r\n            if (this.hasFooter)\r\n                toPosition -= 1;\r\n            return stackStringChunks.slice(fromPosition, toPosition);\r\n        },\r\n        createError: abstractMethod,\r\n        getStackString: abstractMethod,\r\n        hasHeader: undefined,\r\n        hasFooter: undefined\r\n    }\r\n});\r\n\r\nvar FrameStringSourceCalibrator = Class(Object, {\r\n    prototype: {\r\n        calibrateClass: function (FrameStringSource) {\r\n            return this.calibrateMethods(FrameStringSource) && this.calibrateEnvelope(FrameStringSource);\r\n        },\r\n        calibrateMethods: function (FrameStringSource) {\r\n            try {\r\n                eachCombination([[\r\n                    function (message) {\r\n                        return new Error(message);\r\n                    },\r\n                    function (message) {\r\n                        try {\r\n                            throw new Error(message);\r\n                        }\r\n                        catch (error) {\r\n                            return error;\r\n                        }\r\n                    }\r\n                ], [\r\n                    function (error) {\r\n                        return error.stack;\r\n                    },\r\n                    function (error) {\r\n                        return error.stacktrace;\r\n                    }\r\n                ]], function (createError, getStackString) {\r\n                    if (getStackString(createError()))\r\n                        throw {\r\n                            getStackString: getStackString,\r\n                            createError: createError\r\n                        };\r\n                });\r\n            } catch (workingImplementation) {\r\n                Class.merge.call(FrameStringSource, {\r\n                    prototype: workingImplementation\r\n                });\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        calibrateEnvelope: function (FrameStringSource) {\r\n            var getStackString = FrameStringSource.prototype.getStackString;\r\n            var createError = FrameStringSource.prototype.createError;\r\n            var calibratorStackString = getStackString(createError(\"marker\"));\r\n            var calibratorFrameStrings = calibratorStackString.split(\"\\n\");\r\n            Class.merge.call(FrameStringSource, {\r\n                prototype: {\r\n                    hasHeader: /marker/.test(calibratorFrameStrings[0]),\r\n                    hasFooter: calibratorFrameStrings[calibratorFrameStrings.length - 1] === \"\"\r\n                }\r\n            });\r\n            return true;\r\n        }\r\n    }\r\n});\r\n\r\n\r\nmodule.exports = {\r\n    getClass: cache(function () {\r\n        var FrameStringSource;\r\n        if (FrameStringSource)\r\n            return FrameStringSource;\r\n        FrameStringSource = Class(AbstractFrameStringSource, {});\r\n        var calibrator = new FrameStringSourceCalibrator();\r\n        if (!calibrator.calibrateClass(FrameStringSource))\r\n            throw new Error(\"Cannot read Error.prototype.stack in this environment.\");\r\n        return FrameStringSource;\r\n    }),\r\n    getInstance: cache(function () {\r\n        var FrameStringSource = this.getClass();\r\n        var instance = new FrameStringSource();\r\n        return instance;\r\n    })\r\n};","\"use strict\";\n/**\n * NEAR RPC API request types and responses\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTransactionLastResult = exports.Provider = exports.IdType = exports.FinalExecutionStatusBasic = exports.ExecutionStatusBasic = void 0;\nvar ExecutionStatusBasic;\n(function (ExecutionStatusBasic) {\n    ExecutionStatusBasic[\"Unknown\"] = \"Unknown\";\n    ExecutionStatusBasic[\"Pending\"] = \"Pending\";\n    ExecutionStatusBasic[\"Failure\"] = \"Failure\";\n})(ExecutionStatusBasic = exports.ExecutionStatusBasic || (exports.ExecutionStatusBasic = {}));\nvar FinalExecutionStatusBasic;\n(function (FinalExecutionStatusBasic) {\n    FinalExecutionStatusBasic[\"NotStarted\"] = \"NotStarted\";\n    FinalExecutionStatusBasic[\"Started\"] = \"Started\";\n    FinalExecutionStatusBasic[\"Failure\"] = \"Failure\";\n})(FinalExecutionStatusBasic = exports.FinalExecutionStatusBasic || (exports.FinalExecutionStatusBasic = {}));\nvar IdType;\n(function (IdType) {\n    IdType[\"Transaction\"] = \"transaction\";\n    IdType[\"Receipt\"] = \"receipt\";\n})(IdType = exports.IdType || (exports.IdType = {}));\n/** @hidden */\nclass Provider {\n}\nexports.Provider = Provider;\n/** @hidden */\nfunction getTransactionLastResult(txResult) {\n    if (typeof txResult.status === 'object' && typeof txResult.status.SuccessValue === 'string') {\n        const value = Buffer.from(txResult.status.SuccessValue, 'base64').toString();\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return value;\n        }\n    }\n    return null;\n}\nexports.getTransactionLastResult = getTransactionLastResult;\n","module.exports = {\r\n    cache: require(\"./cache\"),\r\n    eachCombination: require(\"./eachCombination\")\r\n};","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @hidden @module */\nexports.keyStores = __importStar(require(\"./key_stores/browser-index\"));\n__exportStar(require(\"./common-index\"), exports);\n__exportStar(require(\"./browser-connect\"), exports);\nrequire(\"error-polyfill\");\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","var Class = require(\"o3\").Class,\r\n    abstractMethod = require(\"o3\").abstractMethod;\r\n\r\nvar Frame = Class(Object, {\r\n    prototype: {\r\n        init: Class.prototype.merge,\r\n        frameString: undefined,\r\n        toString: function () {\r\n            return this.frameString;\r\n        },\r\n        functionValue: undefined,\r\n        getThis: abstractMethod,\r\n        getTypeName: abstractMethod,\r\n        getFunction: function () {\r\n            return this.functionValue;\r\n        },\r\n        getFunctionName: abstractMethod,\r\n        getMethodName: abstractMethod,\r\n        getFileName: abstractMethod,\r\n        getLineNumber: abstractMethod,\r\n        getColumnNumber: abstractMethod,\r\n        getEvalOrigin: abstractMethod,\r\n        isTopLevel: abstractMethod,\r\n        isEval: abstractMethod,\r\n        isNative: abstractMethod,\r\n        isConstructor: abstractMethod\r\n    }\r\n});\r\n\r\nmodule.exports = Frame;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connect = void 0;\n/**\n * Connect to NEAR using the provided configuration.\n *\n * {@link ConnectConfig.networkId} and {@link ConnectConfig.nodeUrl} are required.\n *\n * To sign transactions you can also pass: {@link ConnectConfig.keyStore}\n *\n * Both are passed they are prioritize in that order.\n *\n * @see {@link ConnectConfig}\n * @example\n * ```js\n * async function initNear() {\n *   const near = await connect({\n *      networkId: 'testnet',\n *      nodeUrl: 'https://rpc.testnet.near.org'\n *   })\n * }\n * ```\n *\n * @module browserConnect\n */\nconst near_1 = require(\"./near\");\n/**\n * Initialize connection to Near network.\n */\nasync function connect(config) {\n    return new near_1.Near(config);\n}\nexports.connect = connect;\n","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.diffEpochValidators = exports.findSeatPrice = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\n/** Finds seat price given validators stakes and number of seats.\n *  Calculation follow the spec: https://nomicon.io/Economics/README.html#validator-selection\n * @params validators: current or next epoch validators.\n * @params maxNumberOfSeats: maximum number of seats in the network.\n * @params minimumStakeRatio: minimum stake ratio\n * @params protocolVersion: version of the protocol from genesis config\n */\nfunction findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio, protocolVersion) {\n    if (protocolVersion && protocolVersion < 49) {\n        return findSeatPriceForProtocolBefore49(validators, maxNumberOfSeats);\n    }\n    if (!minimumStakeRatio) {\n        const deprecate = depd_1.default('findSeatPrice(validators, maxNumberOfSeats)');\n        deprecate('`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead');\n        minimumStakeRatio = [1, 6250]; // harcoded minimumStakeRation from 12/7/21\n    }\n    return findSeatPriceForProtocolAfter49(validators, maxNumberOfSeats, minimumStakeRatio);\n}\nexports.findSeatPrice = findSeatPrice;\nfunction findSeatPriceForProtocolBefore49(validators, numSeats) {\n    const stakes = validators.map(v => new bn_js_1.default(v.stake, 10)).sort((a, b) => a.cmp(b));\n    const num = new bn_js_1.default(numSeats);\n    const stakesSum = stakes.reduce((a, b) => a.add(b));\n    if (stakesSum.lt(num)) {\n        throw new Error('Stakes are below seats');\n    }\n    // assert stakesSum >= numSeats\n    let left = new bn_js_1.default(1), right = stakesSum.add(new bn_js_1.default(1));\n    while (!left.eq(right.sub(new bn_js_1.default(1)))) {\n        const mid = left.add(right).div(new bn_js_1.default(2));\n        let found = false;\n        let currentSum = new bn_js_1.default(0);\n        for (let i = 0; i < stakes.length; ++i) {\n            currentSum = currentSum.add(stakes[i].div(mid));\n            if (currentSum.gte(num)) {\n                left = mid;\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            right = mid;\n        }\n    }\n    return left;\n}\n// nearcore reference: https://github.com/near/nearcore/blob/5a8ae263ec07930cd34d0dcf5bcee250c67c02aa/chain/epoch_manager/src/validator_selection.rs#L308;L315\nfunction findSeatPriceForProtocolAfter49(validators, maxNumberOfSeats, minimumStakeRatio) {\n    if (minimumStakeRatio.length != 2) {\n        throw Error('minimumStakeRatio should have 2 elements');\n    }\n    const stakes = validators.map(v => new bn_js_1.default(v.stake, 10)).sort((a, b) => a.cmp(b));\n    const stakesSum = stakes.reduce((a, b) => a.add(b));\n    if (validators.length < maxNumberOfSeats) {\n        return stakesSum.mul(new bn_js_1.default(minimumStakeRatio[0])).div(new bn_js_1.default(minimumStakeRatio[1]));\n    }\n    else {\n        return stakes[0].add(new bn_js_1.default(1));\n    }\n}\n/** Diff validators between current and next epoch.\n * Returns additions, subtractions and changes to validator set.\n * @params currentValidators: list of current validators.\n * @params nextValidators: list of next validators.\n */\nfunction diffEpochValidators(currentValidators, nextValidators) {\n    const validatorsMap = new Map();\n    currentValidators.forEach(v => validatorsMap.set(v.account_id, v));\n    const nextValidatorsSet = new Set(nextValidators.map(v => v.account_id));\n    return {\n        newValidators: nextValidators.filter(v => !validatorsMap.has(v.account_id)),\n        removedValidators: currentValidators.filter(v => !nextValidatorsSet.has(v.account_id)),\n        changedValidators: nextValidators.filter(v => (validatorsMap.has(v.account_id) && validatorsMap.get(v.account_id).stake != v.stake))\n            .map(v => ({ current: validatorsMap.get(v.account_id), next: v }))\n    };\n}\nexports.diffEpochValidators = diffEpochValidators;\n","module.exports = function () {\r\n    throw new Error(\"Not implemented.\");\r\n};","var CapabilityDetector = require(\"./CapabilityDetector\");\r\n\r\nvar detector = new CapabilityDetector();\r\n\r\nvar capability = function (name) {\r\n    return detector.test(name);\r\n};\r\ncapability.define = function (name, test) {\r\n    detector.define(name, test);\r\n};\r\ncapability.check = function (name) {\r\n    detector.check(name);\r\n};\r\ncapability.test = capability;\r\n\r\nmodule.exports = capability;","var cache = require(\"u3\").cache,\r\n    prepareStackTrace = require(\"./prepareStackTrace\");\r\n\r\nmodule.exports = function () {\r\n\r\n    Error.captureStackTrace = function (throwable, terminator) {\r\n        Object.defineProperties(throwable, {\r\n            stack: {\r\n                configurable: true,\r\n                get: cache(function () {\r\n                    return (Error.prepareStackTrace || prepareStackTrace)(throwable, []);\r\n                })\r\n            },\r\n            cachedStack: {\r\n                configurable: true,\r\n                writable: true,\r\n                enumerable: false,\r\n                value: true\r\n            }\r\n        });\r\n    };\r\n\r\n    Error.getStackTrace = function (throwable) {\r\n        if (throwable.cachedStack)\r\n            return throwable.stack;\r\n        var stack = (Error.prepareStackTrace || prepareStackTrace)(throwable, []);\r\n        try {\r\n            Object.defineProperties(throwable, {\r\n                stack: {\r\n                    configurable: true,\r\n                    writable: true,\r\n                    enumerable: false,\r\n                    value: stack\r\n                },\r\n                cachedStack: {\r\n                    configurable: true,\r\n                    writable: true,\r\n                    enumerable: false,\r\n                    value: true\r\n                }\r\n            });\r\n        } catch (nonConfigurableError) {\r\n        }\r\n        return stack;\r\n    };\r\n\r\n    return {\r\n        prepareStackTrace: prepareStackTrace\r\n    };\r\n};","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Near = void 0;\n/**\n * This module contains the main class developers will use to interact with NEAR.\n * The {@link Near} class is used to interact with {@link Account | Accounts} through the {@link JsonRpcProvider.JsonRpcProvider | JsonRpcProvider}.\n * It is configured via the {@link NearConfig}.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#account}\n *\n * @module near\n */\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst account_1 = require(\"./account\");\nconst connection_1 = require(\"./connection\");\nconst contract_1 = require(\"./contract\");\nconst account_creator_1 = require(\"./account_creator\");\n/**\n * This is the main class developers should use to interact with NEAR.\n * @example\n * ```js\n * const near = new Near(config);\n * ```\n */\nclass Near {\n    constructor(config) {\n        this.config = config;\n        this.connection = connection_1.Connection.fromConfig({\n            networkId: config.networkId,\n            provider: { type: 'JsonRpcProvider', args: { url: config.nodeUrl, headers: config.headers } },\n            signer: config.signer || { type: 'InMemorySigner', keyStore: config.keyStore || config.deps.keyStore }\n        });\n        if (config.masterAccount) {\n            // TODO: figure out better way of specifiying initial balance.\n            // Hardcoded number below must be enough to pay the gas cost to dev-deploy with near-shell for multiple times\n            const initialBalance = config.initialBalance ? new bn_js_1.default(config.initialBalance) : new bn_js_1.default('500000000000000000000000000');\n            this.accountCreator = new account_creator_1.LocalAccountCreator(new account_1.Account(this.connection, config.masterAccount), initialBalance);\n        }\n        else if (config.helperUrl) {\n            this.accountCreator = new account_creator_1.UrlAccountCreator(this.connection, config.helperUrl);\n        }\n        else {\n            this.accountCreator = null;\n        }\n    }\n    /**\n     * @param accountId near accountId used to interact with the network.\n     */\n    async account(accountId) {\n        const account = new account_1.Account(this.connection, accountId);\n        return account;\n    }\n    /**\n     * Create an account using the {@link AccountCreator}. Either:\n     * * using a masterAccount with {@link LocalAccountCreator}\n     * * using the helperUrl with {@link UrlAccountCreator}\n     * @see {@link NearConfig.masterAccount} and {@link NearConfig.helperUrl}-\n     *\n     * @param accountId\n     * @param publicKey\n     */\n    async createAccount(accountId, publicKey) {\n        if (!this.accountCreator) {\n            throw new Error('Must specify account creator, either via masterAccount or helperUrl configuration settings.');\n        }\n        await this.accountCreator.createAccount(accountId, publicKey);\n        return new account_1.Account(this.connection, accountId);\n    }\n    /**\n     * @deprecated Use {@link Contract} instead.\n     * @param contractId\n     * @param options\n     */\n    async loadContract(contractId, options) {\n        const account = new account_1.Account(this.connection, options.sender);\n        return new contract_1.Contract(account, contractId, options);\n    }\n    /**\n     * @deprecated Use {@link Account.sendMoney} instead.\n     * @param amount\n     * @param originator\n     * @param receiver\n     */\n    async sendTokens(amount, originator, receiver) {\n        console.warn('near.sendTokens is deprecated. Use `yourAccount.sendMoney` instead.');\n        const account = new account_1.Account(this.connection, originator);\n        const result = await account.sendMoney(receiver, amount);\n        return result.transaction_outcome.id;\n    }\n}\nexports.Near = Near;\n","// Styles\nimport './VMain.sass'\n\n// Mixins\nimport SSRBootable from '../../mixins/ssr-bootable'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default SSRBootable.extend({\n  name: 'v-main',\n\n  props: {\n    tag: {\n      type: String,\n      default: 'main',\n    },\n  },\n\n  computed: {\n    styles (): object {\n      const {\n        bar, top, right, footer, insetFooter, bottom, left,\n      } = this.$vuetify.application\n\n      return {\n        paddingTop: `${top + bar}px`,\n        paddingRight: `${right}px`,\n        paddingBottom: `${footer + insetFooter + bottom}px`,\n        paddingLeft: `${left}px`,\n      }\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-main',\n      style: this.styles,\n      ref: 'main',\n    }\n\n    return h(this.tag, data, [\n      h(\n        'div',\n        { staticClass: 'v-main__wrap' },\n        this.$slots.default\n      ),\n    ])\n  },\n})\n","module.exports = {\r\n    Class: require(\"./Class\"),\r\n    abstractMethod: require(\"./abstractMethod\")\r\n};","module.exports = __webpack_public_path__ + \"img/audio2-login.57daaed3.png\";","module.exports = function eachCombination(alternativesByDimension, callback, combination) {\r\n    if (!combination)\r\n        combination = [];\r\n    if (combination.length < alternativesByDimension.length) {\r\n        var alternatives = alternativesByDimension[combination.length];\r\n        for (var index in alternatives) {\r\n            combination[combination.length] = alternatives[index];\r\n            eachCombination(alternativesByDimension, callback, combination);\r\n            --combination.length;\r\n        }\r\n    }\r\n    else\r\n        callback.apply(null, combination);\r\n};"],"sourceRoot":""}